<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>cprinter.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.1.5 on Sat Feb 24 14:13:53 2001 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>cprinter.h</h1><a href="cprinter.h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/***************************************************************************
</font>00002 <font class="comment">                          cprinter.h  -  description
</font>00003 <font class="comment">                             -------------------
</font>00004 <font class="comment">    begin                : Sat Aug 5 2000
</font>00005 <font class="comment">    copyright            : (C) 2000 by The BibleTime team
</font>00006 <font class="comment">    email                : info@bibletime.de
</font>00007 <font class="comment"> ***************************************************************************/</font>
00008 
00009 <font class="comment">/***************************************************************************
</font>00010 <font class="comment"> *                                                                         *
</font>00011 <font class="comment"> *   This program is free software; you can redistribute it and/or modify  *
</font>00012 <font class="comment"> *   it under the terms of the GNU General Public License as published by  *
</font>00013 <font class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *
</font>00014 <font class="comment"> *   (at your option) any later version.                                   *
</font>00015 <font class="comment"> *                                                                         *
</font>00016 <font class="comment"> ***************************************************************************/</font>
00017 
00018 <font class="preprocessor">#ifndef CPRINTER_H
</font>00019 <font class="preprocessor"></font><font class="preprocessor">#define CPRINTER_H
</font>00020 <font class="preprocessor"></font>
00021 <font class="comment">//BibleTime includes</font>
00022 <font class="preprocessor">#include &lt;time.h&gt;</font>
00023 <font class="preprocessor">#include "<a class="code" href="structdef.h.html">../structdef.h</a>"</font>
00024 <font class="preprocessor">#include "<a class="code" href="cprintitemlist.h.html">cprintitemlist.h</a>"</font>
00025 <font class="preprocessor">#include "<a class="code" href="cprintitem.h.html">cprintitem.h</a>"</font>
00026 <font class="preprocessor">#include "<a class="code" href="cstylelist.h.html">cstylelist.h</a>"</font>
00027 <font class="preprocessor">#include "<a class="code" href="cstyle.h.html">cstyle.h</a>"</font>
00028 
00029 <font class="comment">//Qt includes</font>
00030 <font class="preprocessor">#include &lt;qprinter.h&gt;</font>
00031 <font class="preprocessor">#include &lt;qobject.h&gt;</font>
00032 <font class="preprocessor">#include &lt;qpainter.h&gt;</font>
00033 
00034 
00041 <font class="keyword">class </font><a class="code" href="class_cprinterdialog.html">CPrinterDialog</a>;
00042 <font class="keyword">class </font><a class="code" href="class_cprintitem.html">CPrintItem</a>;
00043 <font class="keyword">class </font><a class="code" href="class_cswordbackend.html">CSwordBackend</a>;
00044 
00045 <font class="keyword">class </font>KConfig;
00046 
<a name="l00047"></a><a class="code" href="class_cprinter.html">00047</a> <font class="keyword">class </font><a class="code" href="class_cprinter.html">CPrinter</a> : <font class="keyword">public</font> <a class="code" href="class_qobject.html">QObject</a>, <font class="keyword">public</font> <a class="code" href="class_qprinter.html">QPrinter</a>  {
00048     Q_OBJECT
00049 <font class="keyword">public</font>: 
<a name="l00050"></a><a class="code" href="class_cprinter__cpagesize.html">00050</a>     <font class="keyword">struct </font>CPageSize {
<a name="l00051"></a><a class="code" href="class_cprinter__cpagesize.html#m0">00051</a>       <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> width;
<a name="l00052"></a><a class="code" href="class_cprinter__cpagesize.html#m1">00052</a>       <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> height;
00053     };
<a name="l00054"></a><a class="code" href="class_cprinter__cpageposition.html">00054</a>     <font class="keyword">struct </font>CPagePosition {
<a name="l00055"></a><a class="code" href="class_cprinter__cpageposition.html#m0">00055</a>       <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> curPage;
<a name="l00056"></a><a class="code" href="class_cprinter__cpageposition.html#m1">00056</a>       QRect rect;
<a name="l00057"></a><a class="code" href="class_cprinter__cpageposition.html#m2">00057</a>       time_t now;
00058     };  
<a name="l00059"></a><a class="code" href="class_cprinter__cpagemargin.html">00059</a>     <font class="keyword">struct </font>CPageMargin {
<a name="l00060"></a><a class="code" href="class_cprinter__cpagemargin.html#m0">00060</a>       <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> top;
<a name="l00061"></a><a class="code" href="class_cprinter__cpagemargin.html#m1">00061</a>       <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> right;
<a name="l00062"></a><a class="code" href="class_cprinter__cpagemargin.html#m2">00062</a>       <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> bottom;
<a name="l00063"></a><a class="code" href="class_cprinter__cpagemargin.html#m3">00063</a>         <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> left;
00064     };
<a name="l00065"></a><a class="code" href="class_cprinter__cpageheader.html">00065</a>     <font class="keyword">struct </font>CPageHeader
00066     {
<a name="l00067"></a><a class="code" href="class_cprinter__cpageheader.html#s7">00067</a>       <font class="keyword">enum</font> CHeaderString
00068       {
00069         NoString = 0,
00070         DateTime,
00071         PageNumber,
00072         FreeString
00073       };
<a name="l00074"></a><a class="code" href="class_cprinter__cpageheader.html#s8">00074</a>       <font class="keyword">enum</font> CHeaderLine
00075       {
00076         NoLine = 0,
00077         SingleLine,
00078         Rectangle
00079       };
<a name="l00080"></a><a class="code" href="class_cprinter__cpageheader.html#m0">00080</a>       <font class="keywordtype">bool</font> enable;
<a name="l00081"></a><a class="code" href="class_cprinter__cpageheader.html#m1">00081</a>       CHeaderString pos[2]; <font class="comment">// left, right</font>
<a name="l00082"></a><a class="code" href="class_cprinter__cpageheader.html#m2">00082</a>       CHeaderLine line;
00083     };  
<a name="l00084"></a><a class="code" href="class_cprinter.html#s2">00084</a>     <font class="keyword">enum</font> CHeaderType {
00085         header = 0,
00086         footer
00087     };  
00088 
00089     CPrinter( <a class="code" href="class_cimportantclasses.html">CImportantClasses</a>* important, <a class="code" href="class_qobject.html">QObject</a>* parent = 0 );
00090     ~CPrinter();
00094   <font class="keyword">virtual</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> rightMargin();
00098   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setRightMargin( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> margin );
00102   <font class="keyword">virtual</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> leftMargin();
00106   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setLeftMargin( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> margin );
00110   <font class="keyword">virtual</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> upperMargin();
00114   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setUpperMargin( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> margin );
00118   <font class="keyword">virtual</font> <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> lowerMargin();
00122   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setLowerMargin( <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> margin );
00126   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setPreviewApplication( <font class="keyword">const</font> QString&amp; );
00130   <font class="keyword">virtual</font> QString getPreviewApplication();
00134   <font class="keyword">virtual</font> <font class="keywordtype">void</font> printFooter( QPainter* painter );
00138   <font class="keyword">virtual</font> <font class="keywordtype">void</font> printHeader( QPainter* painter);
00139   <font class="keyword">virtual</font> <font class="keywordtype">bool</font> newPage();
00143   <font class="keyword">virtual</font> <a class="code" href="class_cprinter__cpagemargin.html">CPrinter::CPageMargin</a> getPageMargins();
00147   <font class="keyword">virtual</font> <font class="keywordtype">void</font> drawHeader(QPainter *paint, <font class="keywordtype">int</font> sx, <font class="keywordtype">int</font> width, <font class="keywordtype">int</font> y, CPrinter::CHeaderType type, <font class="keyword">const</font> <a class="code" href="class_cprinter__cpageheader.html">CPrinter::CPageHeader</a> header, <font class="keyword">const</font> <a class="code" href="class_cprinter__cpageposition.html">CPrinter::CPagePosition</a> position);
00151   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setAllMargins( CPageMargin margins );
00155   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setup( <a class="code" href="class_qwidget.html">QWidget</a>* parent );
00160   <font class="keyword">virtual</font> <font class="keywordtype">void</font> printItem( QPainter* p, <a class="code" href="class_cprintitem.html">CPrintItem</a>* item);
00164   <font class="keyword">virtual</font> <font class="keywordtype">bool</font> getPreview();
00168   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setPreview( <font class="keywordtype">bool</font> usePreview );
00172   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setPageHeader( <font class="keywordtype">bool</font> enableHeader, CPageHeader header);
00176   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setPageFooter( <font class="keywordtype">bool</font> enableFooter, CPageHeader footer);
00180   <font class="keyword">virtual</font> <font class="keywordtype">void</font> printQueue();
00184   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setPrintQueue( printItemList* queue);
00188   <font class="keyword">virtual</font> printItemList* getPrintQueue();
00192   <font class="keyword">virtual</font> <font class="keywordtype">void</font> appendItemsToQueue( printItemList* items );
00196   <font class="keyword">virtual</font> <font class="keywordtype">void</font> addItemToQueue( <a class="code" href="class_cprintitem.html">CPrintItem</a>* newItem);
00200   <font class="keyword">virtual</font> <font class="keywordtype">void</font> setStyleList( styleItemList* list);
00204   <font class="keyword">virtual</font> styleItemList* getStyleList();
00208   <font class="keyword">virtual</font> QRect getPageSize();
00212   KConfig* getConfig();
00213 
00214 <font class="keyword">public</font> slots: <font class="comment">// Public slots
</font>00218 <font class="comment"></font>  <font class="keywordtype">void</font> clearQueue();
00219 
00220 <font class="keyword">protected</font>:
00224   <font class="keywordtype">void</font> saveStyles();
00228   <font class="keywordtype">void</font> setupStyles();
00232   <font class="keywordtype">void</font> saveSettings();
00236   <font class="keywordtype">void</font> readSettings();
00240   <font class="keywordtype">void</font> setupStandardStyle();
00241 
00242 <font class="keyword">private</font>:
<a name="l00243"></a><a class="code" href="class_cprinter.html#o0">00243</a>     CPageMargin m_pageMargin;
<a name="l00244"></a><a class="code" href="class_cprinter.html#o1">00244</a>     CPagePosition   m_pagePosition;
<a name="l00245"></a><a class="code" href="class_cprinter.html#o2">00245</a>     CPageHeader m_pageHeader;
<a name="l00246"></a><a class="code" href="class_cprinter.html#o3">00246</a>     CPageHeader m_pageFooter;
<a name="l00247"></a><a class="code" href="class_cprinter.html#o4">00247</a>     QString m_previewApplication;
<a name="l00248"></a><a class="code" href="class_cprinter.html#o5">00248</a>     QString m_filename;
<a name="l00249"></a><a class="code" href="class_cprinter.html#o6">00249</a>     <font class="keywordtype">bool</font> m_printIntoFile;
<a name="l00250"></a><a class="code" href="class_cprinter.html#o7">00250</a>     <font class="keywordtype">bool</font> m_usePreview;
<a name="l00251"></a><a class="code" href="class_cprinter.html#o8">00251</a>     <a class="code" href="class_cswordbackend.html">CSwordBackend</a>*  m_backend;
<a name="l00252"></a><a class="code" href="class_cprinter.html#o9">00252</a>     <a class="code" href="class_cimportantclasses.html">CImportantClasses</a>* m_important;
<a name="l00253"></a><a class="code" href="class_cprinter.html#o10">00253</a>     printItemList* m_queue;
<a name="l00254"></a><a class="code" href="class_cprinter.html#o11">00254</a>     styleItemList*  m_styleList;
<a name="l00255"></a><a class="code" href="class_cprinter.html#o12">00255</a>     KConfig* config;
00256 
00257 signals: <font class="comment">// Signals
</font>00261 <font class="comment"></font>  <font class="keywordtype">void</font> printedOneItem();
00265   <font class="keywordtype">void</font> printingFinished();
00269   <font class="keywordtype">void</font> printingInterrupted();
00273   <font class="keywordtype">void</font> printingStarted();   
00279   <font class="keywordtype">void</font> addedFirstQueueItem();   
00283   <font class="keywordtype">void</font> queueCleared();
00284 };
00285 
00286 <font class="preprocessor">#endif
</font></div></pre><hr><address><small>Generated at Sat Feb 24 14:13:54 2001 for BibleTime by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=110 height=53></a>1.1.5 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-2000</small></address>
</body>
</html>
