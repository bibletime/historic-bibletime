<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>qrichtext_p.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.1.5 on Sat Feb 24 14:13:56 2001 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>qrichtext_p.h</h1><a href="qrichtext_p.h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/****************************************************************************
</font>00002 <font class="comment">** $Id$
</font>00003 <font class="comment">**
</font>00004 <font class="comment">** Definition of internal rich text classes
</font>00005 <font class="comment">**
</font>00006 <font class="comment">** Created : 990124
</font>00007 <font class="comment">**
</font>00008 <font class="comment">** Copyright (C) 1999-2000 Trolltech AS.  All rights reserved.
</font>00009 <font class="comment">**
</font>00010 <font class="comment">** This file is part of the kernel module of the Qt GUI Toolkit.
</font>00011 <font class="comment">**
</font>00012 <font class="comment">** This file may be distributed under the terms of the Q Public License
</font>00013 <font class="comment">** as defined by Trolltech AS of Norway and appearing in the file
</font>00014 <font class="comment">** LICENSE.QPL included in the packaging of this file.
</font>00015 <font class="comment">**
</font>00016 <font class="comment">** This file may be distributed and/or modified under the terms of the
</font>00017 <font class="comment">** GNU General Public License version 2 as published by the Free Software
</font>00018 <font class="comment">** Foundation and appearing in the file LICENSE.GPL included in the
</font>00019 <font class="comment">** packaging of this file.
</font>00020 <font class="comment">**
</font>00021 <font class="comment">** Licensees holding valid Qt Enterprise Edition or Qt Professional Edition
</font>00022 <font class="comment">** licenses may use this file in accordance with the Qt Commercial License
</font>00023 <font class="comment">** Agreement provided with the Software.
</font>00024 <font class="comment">**
</font>00025 <font class="comment">** This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE
</font>00026 <font class="comment">** WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
</font>00027 <font class="comment">**
</font>00028 <font class="comment">** See http://www.trolltech.com/pricing.html or email sales@trolltech.com for
</font>00029 <font class="comment">**   information about Qt Commercial License Agreements.
</font>00030 <font class="comment">** See http://www.trolltech.com/qpl/ for QPL licensing information.
</font>00031 <font class="comment">** See http://www.trolltech.com/gpl/ for GPL licensing information.
</font>00032 <font class="comment">**
</font>00033 <font class="comment">** Contact info@trolltech.com if any conditions of this licensing are
</font>00034 <font class="comment">** not clear to you.
</font>00035 <font class="comment">**
</font>00036 <font class="comment">**********************************************************************/</font>
00037 
00038 <font class="preprocessor">#ifndef QRICHTEXT_P_H
</font>00039 <font class="preprocessor"></font><font class="preprocessor">#define QRICHTEXT_P_H
</font>00040 <font class="preprocessor"></font>
00041 <font class="comment">//</font>
00042 <font class="comment">//  W A R N I N G</font>
00043 <font class="comment">//  -------------</font>
00044 <font class="comment">//</font>
00045 <font class="comment">// This file is not part of the Qt API.  It exists for the convenience</font>
00046 <font class="comment">// of a number of Qt sources files.  This header file may change from</font>
00047 <font class="comment">// version to version without notice, or even be removed.</font>
00048 <font class="comment">//</font>
00049 <font class="comment">// We mean it.</font>
00050 <font class="comment">//</font>
00051 <font class="comment">//</font>
00052 
00053 <font class="preprocessor">#ifndef QT_H
</font>00054 <font class="preprocessor"></font><font class="preprocessor">#include "<a class="code" href="qt3stuff.h.html">qt3stuff.h</a>"</font>
00055 <font class="preprocessor">#include "qstring.h"</font>
00056 <font class="preprocessor">#include "qlist.h"</font>
00057 <font class="preprocessor">#include "qrect.h"</font>
00058 <font class="preprocessor">#include "qfontmetrics.h"</font>
00059 <font class="preprocessor">#include "qintdict.h"</font>
00060 <font class="preprocessor">#include "qmap.h"</font>
00061 <font class="preprocessor">#include "qstringlist.h"</font>
00062 <font class="preprocessor">#include "qfont.h"</font>
00063 <font class="preprocessor">#include "qcolor.h"</font>
00064 <font class="preprocessor">#include "qsize.h"</font>
00065 <font class="preprocessor">#include "qvaluelist.h"</font>
00066 <font class="preprocessor">#include "qvaluestack.h"</font>
00067 <font class="preprocessor">#include "qobject.h"</font>
00068 <font class="preprocessor">#include "qdict.h"</font>
00069 <font class="preprocessor">#include "qtextstream.h"</font>
00070 <font class="preprocessor">#include "qpixmap.h"</font>
00071 <font class="preprocessor">#include "<a class="code" href="qstylesheet.h.html">qstylesheet.h</a>"</font>
00072 <font class="preprocessor">#include "qvector.h"</font>
00073 <font class="preprocessor">#include "qpainter.h"</font>
00074 <font class="preprocessor">#include "qlayout.h"</font>
00075 <font class="preprocessor">#include "qobject.h"</font>
00076 <font class="preprocessor">#include &lt;limits.h&gt;</font>
00077 <font class="preprocessor">#include "<a class="code" href="qcomplextext_p.h.html">qcomplextext_p.h</a>"</font>
00078 <font class="preprocessor">#include "qapplication.h"</font>
00079 <font class="preprocessor">#endif // QT_H
</font>00080 <font class="preprocessor"></font>
00081 <font class="comment">// We need this to avoid clashes</font>
00082 <font class="keyword">namespace</font> Qt3 {
00083 
00084 <font class="comment">//#define DEBUG_COLLECTION</font>
00085 
00086 <font class="keyword">class </font>QTextDocument;
00087 <font class="keyword">class </font>QTextString;
00088 <font class="keyword">class </font>QTextPreProcessor;
00089 <font class="keyword">class </font>QTextFormat;
00090 <font class="keyword">class </font>QTextCursor;
00091 <font class="keyword">class </font>QTextParag;
00092 <font class="keyword">class </font>QTextFormatter;
00093 <font class="keyword">class </font>QTextIndent;
00094 <font class="keyword">class </font>QTextFormatCollection;
00095 <font class="keyword">class </font>QStyleSheetItem;
00096 <font class="keyword">class </font>QTextCustomItem;
00097 <font class="keyword">class </font>QTextFlow;
00098 <font class="keyword">struct </font>QBidiContext;
00099 
00100 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
00101 
<a name="l00102"></a><a class="code" href="class_qt3__qtextstringchar.html">00102</a> <font class="keyword">class </font>Q_EXPORT QTextStringChar
00103 {
<a name="l00104"></a><a class="code" href="class_qt3__qtextstringchar.html#l0">00104</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextString;
00105 
00106 <font class="keyword">public</font>:
00107     <font class="comment">// this is never called, initialize variables in QTextString::insert()!!!</font>
<a name="l00108"></a><a class="code" href="class_qt3__qtextstringchar.html#a0">00108</a>     QTextStringChar() : lineStart( 0 ), type( Regular )<font class="keyword"> </font>{d.format=0;}
00109     ~QTextStringChar();
<a name="l00110"></a><a class="code" href="class_qt3__qtextstringchar.html#m0">00110</a>     QChar c;
<a name="l00111"></a><a class="code" href="class_qt3__qtextstringchar.html#s6">00111</a>     <font class="keyword">enum</font> Type { Regular, Custom, Mark, Shaped, LigatureFirst, Ligature };
<a name="l00112"></a><a class="code" href="class_qt3__qtextstringchar.html#m1">00112</a>     uint lineStart : 1;
<a name="l00113"></a><a class="code" href="class_qt3__qtextstringchar.html#m2">00113</a>     uint rightToLeft : 1;
<a name="l00114"></a><a class="code" href="class_qt3__qtextstringchar.html#m3">00114</a>     uint hasCursor : 1;
<a name="l00115"></a><a class="code" href="class_qt3__qtextstringchar.html#m4">00115</a>     uint canBreak : 1;
<a name="l00116"></a><a class="code" href="class_qt3__qtextstringchar.html#m5">00116</a>     Type type : 3;
00117 
<a name="l00118"></a><a class="code" href="class_qt3__qtextstringchar.html#m6">00118</a>     <font class="keywordtype">int</font> x;
00119     <font class="keywordtype">int</font> height() <font class="keyword">const</font>;
00120     <font class="keywordtype">int</font> ascent() <font class="keyword">const</font>;
00121     <font class="keywordtype">int</font> descent() <font class="keyword">const</font>;
<a name="l00122"></a><a class="code" href="class_qt3__qtextstringchar.html#a5">00122</a>     <font class="keywordtype">bool</font> isCustom()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> type == Custom; }
00123     QTextFormat *format() <font class="keyword">const</font>;
00124     QTextCustomItem *customItem() <font class="keyword">const</font>;
00125     <font class="keywordtype">void</font> setFormat( QTextFormat *f );
00126     <font class="keywordtype">void</font> setCustomItem( QTextCustomItem *i );
00127     QTextStringChar *clone() <font class="keyword">const</font>;
<a name="l00128"></a><a class="code" href="class_qt3__qtextstringchar__customdata.html">00128</a>         <font class="keyword">struct </font>CustomData
00129     {
<a name="l00130"></a><a class="code" href="class_qt3__qtextstringchar__customdata.html#m0">00130</a>     QTextFormat *format;
<a name="l00131"></a><a class="code" href="class_qt3__qtextstringchar__customdata.html#m1">00131</a>     QTextCustomItem *custom;
00132     };
00133 
<a name="l00134"></a><a class="code" href="class_qt3__qtextstringchar__markdata.html">00134</a>     <font class="keyword">struct </font>MarkData
00135     {
<a name="l00136"></a><a class="code" href="class_qt3__qtextstringchar__markdata.html#m0">00136</a>     QTextFormat *format;
<a name="l00137"></a><a class="code" href="class_qt3__qtextstringchar__markdata.html#m1">00137</a>     <font class="keywordtype">short</font> xoff; <font class="comment">// x offset for painting the Mark</font>
<a name="l00138"></a><a class="code" href="class_qt3__qtextstringchar__markdata.html#m2">00138</a>     <font class="keywordtype">short</font> yoff; <font class="comment">// y offset for painting the Mark</font>
00139     };
00140 
<a name="l00141"></a><a class="code" href="class_qt3__qtextstringchar__shapeddata.html">00141</a>     <font class="keyword">struct </font>ShapedData
00142     {
<a name="l00143"></a><a class="code" href="class_qt3__qtextstringchar__shapeddata.html#m0">00143</a>     QTextFormat *format;
<a name="l00144"></a><a class="code" href="class_qt3__qtextstringchar__shapeddata.html#m1">00144</a>     QChar shapedGlyph;
00145     };
00146 
<a name="l00147"></a><a class="code" href="class_qt3__qtextstringchar__ligaturedata.html">00147</a>     <font class="keyword">struct </font>LigatureData
00148     {
<a name="l00149"></a><a class="code" href="class_qt3__qtextstringchar__ligaturedata.html#m0">00149</a>     QTextFormat *format;
<a name="l00150"></a><a class="code" href="class_qt3__qtextstringchar__ligaturedata.html#m1">00150</a>     QChar ligature;
<a name="l00151"></a><a class="code" href="class_qt3__qtextstringchar__ligaturedata.html#m2">00151</a>     <font class="keywordtype">unsigned</font> <font class="keywordtype">short</font> nchars; <font class="comment">// length of the ligature in decomposed form</font>
00152     };
00153 
00154     <font class="keyword">union </font>{
<a name="l00155"></a><a class="code" href="class_qt3__qtextstringchar.html#a6">00155</a>     QTextFormat* format;
<a name="l00156"></a><a class="code" href="class_qt3__qtextstringchar.html#m7">00156</a>     CustomData* custom;
<a name="l00157"></a><a class="code" href="class_qt3__qtextstringchar.html#m8">00157</a>     MarkData *mark;
<a name="l00158"></a><a class="code" href="class_qt3__qtextstringchar.html#m9">00158</a>     ShapedData *shaped;
<a name="l00159"></a><a class="code" href="class_qt3__qtextstringchar.html#m10">00159</a>     LigatureData *ligature;
00160     } d;
00161 
00162 <font class="keyword">private</font>:
<a name="l00163"></a><a class="code" href="class_qt3__qtextstringchar.html#c0">00163</a>     QTextStringChar &amp;operator=( <font class="keyword">const</font> QTextStringChar &amp; )<font class="keyword"> </font>{
00164     <font class="comment">//abort();</font>
00165     <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00166     }
<a name="l00167"></a><a class="code" href="class_qt3__qtextstringchar.html#l1">00167</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QComplexText;
<a name="l00168"></a><a class="code" href="class_qt3__qtextstringchar.html#l2">00168</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextParag;
00169 };
00170 
00171 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>00172 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
00173 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QArray&lt;QTextStringChar&gt;;
00174 <font class="comment">// MOC_SKIP_END</font>
00175 <font class="preprocessor">#endif
</font>00176 <font class="preprocessor"></font>
<a name="l00177"></a><a class="code" href="class_qt3__qtextstring.html">00177</a> <font class="keyword">class </font>Q_EXPORT QTextString
00178 {
00179 <font class="keyword">public</font>:
00180 
00181     QTextString();
00182     QTextString( <font class="keyword">const</font> QTextString &amp;s );
00183     ~QTextString();
00184 
00185     QString toString() <font class="keyword">const</font>;
00186     <font class="keyword">static</font> QString toString( <font class="keyword">const</font> QArray&lt;QTextStringChar&gt; &amp;data );
00187     QString toReverseString() <font class="keyword">const</font>;
00188 
00189     QTextStringChar &amp;at( <font class="keywordtype">int</font> i ) <font class="keyword">const</font>;
00190     <font class="keywordtype">int</font> length() <font class="keyword">const</font>;
00191 
00192     <font class="keywordtype">int</font> width( <font class="keywordtype">int</font> idx ) <font class="keyword">const</font>;
00193 
00194     <font class="keywordtype">void</font> insert( <font class="keywordtype">int</font> index, <font class="keyword">const</font> QString &amp;s, QTextFormat *f );
00195     <font class="keywordtype">void</font> insert( <font class="keywordtype">int</font> index, QTextStringChar *c );
00196     <font class="keywordtype">void</font> truncate( <font class="keywordtype">int</font> index );
00197     <font class="keywordtype">void</font> remove( <font class="keywordtype">int</font> index, <font class="keywordtype">int</font> len );
00198     <font class="keywordtype">void</font> clear();
00199 
00200     <font class="keywordtype">void</font> setFormat( <font class="keywordtype">int</font> index, QTextFormat *f, <font class="keywordtype">bool</font> useCollection );
00201 
<a name="l00202"></a><a class="code" href="class_qt3__qtextstring.html#a14">00202</a>     <font class="keywordtype">void</font> setTextChanged( <font class="keywordtype">bool</font> b )<font class="keyword"> </font>{ textChanged = b; }
<a name="l00203"></a><a class="code" href="class_qt3__qtextstring.html#a15">00203</a>     <font class="keywordtype">void</font> setBidi( <font class="keywordtype">bool</font> b )<font class="keyword"> </font>{ bidi = b; }
<a name="l00204"></a><a class="code" href="class_qt3__qtextstring.html#a16">00204</a>     <font class="keywordtype">bool</font> isTextChanged()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> textChanged; }
00205     <font class="keywordtype">bool</font> isBidi() <font class="keyword">const</font>;
00206     <font class="keywordtype">bool</font> isRightToLeft() <font class="keyword">const</font>;
00207 
00208     QArray&lt;QTextStringChar&gt; subString( <font class="keywordtype">int</font> start = 0, <font class="keywordtype">int</font> len = 0xFFFFFF ) <font class="keyword">const</font>;
<a name="l00209"></a><a class="code" href="class_qt3__qtextstring.html#a20">00209</a>     QArray&lt;QTextStringChar&gt; rawData()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> data; }
00210 
<a name="l00211"></a><a class="code" href="class_qt3__qtextstring.html#a21">00211</a>     <font class="keywordtype">void</font> operator=( <font class="keyword">const</font> QString &amp;s )<font class="keyword"> </font>{ clear(); insert( 0, s, 0 ); }
<a name="l00212"></a><a class="code" href="class_qt3__qtextstring.html#a22">00212</a>     <font class="keywordtype">void</font> operator+=( <font class="keyword">const</font> QString &amp;s )<font class="keyword"> </font>{ insert( length(), s, 0 ); }
<a name="l00213"></a><a class="code" href="class_qt3__qtextstring.html#a23">00213</a>     <font class="keywordtype">void</font> prepend( <font class="keyword">const</font> QString &amp;s )<font class="keyword"> </font>{ insert( 0, s, 0 ); }
00214 
00215 <font class="keyword">private</font>:
00216     <font class="keywordtype">void</font> checkBidi() <font class="keyword">const</font>;
00217     <font class="keywordtype">void</font> basicDirection() <font class="keyword">const</font>;
00218 
<a name="l00219"></a><a class="code" href="class_qt3__qtextstring.html#o0">00219</a>     QArray&lt;QTextStringChar&gt; data;
<a name="l00220"></a><a class="code" href="class_qt3__qtextstring.html#o1">00220</a>     uint textChanged : 1;
<a name="l00221"></a><a class="code" href="class_qt3__qtextstring.html#o2">00221</a>     uint bidi : 1; <font class="comment">// true when the paragraph has right to left characters</font>
<a name="l00222"></a><a class="code" href="class_qt3__qtextstring.html#o3">00222</a>     uint rightToLeft : 1; <font class="comment">// true if the basic direction of the paragraph is right to left.</font>
00223 };
00224 
<a name="l00225"></a><a class="code" href="class_qt3__qtextstring.html#a17">00225</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextString::isBidi()<font class="keyword"> const
</font>00226 <font class="keyword"></font>{
00227     <font class="keywordflow">if</font> ( textChanged )
00228     checkBidi();
00229     <font class="keywordflow">return</font> bidi;
00230 }
00231 
<a name="l00232"></a><a class="code" href="class_qt3__qtextstring.html#a18">00232</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextString::isRightToLeft()<font class="keyword"> const
</font>00233 <font class="keyword"></font>{
00234      <font class="keywordflow">if</font> ( textChanged )
00235     checkBidi();
00236     <font class="keywordflow">return</font> rightToLeft;
00237 }
00238 
00239 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
00240 
00241 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>00242 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
00243 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QValueStack&lt;int&gt;;
00244 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QValueStack&lt;QTextParag*&gt;;
00245 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QValueStack&lt;bool&gt;;
00246 <font class="comment">// MOC_SKIP_END</font>
00247 <font class="preprocessor">#endif
</font>00248 <font class="preprocessor"></font>
<a name="l00249"></a><a class="code" href="class_qt3__qtextcursor.html">00249</a> <font class="keyword">class </font>Q_EXPORT QTextCursor
00250 {
00251 <font class="keyword">public</font>:
00252     QTextCursor( QTextDocument *d );
00253     QTextCursor();
00254     QTextCursor( <font class="keyword">const</font> QTextCursor &amp;c );
00255     QTextCursor &amp;operator=( <font class="keyword">const</font> QTextCursor &amp;c );
00256     <font class="keywordtype">bool</font> operator==( <font class="keyword">const</font> QTextCursor &amp;c ) <font class="keyword">const</font>;
<a name="l00257"></a><a class="code" href="class_qt3__qtextcursor.html#a5">00257</a>     <font class="keywordtype">bool</font> operator!=( QTextCursor &amp;c )<font class="keyword"> const </font>{ <font class="keywordflow">return</font> !(*<font class="keyword">this</font> == c); }
00258 
<a name="l00259"></a><a class="code" href="class_qt3__qtextcursor.html#a6">00259</a>     QTextDocument *document()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> doc; }
00260     <font class="keywordtype">void</font> setDocument( QTextDocument *d );
00261 
00262     QTextParag *parag() <font class="keyword">const</font>;
00263     <font class="keywordtype">int</font> index() <font class="keyword">const</font>;
00264     <font class="keywordtype">void</font> setParag( QTextParag *s, <font class="keywordtype">bool</font> restore = TRUE );
00265 
00266     <font class="keywordtype">void</font> gotoLeft();
00267     <font class="keywordtype">void</font> gotoRight();
00268     <font class="keywordtype">void</font> gotoUp();
00269     <font class="keywordtype">void</font> gotoDown();
00270     <font class="keywordtype">void</font> gotoLineEnd();
00271     <font class="keywordtype">void</font> gotoLineStart();
00272     <font class="keywordtype">void</font> gotoHome();
00273     <font class="keywordtype">void</font> gotoEnd();
00274     <font class="keywordtype">void</font> gotoPageUp( <font class="keywordtype">int</font> visibleHeight );
00275     <font class="keywordtype">void</font> gotoPageDown( <font class="keywordtype">int</font> visibleHeight );
00276     <font class="keywordtype">void</font> gotoWordLeft();
00277     <font class="keywordtype">void</font> gotoWordRight();
00278 
00279     <font class="keywordtype">void</font> insert( <font class="keyword">const</font> QString &amp;s, <font class="keywordtype">bool</font> checkNewLine, QArray&lt;QTextStringChar&gt; *formatting = 0 );
00280     <font class="keywordtype">void</font> splitAndInsertEmptyParag( <font class="keywordtype">bool</font> ind = TRUE, <font class="keywordtype">bool</font> updateIds = TRUE );
00281     <font class="keywordtype">bool</font> remove();
00282     <font class="keywordtype">void</font> killLine();
00283     <font class="keywordtype">void</font> indent();
00284 
00285     <font class="keywordtype">bool</font> atParagStart();
00286     <font class="keywordtype">bool</font> atParagEnd();
00287 
00288     <font class="keywordtype">void</font> setIndex( <font class="keywordtype">int</font> i, <font class="keywordtype">bool</font> restore = TRUE );
00289 
00290     <font class="keywordtype">void</font> checkIndex();
00291 
<a name="l00292"></a><a class="code" href="class_qt3__qtextcursor.html#a32">00292</a>     <font class="keywordtype">int</font> offsetX()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> ox; }
<a name="l00293"></a><a class="code" href="class_qt3__qtextcursor.html#a33">00293</a>     <font class="keywordtype">int</font> offsetY()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> oy; }
00294 
<a name="l00295"></a><a class="code" href="class_qt3__qtextcursor.html#a34">00295</a>     QTextParag *topParag()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> parags.isEmpty() ? string : parags.first(); }
00296     <font class="keywordtype">int</font> totalOffsetX() <font class="keyword">const</font>;
00297     <font class="keywordtype">int</font> totalOffsetY() <font class="keyword">const</font>;
00298 
00299     <font class="keywordtype">bool</font> place( <font class="keyword">const</font> QPoint &amp;pos, QTextParag *s );
00300     <font class="keywordtype">void</font> restoreState();
00301 
00302     <font class="keywordtype">int</font> x() <font class="keyword">const</font>;
00303     <font class="keywordtype">int</font> y() <font class="keyword">const</font>;
00304 
<a name="l00305"></a><a class="code" href="class_qt3__qtextcursor.html#a41">00305</a>     <font class="keywordtype">int</font> nestedDepth()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> indices.count(); }
00306 
00307 <font class="keyword">private</font>:
<a name="l00308"></a><a class="code" href="class_qt3__qtextcursor.html#u6">00308</a>     <font class="keyword">enum</font> Operation { EnterBegin, EnterEnd, Next, Prev, Up, Down };
00309 
00310     <font class="keywordtype">void</font> push();
00311     <font class="keywordtype">void</font> pop();
00312     <font class="keywordtype">void</font> processNesting( Operation op );
00313     <font class="keywordtype">void</font> invalidateNested();
00314     <font class="keywordtype">void</font> gotoIntoNested( <font class="keyword">const</font> QPoint &amp;globalPos );
00315 
<a name="l00316"></a><a class="code" href="class_qt3__qtextcursor.html#o0">00316</a>     QTextParag *string;
<a name="l00317"></a><a class="code" href="class_qt3__qtextcursor.html#o1">00317</a>     QTextDocument *doc;
<a name="l00318"></a><a class="code" href="class_qt3__qtextcursor.html#o3">00318</a>     <font class="keywordtype">int</font> idx, tmpIndex;
<a name="l00319"></a><a class="code" href="class_qt3__qtextcursor.html#o5">00319</a>     <font class="keywordtype">int</font> ox, oy;
<a name="l00320"></a><a class="code" href="class_qt3__qtextcursor.html#o6">00320</a>     QValueStack&lt;int&gt; indices;
<a name="l00321"></a><a class="code" href="class_qt3__qtextcursor.html#o7">00321</a>     QValueStack&lt;QTextParag*&gt; parags;
<a name="l00322"></a><a class="code" href="class_qt3__qtextcursor.html#o8">00322</a>     QValueStack&lt;int&gt; xOffsets;
<a name="l00323"></a><a class="code" href="class_qt3__qtextcursor.html#o9">00323</a>     QValueStack&lt;int&gt; yOffsets;
<a name="l00324"></a><a class="code" href="class_qt3__qtextcursor.html#o10">00324</a>     QValueStack&lt;bool&gt; nestedStack;
<a name="l00325"></a><a class="code" href="class_qt3__qtextcursor.html#o11">00325</a>     <font class="keywordtype">bool</font> nested;
00326 
00327 };
00328 
00329 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
00330 
<a name="l00331"></a><a class="code" href="class_qt3__qtextcommand.html">00331</a> <font class="keyword">class </font>Q_EXPORT QTextCommand
00332 {
00333 <font class="keyword">public</font>:
<a name="l00334"></a><a class="code" href="class_qt3__qtextcommand.html#s6">00334</a>     <font class="keyword">enum</font> Commands { Invalid, Insert, Delete, Format, Alignment, ParagType };
00335 
<a name="l00336"></a><a class="code" href="class_qt3__qtextcommand.html#a0">00336</a>     QTextCommand( QTextDocument *d ) : doc( d ), cursor( d )<font class="keyword"> </font>{}
<a name="l00337"></a><a class="code" href="class_qt3__qtextcommand.html#a1">00337</a>     <font class="keyword">virtual</font> ~QTextCommand()<font class="keyword"> </font>{}
<a name="l00338"></a><a class="code" href="class_qt3__qtextcommand.html#a2">00338</a>     <font class="keyword">virtual</font> Commands type()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> Invalid; };
00339 
00340     <font class="keyword">virtual</font> QTextCursor *execute( QTextCursor *c ) = 0;
00341     <font class="keyword">virtual</font> QTextCursor *unexecute( QTextCursor *c ) = 0;
00342 
00343 <font class="keyword">protected</font>:
<a name="l00344"></a><a class="code" href="class_qt3__qtextcommand.html#n0">00344</a>     QTextDocument *doc;
<a name="l00345"></a><a class="code" href="class_qt3__qtextcommand.html#n1">00345</a>     QTextCursor cursor;
00346 
00347 };
00348 
00349 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>00350 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
00351 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QList&lt;QTextCommand&gt;;
00352 <font class="comment">// MOC_SKIP_END</font>
00353 <font class="preprocessor">#endif
</font>00354 <font class="preprocessor"></font>
<a name="l00355"></a><a class="code" href="class_qt3__qtextcommandhistory.html">00355</a> <font class="keyword">class </font>Q_EXPORT QTextCommandHistory
00356 {
00357 <font class="keyword">public</font>:
<a name="l00358"></a><a class="code" href="class_qt3__qtextcommandhistory.html#a0">00358</a>     QTextCommandHistory( <font class="keywordtype">int</font> s ) : current( -1 ), steps( s )<font class="keyword"> </font>{ history.setAutoDelete( TRUE ); }
<a name="l00359"></a><a class="code" href="class_qt3__qtextcommandhistory.html#a1">00359</a>     ~QTextCommandHistory()<font class="keyword"> </font>{ clear(); }
00360 
<a name="l00361"></a><a class="code" href="class_qt3__qtextcommandhistory.html#a2">00361</a>     <font class="keywordtype">void</font> clear()<font class="keyword"> </font>{ history.clear(); current = -1; }
00362 
00363     <font class="keywordtype">void</font> addCommand( QTextCommand *cmd );
00364     QTextCursor *undo( QTextCursor *c );
00365     QTextCursor *redo( QTextCursor *c );
00366 
00367     <font class="keywordtype">bool</font> isUndoAvailable();
00368     <font class="keywordtype">bool</font> isRedoAvailable();
00369 
<a name="l00370"></a><a class="code" href="class_qt3__qtextcommandhistory.html#a8">00370</a>     <font class="keywordtype">void</font> setUndoDepth( <font class="keywordtype">int</font> d )<font class="keyword"> </font>{ steps = d; }
<a name="l00371"></a><a class="code" href="class_qt3__qtextcommandhistory.html#a9">00371</a>     <font class="keywordtype">int</font> undoDepth()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> steps; }
00372 
00373 <font class="keyword">private</font>:
<a name="l00374"></a><a class="code" href="class_qt3__qtextcommandhistory.html#o0">00374</a>     QList&lt;QTextCommand&gt; history;
<a name="l00375"></a><a class="code" href="class_qt3__qtextcommandhistory.html#o2">00375</a>     <font class="keywordtype">int</font> current, steps;
00376 
00377 };
00378 
00379 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
00380 
<a name="l00381"></a><a class="code" href="class_qt3__qtextcustomitem.html">00381</a> <font class="keyword">class </font>Q_EXPORT QTextCustomItem
00382 {
00383 <font class="keyword">public</font>:
<a name="l00384"></a><a class="code" href="class_qt3__qtextcustomitem.html#a0">00384</a>     QTextCustomItem( QTextDocument *p )
00385     :  xpos(0), ypos(-1), width(-1), height(0), parent( p )<font class="keyword">
</font>00386 <font class="keyword">    </font>{}
<a name="l00387"></a><a class="code" href="class_qt3__qtextcustomitem.html#a1">00387</a>     <font class="keyword">virtual</font> ~QTextCustomItem()<font class="keyword"> </font>{}
00388     <font class="keyword">virtual</font> <font class="keywordtype">void</font> draw(QPainter* p, <font class="keywordtype">int</font> x, <font class="keywordtype">int</font> y, <font class="keywordtype">int</font> cx, <font class="keywordtype">int</font> cy, <font class="keywordtype">int</font> cw, <font class="keywordtype">int</font> ch, <font class="keyword">const</font> QColorGroup&amp; cg ) = 0;
00389 
<a name="l00390"></a><a class="code" href="class_qt3__qtextcustomitem.html#a3">00390</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> adjustToPainter( QPainter* )<font class="keyword"> </font>{ width = 0; }
00391 
<a name="l00392"></a><a class="code" href="class_qt3__qtextcustomitem.html#s3">00392</a>     <font class="keyword">enum</font> Placement { PlaceInline = 0, PlaceLeft, PlaceRight };
<a name="l00393"></a><a class="code" href="class_qt3__qtextcustomitem.html#a4">00393</a>     <font class="keyword">virtual</font> Placement placement()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> PlaceInline; }
<a name="l00394"></a><a class="code" href="class_qt3__qtextcustomitem.html#a5">00394</a>     <font class="keywordtype">bool</font> placeInline()<font class="keyword"> </font>{ <font class="keywordflow">return</font> placement() == PlaceInline; }
00395 
<a name="l00396"></a><a class="code" href="class_qt3__qtextcustomitem.html#a6">00396</a>     <font class="keyword">virtual</font> <font class="keywordtype">bool</font> ownLine()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> FALSE; }
<a name="l00397"></a><a class="code" href="class_qt3__qtextcustomitem.html#a7">00397</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> resize( QPainter*, <font class="keywordtype">int</font> nwidth )<font class="keyword"></font>{ width = nwidth; };
<a name="l00398"></a><a class="code" href="class_qt3__qtextcustomitem.html#a8">00398</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> invalidate()<font class="keyword"> </font>{};
00399 
<a name="l00400"></a><a class="code" href="class_qt3__qtextcustomitem.html#a9">00400</a>     <font class="keyword">virtual</font> <font class="keywordtype">bool</font> isNested()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> FALSE; }
<a name="l00401"></a><a class="code" href="class_qt3__qtextcustomitem.html#a10">00401</a>     <font class="keyword">virtual</font> <font class="keywordtype">int</font> minimumWidth()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> 0; }
<a name="l00402"></a><a class="code" href="class_qt3__qtextcustomitem.html#a11">00402</a>     <font class="keyword">virtual</font> <font class="keywordtype">int</font> widthHint()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> 0; }
00403 
<a name="l00404"></a><a class="code" href="class_qt3__qtextcustomitem.html#a12">00404</a>     <font class="keyword">virtual</font> QString richText()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> QString::null; }
00405 
<a name="l00406"></a><a class="code" href="class_qt3__qtextcustomitem.html#m0">00406</a>     <font class="keywordtype">int</font> xpos; <font class="comment">// used for floating items</font>
<a name="l00407"></a><a class="code" href="class_qt3__qtextcustomitem.html#m1">00407</a>     <font class="keywordtype">int</font> ypos; <font class="comment">// used for floating items</font>
<a name="l00408"></a><a class="code" href="class_qt3__qtextcustomitem.html#m2">00408</a>     <font class="keywordtype">int</font> width;
<a name="l00409"></a><a class="code" href="class_qt3__qtextcustomitem.html#m3">00409</a>     <font class="keywordtype">int</font> height;
00410 
<a name="l00411"></a><a class="code" href="class_qt3__qtextcustomitem.html#a13">00411</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> enter( QTextCursor *, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy, <font class="keywordtype">bool</font> atEnd = FALSE )<font class="keyword"> </font>{
00412     doc = doc; parag = parag; idx = idx; ox = ox; oy = oy; Q_UNUSED( atEnd )
00413     }
<a name="l00414"></a><a class="code" href="class_qt3__qtextcustomitem.html#a14">00414</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> enterAt( QTextCursor *, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy, <font class="keyword">const</font> QPoint &amp; )<font class="keyword"> </font>{
00415     doc = doc; parag = parag; idx = idx; ox = ox; oy = oy;
00416     }
<a name="l00417"></a><a class="code" href="class_qt3__qtextcustomitem.html#a15">00417</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> next( QTextCursor *, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy )<font class="keyword"> </font>{
00418     doc = doc; parag = parag; idx = idx; ox = ox; oy = oy;
00419     }
<a name="l00420"></a><a class="code" href="class_qt3__qtextcustomitem.html#a16">00420</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> prev( QTextCursor *, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy )<font class="keyword"> </font>{
00421     doc = doc; parag = parag; idx = idx; ox = ox; oy = oy;
00422     }
<a name="l00423"></a><a class="code" href="class_qt3__qtextcustomitem.html#a17">00423</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> down( QTextCursor *, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy )<font class="keyword"> </font>{
00424     doc = doc; parag = parag; idx = idx; ox = ox; oy = oy;
00425     }
<a name="l00426"></a><a class="code" href="class_qt3__qtextcustomitem.html#a18">00426</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> up( QTextCursor *, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy )<font class="keyword"> </font>{
00427     doc = doc; parag = parag; idx = idx; ox = ox; oy = oy;
00428     }
00429 
<a name="l00430"></a><a class="code" href="class_qt3__qtextcustomitem.html#m4">00430</a>     QTextDocument *parent;
00431 };
00432 
00433 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>00434 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
00435 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QMap&lt;QString, QString&gt;;
00436 <font class="comment">// MOC_SKIP_END</font>
00437 <font class="preprocessor">#endif
</font>00438 <font class="preprocessor"></font>
<a name="l00439"></a><a class="code" href="class_qt3__qtextimage.html">00439</a> <font class="keyword">class </font>Q_EXPORT QTextImage : <font class="keyword">public</font> QTextCustomItem
00440 {
00441 <font class="keyword">public</font>:
00442     QTextImage( QTextDocument *p, <font class="keyword">const</font> QMap&lt;QString, QString&gt; &amp;attr, <font class="keyword">const</font> QString&amp; context,
00443         QMimeSourceFactory &amp;factory);
00444     ~QTextImage();
00445 
<a name="l00446"></a><a class="code" href="class_qt3__qtextimage.html#a2">00446</a>     Placement placement()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> place; }
00447     <font class="keywordtype">void</font> adjustToPainter( QPainter* );
<a name="l00448"></a><a class="code" href="class_qt3__qtextimage.html#a4">00448</a>     <font class="keywordtype">int</font> widthHint()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> width; }
<a name="l00449"></a><a class="code" href="class_qt3__qtextimage.html#a5">00449</a>     <font class="keywordtype">int</font> minimumWidth()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> width; }
00450 
00451     QString richText() <font class="keyword">const</font>;
00452 
00453     <font class="keywordtype">void</font> draw( QPainter* p, <font class="keywordtype">int</font> x, <font class="keywordtype">int</font> y, <font class="keywordtype">int</font> cx, <font class="keywordtype">int</font> cy, <font class="keywordtype">int</font> cw, <font class="keywordtype">int</font> ch, <font class="keyword">const</font> QColorGroup&amp; cg );
00454 
00455 <font class="keyword">private</font>:
<a name="l00456"></a><a class="code" href="class_qt3__qtextimage.html#o0">00456</a>     QRegion* reg;
<a name="l00457"></a><a class="code" href="class_qt3__qtextimage.html#o1">00457</a>     QPixmap pm;
<a name="l00458"></a><a class="code" href="class_qt3__qtextimage.html#o2">00458</a>     Placement place;
<a name="l00459"></a><a class="code" href="class_qt3__qtextimage.html#o3">00459</a>     <font class="keywordtype">int</font> tmpwidth, tmpheight;
<a name="l00460"></a><a class="code" href="class_qt3__qtextimage.html#o5">00460</a>     QMap&lt;QString, QString&gt; attributes;
<a name="l00461"></a><a class="code" href="class_qt3__qtextimage.html#o6">00461</a>     QString imgId;
00462 
00463 };
00464 
<a name="l00465"></a><a class="code" href="class_qt3__qtexthorizontalline.html">00465</a> <font class="keyword">class </font>Q_EXPORT QTextHorizontalLine : <font class="keyword">public</font> QTextCustomItem
00466 {
00467 <font class="keyword">public</font>:
00468     QTextHorizontalLine( QTextDocument *p );
00469     ~QTextHorizontalLine();
00470     <font class="keywordtype">void</font> adjustToPainter( QPainter* );
00471     <font class="keywordtype">void</font> draw(QPainter* p, <font class="keywordtype">int</font> x, <font class="keywordtype">int</font> y, <font class="keywordtype">int</font> cx, <font class="keywordtype">int</font> cy, <font class="keywordtype">int</font> cw, <font class="keywordtype">int</font> ch, <font class="keyword">const</font> QColorGroup&amp; cg );
00472     QString richText() <font class="keyword">const</font>;
00473 
<a name="l00474"></a><a class="code" href="class_qt3__qtexthorizontalline.html#a5">00474</a>     <font class="keywordtype">bool</font> ownLine()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> TRUE; }
00475 
00476 <font class="keyword">private</font>:
<a name="l00477"></a><a class="code" href="class_qt3__qtexthorizontalline.html#o0">00477</a>     <font class="keywordtype">int</font> tmpheight;
00478 
00479 };
00480 
00481 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>00482 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
00483 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QList&lt;QTextCustomItem&gt;;
00484 <font class="comment">// MOC_SKIP_END</font>
00485 <font class="preprocessor">#endif
</font>00486 <font class="preprocessor"></font>
<a name="l00487"></a><a class="code" href="class_qt3__qtextflow.html">00487</a> <font class="keyword">class </font>Q_EXPORT QTextFlow
00488 {
<a name="l00489"></a><a class="code" href="class_qt3__qtextflow.html#l0">00489</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextDocument;
<a name="l00490"></a><a class="code" href="class_qt3__qtextflow.html#l1">00490</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextTableCell;
00491 
00492 <font class="keyword">public</font>:
00493     QTextFlow();
00494     <font class="keyword">virtual</font> ~QTextFlow();
00495 
00496     <font class="keyword">virtual</font> <font class="keywordtype">void</font> setWidth( <font class="keywordtype">int</font> w );
<a name="l00497"></a><a class="code" href="class_qt3__qtextflow.html#a3">00497</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> setPageSize( <font class="keywordtype">int</font> ps )<font class="keyword"> </font>{ pagesize = ps; }
<a name="l00498"></a><a class="code" href="class_qt3__qtextflow.html#a4">00498</a>     <font class="keywordtype">int</font> pageSize()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> pagesize; }
00499 
00500     <font class="keyword">virtual</font> <font class="keywordtype">int</font> adjustLMargin( <font class="keywordtype">int</font> yp, <font class="keywordtype">int</font> margin, <font class="keywordtype">int</font> space );
00501     <font class="keyword">virtual</font> <font class="keywordtype">int</font> adjustRMargin( <font class="keywordtype">int</font> yp, <font class="keywordtype">int</font> margin, <font class="keywordtype">int</font> space );
00502 
00503     <font class="keyword">virtual</font> <font class="keywordtype">void</font> registerFloatingItem( QTextCustomItem* item, <font class="keywordtype">bool</font> right = FALSE );
00504     <font class="keyword">virtual</font> <font class="keywordtype">void</font> unregisterFloatingItem( QTextCustomItem* item );
00505     <font class="keyword">virtual</font> <font class="keywordtype">void</font> drawFloatingItems(QPainter* p, <font class="keywordtype">int</font> cx, <font class="keywordtype">int</font> cy, <font class="keywordtype">int</font> cw, <font class="keywordtype">int</font> ch, <font class="keyword">const</font> QColorGroup&amp; cg );
00506     <font class="keyword">virtual</font> <font class="keywordtype">void</font> adjustFlow( <font class="keywordtype">int</font>  &amp;yp, <font class="keywordtype">int</font> w, <font class="keywordtype">int</font> h, <font class="keywordtype">bool</font> pages = TRUE );
00507 
<a name="l00508"></a><a class="code" href="class_qt3__qtextflow.html#a11">00508</a>     <font class="keyword">virtual</font> <font class="keywordtype">bool</font> isEmpty()<font class="keyword"> </font>{ <font class="keywordflow">return</font> leftItems.isEmpty() &amp;&amp; rightItems.isEmpty(); }
00509     <font class="keyword">virtual</font> <font class="keywordtype">void</font> updateHeight( QTextCustomItem *i );
00510 
<a name="l00511"></a><a class="code" href="class_qt3__qtextflow.html#a13">00511</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> draw( QPainter *, <font class="keywordtype">int</font> , <font class="keywordtype">int</font> , <font class="keywordtype">int</font> , <font class="keywordtype">int</font> )<font class="keyword"> </font>{}
<a name="l00512"></a><a class="code" href="class_qt3__qtextflow.html#a14">00512</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> eraseAfter( QTextParag *, QPainter * )<font class="keyword"> </font>{}
00513 
00514     <font class="keywordtype">void</font> clear();
00515 
00516 <font class="keyword">private</font>:
<a name="l00517"></a><a class="code" href="class_qt3__qtextflow.html#o0">00517</a>     <font class="keywordtype">int</font> width;
<a name="l00518"></a><a class="code" href="class_qt3__qtextflow.html#o1">00518</a>     <font class="keywordtype">int</font> height;
00519 
<a name="l00520"></a><a class="code" href="class_qt3__qtextflow.html#o2">00520</a>     <font class="keywordtype">int</font> pagesize;
00521 
<a name="l00522"></a><a class="code" href="class_qt3__qtextflow.html#o3">00522</a>     QList&lt;QTextCustomItem&gt; leftItems;
<a name="l00523"></a><a class="code" href="class_qt3__qtextflow.html#o4">00523</a>     QList&lt;QTextCustomItem&gt; rightItems;
00524 
00525 };
00526 
00527 <font class="keyword">class </font>QTextTable;
00528 
<a name="l00529"></a><a class="code" href="class_qt3__qtexttablecell.html">00529</a> <font class="keyword">class </font>Q_EXPORT QTextTableCell : <font class="keyword">public</font> QLayoutItem
00530 {
<a name="l00531"></a><a class="code" href="class_qt3__qtexttablecell.html#l0">00531</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextTable;
00532 
00533 <font class="keyword">public</font>:
00534     QTextTableCell( QTextTable* table,
00535             <font class="keywordtype">int</font> row, <font class="keywordtype">int</font> column,
00536             <font class="keyword">const</font> QMap&lt;QString, QString&gt; &amp;attr,
00537             <font class="keyword">const</font> QStyleSheetItem* style,
00538             <font class="keyword">const</font> QTextFormat&amp; fmt, <font class="keyword">const</font> QString&amp; context,
00539             QMimeSourceFactory &amp;factory, QStyleSheet *sheet, <font class="keyword">const</font> QString&amp; doc );
00540     QTextTableCell( QTextTable* table, <font class="keywordtype">int</font> row, <font class="keywordtype">int</font> column );
00541 
00542     ~QTextTableCell();
00543     QSize sizeHint() <font class="keyword">const</font> ;
00544     QSize minimumSize() <font class="keyword">const</font> ;
00545     QSize maximumSize() <font class="keyword">const</font> ;
00546     QSizePolicy::ExpandData expanding() <font class="keyword">const</font>;
00547     <font class="keywordtype">bool</font> isEmpty() <font class="keyword">const</font>;
00548     <font class="keywordtype">void</font> setGeometry( <font class="keyword">const</font> QRect&amp; ) ;
00549     QRect geometry() <font class="keyword">const</font>;
00550 
00551     <font class="keywordtype">bool</font> hasHeightForWidth() <font class="keyword">const</font>;
00552     <font class="keywordtype">int</font> heightForWidth( <font class="keywordtype">int</font> ) <font class="keyword">const</font>;
00553 
00554     <font class="keywordtype">void</font> adjustToPainter();
00555 
<a name="l00556"></a><a class="code" href="class_qt3__qtexttablecell.html#a13">00556</a>     <font class="keywordtype">int</font> row()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> row_; }
<a name="l00557"></a><a class="code" href="class_qt3__qtexttablecell.html#a14">00557</a>     <font class="keywordtype">int</font> column()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> col_; }
<a name="l00558"></a><a class="code" href="class_qt3__qtexttablecell.html#a15">00558</a>     <font class="keywordtype">int</font> rowspan()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> rowspan_; }
<a name="l00559"></a><a class="code" href="class_qt3__qtexttablecell.html#a16">00559</a>     <font class="keywordtype">int</font> colspan()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> colspan_; }
<a name="l00560"></a><a class="code" href="class_qt3__qtexttablecell.html#a17">00560</a>     <font class="keywordtype">int</font> stretch()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> stretch_; }
00561 
<a name="l00562"></a><a class="code" href="class_qt3__qtexttablecell.html#a18">00562</a>     QTextDocument* richText()  <font class="keyword">const</font> { <font class="keywordflow">return</font> richtext; }
<a name="l00563"></a><a class="code" href="class_qt3__qtexttablecell.html#a19">00563</a>     QTextTable* table()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> parent; }
00564 
00565     <font class="keywordtype">void</font> draw( <font class="keywordtype">int</font> x, <font class="keywordtype">int</font> y, <font class="keywordtype">int</font> cx, <font class="keywordtype">int</font> cy, <font class="keywordtype">int</font> cw, <font class="keywordtype">int</font> ch, <font class="keyword">const</font> QColorGroup&amp; cg );
00566 
<a name="l00567"></a><a class="code" href="class_qt3__qtexttablecell.html#a21">00567</a>     QBrush *backGround()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> background; }
<a name="l00568"></a><a class="code" href="class_qt3__qtexttablecell.html#a22">00568</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> invalidate()<font class="keyword"> </font>{ cached_width = -1; cached_sizehint = -1; }
00569 
00570 <font class="keyword">private</font>:
00571     QPainter* painter() <font class="keyword">const</font>;
<a name="l00572"></a><a class="code" href="class_qt3__qtexttablecell.html#o0">00572</a>     QRect geom;
<a name="l00573"></a><a class="code" href="class_qt3__qtexttablecell.html#o1">00573</a>     QTextTable* parent;
<a name="l00574"></a><a class="code" href="class_qt3__qtexttablecell.html#o2">00574</a>     QTextDocument* richtext;
<a name="l00575"></a><a class="code" href="class_qt3__qtexttablecell.html#o3">00575</a>     <font class="keywordtype">int</font> row_;
<a name="l00576"></a><a class="code" href="class_qt3__qtexttablecell.html#o4">00576</a>     <font class="keywordtype">int</font> col_;
<a name="l00577"></a><a class="code" href="class_qt3__qtexttablecell.html#o5">00577</a>     <font class="keywordtype">int</font> rowspan_;
<a name="l00578"></a><a class="code" href="class_qt3__qtexttablecell.html#o6">00578</a>     <font class="keywordtype">int</font> colspan_;
<a name="l00579"></a><a class="code" href="class_qt3__qtexttablecell.html#o7">00579</a>     <font class="keywordtype">int</font> stretch_;
<a name="l00580"></a><a class="code" href="class_qt3__qtexttablecell.html#o8">00580</a>     <font class="keywordtype">int</font> maxw;
<a name="l00581"></a><a class="code" href="class_qt3__qtexttablecell.html#o9">00581</a>     <font class="keywordtype">int</font> minw;
<a name="l00582"></a><a class="code" href="class_qt3__qtexttablecell.html#o10">00582</a>     <font class="keywordtype">bool</font> hasFixedWidth;
<a name="l00583"></a><a class="code" href="class_qt3__qtexttablecell.html#o11">00583</a>     QBrush *background;
<a name="l00584"></a><a class="code" href="class_qt3__qtexttablecell.html#o12">00584</a>     <font class="keywordtype">int</font> cached_width;
<a name="l00585"></a><a class="code" href="class_qt3__qtexttablecell.html#o13">00585</a>     <font class="keywordtype">int</font> cached_sizehint;
<a name="l00586"></a><a class="code" href="class_qt3__qtexttablecell.html#o14">00586</a>     QMap&lt;QString, QString&gt; attributes;
00587 
00588 };
00589 
00590 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>00591 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
00592 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QList&lt;QTextTableCell&gt;;
00593 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QMap&lt;QTextCursor*, int&gt;;
00594 <font class="comment">// MOC_SKIP_END</font>
00595 <font class="preprocessor">#endif
</font>00596 <font class="preprocessor"></font>
<a name="l00597"></a><a class="code" href="class_qt3__qtexttable.html">00597</a> <font class="keyword">class </font>Q_EXPORT QTextTable: <font class="keyword">public</font> QTextCustomItem
00598 {
<a name="l00599"></a><a class="code" href="class_qt3__qtexttable.html#l0">00599</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextTableCell;
00600 
00601 <font class="keyword">public</font>:
00602     QTextTable( QTextDocument *p, <font class="keyword">const</font> QMap&lt;QString, QString&gt; &amp;attr );
00603     ~QTextTable();
00604     <font class="keywordtype">void</font> adjustToPainter( QPainter *p );
00605     <font class="keywordtype">void</font> verticalBreak( <font class="keywordtype">int</font>  y, QTextFlow* flow );
00606     <font class="keywordtype">void</font> draw( QPainter* p, <font class="keywordtype">int</font> x, <font class="keywordtype">int</font> y, <font class="keywordtype">int</font> cx, <font class="keywordtype">int</font> cy, <font class="keywordtype">int</font> cw, <font class="keywordtype">int</font> ch,
00607            <font class="keyword">const</font> QColorGroup&amp; cg );
00608 
<a name="l00609"></a><a class="code" href="class_qt3__qtexttable.html#a5">00609</a>     <font class="keywordtype">bool</font> noErase()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> TRUE; };
<a name="l00610"></a><a class="code" href="class_qt3__qtexttable.html#a6">00610</a>     <font class="keywordtype">bool</font> ownLine()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> TRUE; }
<a name="l00611"></a><a class="code" href="class_qt3__qtexttable.html#a7">00611</a>     Placement placement()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> place; }
<a name="l00612"></a><a class="code" href="class_qt3__qtexttable.html#a8">00612</a>     <font class="keywordtype">bool</font> isNested()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> TRUE; }
00613     <font class="keywordtype">void</font> resize( QPainter*, <font class="keywordtype">int</font> nwidth );
<a name="l00614"></a><a class="code" href="class_qt3__qtexttable.html#a10">00614</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> invalidate()<font class="keyword"> </font>{ cachewidth = -1; };
00615     QString anchorAt( QPainter* p, <font class="keywordtype">int</font> x, <font class="keywordtype">int</font> y );
00616 
00617     <font class="keyword">virtual</font> <font class="keywordtype">void</font> enter( QTextCursor *c, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy, <font class="keywordtype">bool</font> atEnd = FALSE );
00618     <font class="keyword">virtual</font> <font class="keywordtype">void</font> enterAt( QTextCursor *c, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy, <font class="keyword">const</font> QPoint &amp;pos );
00619     <font class="keyword">virtual</font> <font class="keywordtype">void</font> next( QTextCursor *c, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy );
00620     <font class="keyword">virtual</font> <font class="keywordtype">void</font> prev( QTextCursor *c, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy );
00621     <font class="keyword">virtual</font> <font class="keywordtype">void</font> down( QTextCursor *c, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy );
00622     <font class="keyword">virtual</font> <font class="keywordtype">void</font> up( QTextCursor *c, QTextDocument *&amp;doc, QTextParag *&amp;parag, <font class="keywordtype">int</font> &amp;idx, <font class="keywordtype">int</font> &amp;ox, <font class="keywordtype">int</font> &amp;oy );
00623 
00624     QString richText() <font class="keyword">const</font>;
00625 
<a name="l00626"></a><a class="code" href="class_qt3__qtexttable.html#a19">00626</a>     <font class="keywordtype">int</font> minimumWidth()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> layout ? layout-&gt;minimumSize().width() : 0; }
<a name="l00627"></a><a class="code" href="class_qt3__qtexttable.html#a20">00627</a>     <font class="keywordtype">int</font> widthHint()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> ( layout ? layout-&gt;sizeHint().width() : 0 ) + 2 * outerborder; }
00628 
00629 <font class="keyword">private</font>:
00630     <font class="keywordtype">void</font> format( <font class="keywordtype">int</font> &amp;w );
00631     <font class="keywordtype">void</font> addCell( QTextTableCell* cell );
00632 
00633 <font class="keyword">private</font>:
<a name="l00634"></a><a class="code" href="class_qt3__qtexttable.html#o0">00634</a>     QGridLayout* layout;
<a name="l00635"></a><a class="code" href="class_qt3__qtexttable.html#o1">00635</a>     QList&lt;QTextTableCell&gt; cells;
<a name="l00636"></a><a class="code" href="class_qt3__qtexttable.html#o2">00636</a>     QPainter* painter;
<a name="l00637"></a><a class="code" href="class_qt3__qtexttable.html#o3">00637</a>     <font class="keywordtype">int</font> cachewidth;
<a name="l00638"></a><a class="code" href="class_qt3__qtexttable.html#o4">00638</a>     <font class="keywordtype">int</font> fixwidth;
<a name="l00639"></a><a class="code" href="class_qt3__qtexttable.html#o5">00639</a>     <font class="keywordtype">int</font> cellpadding;
<a name="l00640"></a><a class="code" href="class_qt3__qtexttable.html#o6">00640</a>     <font class="keywordtype">int</font> cellspacing;
<a name="l00641"></a><a class="code" href="class_qt3__qtexttable.html#o7">00641</a>     <font class="keywordtype">int</font> border;
<a name="l00642"></a><a class="code" href="class_qt3__qtexttable.html#o8">00642</a>     <font class="keywordtype">int</font> outerborder;
<a name="l00643"></a><a class="code" href="class_qt3__qtexttable.html#o9">00643</a>     <font class="keywordtype">int</font> stretch;
<a name="l00644"></a><a class="code" href="class_qt3__qtexttable.html#o10">00644</a>     <font class="keywordtype">int</font> innerborder;
<a name="l00645"></a><a class="code" href="class_qt3__qtexttable.html#o13">00645</a>     <font class="keywordtype">int</font> us_ib, us_b, us_ob, us_cs;
<a name="l00646"></a><a class="code" href="class_qt3__qtexttable.html#o16">00646</a>     <font class="keywordtype">int</font> lastX, lastY;
<a name="l00647"></a><a class="code" href="class_qt3__qtexttable.html#o17">00647</a>     QMap&lt;QString, QString&gt; attributes;
00648 
<a name="l00649"></a><a class="code" href="class_qt3__qtexttable.html#o18">00649</a>     QMap&lt;QTextCursor*, int&gt; currCell;
00650 
<a name="l00651"></a><a class="code" href="class_qt3__qtexttable.html#o19">00651</a>     Placement place;
00652 };
00653 
00654 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
00655 
00656 <font class="keyword">class </font>QTextTableCell;
00657 <font class="keyword">class </font>QTextParag;
00658 
<a name="l00659"></a><a class="code" href="class_qt3__qtextdocumentselection.html">00659</a> <font class="keyword">struct </font>Q_EXPORT QTextDocumentSelection
00660 {
<a name="l00661"></a><a class="code" href="class_qt3__qtextdocumentselection.html#m0">00661</a>     QTextCursor startCursor, endCursor;
<a name="l00662"></a><a class="code" href="class_qt3__qtextdocumentselection.html#m2">00662</a>     <font class="keywordtype">bool</font> swapped;
00663 };
00664 
00665 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>00666 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
00667 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QMap&lt;int, QColor&gt;;
00668 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QMap&lt;int, bool&gt;;
00669 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QMap&lt;int, QTextDocumentSelection&gt;;
00670 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QList&lt;QTextDocument&gt;;
00671 <font class="comment">// MOC_SKIP_END</font>
00672 <font class="preprocessor">#endif
</font>00673 <font class="preprocessor"></font>
<a name="l00674"></a><a class="code" href="class_qt3__qtextdocument.html">00674</a> <font class="keyword">class </font>Q_EXPORT QTextDocument : <font class="keyword">public</font> <a class="code" href="class_qobject.html">QObject</a>
00675 {
00676     Q_OBJECT
00677 
<a name="l00678"></a><a class="code" href="class_qt3__qtextdocument.html#o0">00678</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextTableCell;
<a name="l00679"></a><a class="code" href="class_qt3__qtextdocument.html#l0">00679</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextCursor;
<a name="l00680"></a><a class="code" href="class_qt3__qtextdocument.html#l1">00680</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextView;
<a name="l00681"></a><a class="code" href="class_qt3__qtextdocument.html#l2">00681</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextParag;
00682 
00683 <font class="keyword">public</font>:
<a name="l00684"></a><a class="code" href="class_qt3__qtextdocument.html#s10">00684</a>     <font class="keyword">enum</font> SelectionIds {
00685     Standard = 0,
00686     Selection1,
00687     Selection2,
00688     Selection3,
00689     Selection4,
00690     Selection5,
00691     Selection6,
00692     Selection7,
00693     Selection8,
00694     Temp <font class="comment">// This selection must not be drawn, it's used e.g. by undo/redo to</font>
00695     <font class="comment">// remove multiple lines with removeSelectedText()</font>
00696     };
00697 
<a name="l00698"></a><a class="code" href="class_qt3__qtextdocument.html#p0">00698</a>     <font class="keyword">static</font> <font class="keyword">const</font> <font class="keywordtype">int</font> numSelections;
00699 
00700     QTextDocument( QTextDocument *p );
00701     ~QTextDocument();
<a name="l00702"></a><a class="code" href="class_qt3__qtextdocument.html#a2">00702</a>     QTextDocument *parent()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> par; }
<a name="l00703"></a><a class="code" href="class_qt3__qtextdocument.html#a3">00703</a>     QTextParag *parentParag()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> parParag; }
00704 
00705     <font class="keywordtype">void</font> setText( <font class="keyword">const</font> QString &amp;text, <font class="keyword">const</font> QString &amp;context );
00706     <font class="keywordtype">void</font> load( <font class="keyword">const</font> QString &amp;fn );
<a name="l00707"></a><a class="code" href="class_qt3__qtextdocument.html#a6">00707</a>     QMap&lt;QString, QString&gt; attributes()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> attribs; }
<a name="l00708"></a><a class="code" href="class_qt3__qtextdocument.html#a7">00708</a>     <font class="keywordtype">void</font> setAttributes( <font class="keyword">const</font> QMap&lt;QString, QString&gt; &amp;attr )<font class="keyword"> </font>{ attribs = attr; }
00709 
00710     <font class="keywordtype">void</font> save( <font class="keyword">const</font> QString &amp;fn = QString::null );
00711     QString fileName() <font class="keyword">const</font>;
00712     QString text() <font class="keyword">const</font>;
00713     QString text( <font class="keywordtype">int</font> parag ) <font class="keyword">const</font>;
00714     QString originalText() <font class="keyword">const</font>;
00715 
00716     <font class="keywordtype">int</font> x() <font class="keyword">const</font>;
00717     <font class="keywordtype">int</font> y() <font class="keyword">const</font>;
00718     <font class="keywordtype">int</font> width() <font class="keyword">const</font>;
00719     <font class="keywordtype">int</font> widthUsed() <font class="keyword">const</font>;
00720     <font class="keywordtype">int</font> visibleWidth() <font class="keyword">const</font>;
00721     <font class="keywordtype">int</font> height() <font class="keyword">const</font>;
00722     <font class="keywordtype">void</font> setWidth( <font class="keywordtype">int</font> w );
00723     <font class="keywordtype">int</font> minimumWidth() <font class="keyword">const</font>;
00724     <font class="keywordtype">bool</font> setMinimumWidth( <font class="keywordtype">int</font> w, QTextParag *parag );
00725 
00726     QTextParag *firstParag() <font class="keyword">const</font>;
00727     QTextParag *lastParag() <font class="keyword">const</font>;
00728     <font class="keywordtype">void</font> setFirstParag( QTextParag *p );
00729     <font class="keywordtype">void</font> setLastParag( QTextParag *p );
00730 
00731     <font class="keywordtype">void</font> invalidate();
00732 
00733     <font class="keywordtype">void</font> setPreProcessor( QTextPreProcessor *sh );
00734     QTextPreProcessor *preProcessor() <font class="keyword">const</font>;
00735 
00736     <font class="keywordtype">void</font> setFormatter( QTextFormatter *f );
00737     QTextFormatter *formatter() <font class="keyword">const</font>;
00738 
00739     <font class="keywordtype">void</font> setIndent( QTextIndent *i );
00740     QTextIndent *indent() <font class="keyword">const</font>;
00741 
00742     QColor selectionColor( <font class="keywordtype">int</font> id ) <font class="keyword">const</font>;
00743     <font class="keywordtype">bool</font> invertSelectionText( <font class="keywordtype">int</font> id ) <font class="keyword">const</font>;
00744     <font class="keywordtype">void</font> setSelectionColor( <font class="keywordtype">int</font> id, <font class="keyword">const</font> QColor &amp;c );
00745     <font class="keywordtype">void</font> setInvertSelectionText( <font class="keywordtype">int</font> id, <font class="keywordtype">bool</font> b );
00746     <font class="keywordtype">bool</font> hasSelection( <font class="keywordtype">int</font> id ) <font class="keyword">const</font>;
00747     <font class="keywordtype">void</font> setSelectionStart( <font class="keywordtype">int</font> id, QTextCursor *cursor );
00748     <font class="keywordtype">bool</font> setSelectionEnd( <font class="keywordtype">int</font> id, QTextCursor *cursor );
00749     <font class="keywordtype">void</font> selectAll( <font class="keywordtype">int</font> id );
00750     <font class="keywordtype">bool</font> removeSelection( <font class="keywordtype">int</font> id );
00751     <font class="keywordtype">void</font> selectionStart( <font class="keywordtype">int</font> id, <font class="keywordtype">int</font> &amp;paragId, <font class="keywordtype">int</font> &amp;index );
00752     QTextCursor selectionStartCursor( <font class="keywordtype">int</font> id );
00753     QTextCursor selectionEndCursor( <font class="keywordtype">int</font> id );
00754     <font class="keywordtype">void</font> selectionEnd( <font class="keywordtype">int</font> id, <font class="keywordtype">int</font> &amp;paragId, <font class="keywordtype">int</font> &amp;index );
00755     <font class="keywordtype">void</font> setFormat( <font class="keywordtype">int</font> id, QTextFormat *f, <font class="keywordtype">int</font> flags );
00756     QTextParag *selectionStart( <font class="keywordtype">int</font> id );
00757     QTextParag *selectionEnd( <font class="keywordtype">int</font> id );
00758 
00759     QString selectedText( <font class="keywordtype">int</font> id ) <font class="keyword">const</font>;
00760     <font class="keywordtype">void</font> copySelectedText( <font class="keywordtype">int</font> id );
00761     <font class="keywordtype">void</font> removeSelectedText( <font class="keywordtype">int</font> id, QTextCursor *cursor );
00762     <font class="keywordtype">void</font> indentSelection( <font class="keywordtype">int</font> id );
00763 
00764     QTextParag *paragAt( <font class="keywordtype">int</font> i ) <font class="keyword">const</font>;
00765 
00766     <font class="keywordtype">void</font> addCommand( QTextCommand *cmd );
00767     QTextCursor *undo( QTextCursor *c = 0 );
00768     QTextCursor *redo( QTextCursor *c  = 0 );
<a name="l00769"></a><a class="code" href="class_qt3__qtextdocument.html#a57">00769</a>     QTextCommandHistory *commands()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> commandHistory; }
00770 
00771     QTextFormatCollection *formatCollection() <font class="keyword">const</font>;
00772 
00773     <font class="keywordtype">bool</font> find( <font class="keyword">const</font> QString &amp;expr, <font class="keywordtype">bool</font> cs, <font class="keywordtype">bool</font> wo, <font class="keywordtype">bool</font> forward, <font class="keywordtype">int</font> *parag, <font class="keywordtype">int</font> *index, QTextCursor *cursor );
00774 
00775     <font class="keywordtype">void</font> setTextFormat( Qt::TextFormat f );
00776     Qt::TextFormat textFormat() <font class="keyword">const</font>;
00777 
00778     <font class="keywordtype">bool</font> inSelection( <font class="keywordtype">int</font> selId, <font class="keyword">const</font> QPoint &amp;pos ) <font class="keyword">const</font>;
00779 
<a name="l00780"></a><a class="code" href="class_qt3__qtextdocument.html#a63">00780</a>     QStyleSheet *styleSheet()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> sheet_; }
<a name="l00781"></a><a class="code" href="class_qt3__qtextdocument.html#a64">00781</a>     QMimeSourceFactory *mimeSourceFactory()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> factory_; }
<a name="l00782"></a><a class="code" href="class_qt3__qtextdocument.html#a65">00782</a>     QString context()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> contxt; }
00783 
00784     <font class="keywordtype">void</font> setStyleSheet( QStyleSheet *s );
00785     <font class="keywordtype">void</font> updateStyles();
00786     <font class="keywordtype">void</font> updateFontSizes( <font class="keywordtype">int</font> base );
<a name="l00787"></a><a class="code" href="class_qt3__qtextdocument.html#a69">00787</a>     <font class="keywordtype">void</font> setMimeSourceFactory( QMimeSourceFactory *f )<font class="keyword"> </font>{ <font class="keywordflow">if</font> ( f ) factory_ = f; }
<a name="l00788"></a><a class="code" href="class_qt3__qtextdocument.html#a70">00788</a>     <font class="keywordtype">void</font> setContext( <font class="keyword">const</font> QString &amp;c )<font class="keyword"> </font>{ <font class="keywordflow">if</font> ( !c.isEmpty() ) contxt = c; }
00789 
<a name="l00790"></a><a class="code" href="class_qt3__qtextdocument.html#a71">00790</a>     <font class="keywordtype">void</font> setLinkColor( <font class="keyword">const</font> QColor &amp;c )<font class="keyword"> </font>{ linkC = c; }
<a name="l00791"></a><a class="code" href="class_qt3__qtextdocument.html#a72">00791</a>     QColor linkColor()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> linkC; }
00792 
<a name="l00793"></a><a class="code" href="class_qt3__qtextdocument.html#a73">00793</a>     <font class="keywordtype">void</font> setUnderlineLinks( <font class="keywordtype">bool</font> b )<font class="keyword"> </font>{ underlLinks = b; }
<a name="l00794"></a><a class="code" href="class_qt3__qtextdocument.html#a74">00794</a>     <font class="keywordtype">bool</font> underlineLinks()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> underlLinks; }
00795 
<a name="l00796"></a><a class="code" href="class_qt3__qtextdocument.html#a75">00796</a>     <font class="keywordtype">void</font> setPaper( QBrush *brush )<font class="keyword"> </font>{ <font class="keywordflow">if</font> ( backBrush ) <font class="keyword">delete</font> backBrush; backBrush = brush; }
<a name="l00797"></a><a class="code" href="class_qt3__qtextdocument.html#a76">00797</a>     QBrush *paper()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> backBrush; }
00798 
00799     <font class="keywordtype">void</font> doLayout( QPainter *p, <font class="keywordtype">int</font> w );
00800     <font class="keywordtype">void</font> draw( QPainter *p, <font class="keyword">const</font> QRegion &amp;reg, <font class="keyword">const</font> QColorGroup &amp;cg, <font class="keyword">const</font> QBrush *paper = 0 );
00801     <font class="keywordtype">void</font> drawParag( QPainter *p, QTextParag *parag, <font class="keywordtype">int</font> cx, <font class="keywordtype">int</font> cy, <font class="keywordtype">int</font> cw, <font class="keywordtype">int</font> ch,
00802             QPixmap *&amp;doubleBuffer, <font class="keyword">const</font> QColorGroup &amp;cg,
00803             <font class="keywordtype">bool</font> drawCursor, QTextCursor *cursor );
00804     QTextParag *draw( QPainter *p, <font class="keywordtype">int</font> cx, <font class="keywordtype">int</font> cy, <font class="keywordtype">int</font> cw, <font class="keywordtype">int</font> ch, <font class="keyword">const</font> QColorGroup &amp;cg,
00805               <font class="keywordtype">bool</font> onlyChanged = FALSE, <font class="keywordtype">bool</font> drawCursor = FALSE, QTextCursor *cursor = 0 );
00806     <font class="keywordtype">void</font> setDefaultFont( <font class="keyword">const</font> QFont &amp;f );
00807 
00808     <font class="keywordtype">void</font> registerCustomItem( QTextCustomItem *i, QTextParag *p );
00809     <font class="keywordtype">void</font> unregisterCustomItem( QTextCustomItem *i, QTextParag *p );
00810 
00811     <font class="keywordtype">void</font> setFlow( QTextFlow *f );
<a name="l00812"></a><a class="code" href="class_qt3__qtextdocument.html#a85">00812</a>     QTextFlow *flow()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> flow_; }
<a name="l00813"></a><a class="code" href="class_qt3__qtextdocument.html#a86">00813</a>     <font class="keywordtype">bool</font> verticalBreak()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> pages; }
<a name="l00814"></a><a class="code" href="class_qt3__qtextdocument.html#a87">00814</a>     <font class="keywordtype">void</font> setVerticalBreak( <font class="keywordtype">bool</font> b )<font class="keyword"> </font>{ pages = b; }
00815 
<a name="l00816"></a><a class="code" href="class_qt3__qtextdocument.html#a88">00816</a>     <font class="keywordtype">void</font> setUseFormatCollection( <font class="keywordtype">bool</font> b )<font class="keyword"> </font>{ useFC = b; }
<a name="l00817"></a><a class="code" href="class_qt3__qtextdocument.html#a89">00817</a>     <font class="keywordtype">bool</font> useFormatCollection()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> useFC; }
00818 
<a name="l00819"></a><a class="code" href="class_qt3__qtextdocument.html#a90">00819</a>     QTextTableCell *tableCell()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> tc; }
<a name="l00820"></a><a class="code" href="class_qt3__qtextdocument.html#a91">00820</a>     <font class="keywordtype">void</font> setTableCell( QTextTableCell *c )<font class="keyword"> </font>{ tc = c; }
00821 
00822     <font class="keywordtype">void</font> setPlainText( <font class="keyword">const</font> QString &amp;text );
00823     <font class="keywordtype">void</font> setRichText( <font class="keyword">const</font> QString &amp;text, <font class="keyword">const</font> QString &amp;context );
00824     QString richText( QTextParag *p = 0 ) <font class="keyword">const</font>;
00825     QString plainText( QTextParag *p = 0 ) <font class="keyword">const</font>;
00826 
00827     <font class="keywordtype">bool</font> focusNextPrevChild( <font class="keywordtype">bool</font> next );
00828 
00829     <font class="keywordtype">int</font> alignment() <font class="keyword">const</font>;
00830     <font class="keywordtype">void</font> setAlignment( <font class="keywordtype">int</font> a );
00831 
00832     <font class="keywordtype">int</font> *tabArray() <font class="keyword">const</font>;
00833     <font class="keywordtype">int</font> tabStopWidth() <font class="keyword">const</font>;
00834     <font class="keywordtype">void</font> setTabArray( <font class="keywordtype">int</font> *a );
00835     <font class="keywordtype">void</font> setTabStops( <font class="keywordtype">int</font> tw );
00836 
<a name="l00837"></a><a class="code" href="class_qt3__qtextdocument.html#a103">00837</a>     <font class="keywordtype">void</font> setUndoDepth( <font class="keywordtype">int</font> d )<font class="keyword"> </font>{ commandHistory-&gt;setUndoDepth( d ); }
<a name="l00838"></a><a class="code" href="class_qt3__qtextdocument.html#a104">00838</a>     <font class="keywordtype">int</font> undoDepth()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> commandHistory-&gt;undoDepth(); }
00839 
00840     <font class="keywordtype">int</font> length() <font class="keyword">const</font>;
00841     <font class="keywordtype">void</font> clear( <font class="keywordtype">bool</font> createEmptyParag = FALSE );
00842 
00843     <font class="keyword">virtual</font> QTextParag *createParag( QTextDocument *d, QTextParag *pr = 0, QTextParag *nx = 0, <font class="keywordtype">bool</font> updateIds = TRUE );
<a name="l00844"></a><a class="code" href="class_qt3__qtextdocument.html#a108">00844</a>     <font class="keywordtype">void</font> insertChild( QTextDocument *d )<font class="keyword"> </font>{ childList.append( d ); }
<a name="l00845"></a><a class="code" href="class_qt3__qtextdocument.html#a109">00845</a>     <font class="keywordtype">void</font> removeChild( QTextDocument *d )<font class="keyword"> </font>{ childList.removeRef( d ); }
<a name="l00846"></a><a class="code" href="class_qt3__qtextdocument.html#a110">00846</a>     QList&lt;QTextDocument&gt; children()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> childList; }
00847 
00848 signals:
00849     <font class="keywordtype">void</font> minimumWidthChanged( <font class="keywordtype">int</font> );
00850 
00851 <font class="keyword">private</font>:
00852     QPixmap *bufferPixmap( <font class="keyword">const</font> QSize &amp;s );
00853     <font class="comment">// HTML parser</font>
00854     <font class="keywordtype">bool</font> hasPrefix(<font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font> pos, QChar c);
00855     <font class="keywordtype">bool</font> hasPrefix(<font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font> pos, <font class="keyword">const</font> QString&amp; s);
00856     QTextCustomItem* parseTable( <font class="keyword">const</font> QMap&lt;QString, QString&gt; &amp;attr, <font class="keyword">const</font> QTextFormat &amp;fmt, <font class="keyword">const</font> QString &amp;doc, <font class="keywordtype">int</font>&amp; pos, QTextParag *curpar );
00857     <font class="keywordtype">bool</font> eatSpace(<font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font>&amp; pos, <font class="keywordtype">bool</font> includeNbsp = FALSE );
00858     <font class="keywordtype">bool</font> eat(<font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font>&amp; pos, QChar c);
00859     QString parseOpenTag(<font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font>&amp; pos, QMap&lt;QString, QString&gt; &amp;attr, <font class="keywordtype">bool</font>&amp; emptyTag);
00860     QString parseCloseTag( <font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font>&amp; pos );
00861     QChar parseHTMLSpecialChar(<font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font>&amp; pos);
00862     QString parseWord(<font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font>&amp; pos, <font class="keywordtype">bool</font> lower = TRUE);
00863     QChar parseChar(<font class="keyword">const</font> QString&amp; doc, <font class="keywordtype">int</font>&amp; pos, QStyleSheetItem::WhiteSpaceMode wsm );
00864     <font class="keywordtype">void</font> setRichTextInternal( <font class="keyword">const</font> QString &amp;text );
00865 
00866 <font class="keyword">private</font>:
<a name="l00867"></a><a class="code" href="class_qt3__qtextdocument__focus.html">00867</a>     <font class="keyword">struct </font>Q_EXPORT Focus {
<a name="l00868"></a><a class="code" href="class_qt3__qtextdocument__focus.html#m0">00868</a>     QTextParag *parag;
<a name="l00869"></a><a class="code" href="class_qt3__qtextdocument__focus.html#m1">00869</a>     <font class="keywordtype">int</font> start, len;
<a name="l00870"></a><a class="code" href="class_qt3__qtextdocument__focus.html#m3">00870</a>     QString href;
00871     };
00872 
<a name="l00873"></a><a class="code" href="class_qt3__qtextdocument.html#o4">00873</a>     <font class="keywordtype">int</font> cx, cy, cw, vw;
<a name="l00874"></a><a class="code" href="class_qt3__qtextdocument.html#o6">00874</a>     QTextParag *fParag, *lParag;
<a name="l00875"></a><a class="code" href="class_qt3__qtextdocument.html#o7">00875</a>     QTextPreProcessor *pProcessor;
<a name="l00876"></a><a class="code" href="class_qt3__qtextdocument.html#o8">00876</a>     QMap&lt;int, QColor&gt; selectionColors;
<a name="l00877"></a><a class="code" href="class_qt3__qtextdocument.html#o9">00877</a>     QMap&lt;int, QTextDocumentSelection&gt; selections;
<a name="l00878"></a><a class="code" href="class_qt3__qtextdocument.html#o10">00878</a>     QMap&lt;int, bool&gt; selectionText;
<a name="l00879"></a><a class="code" href="class_qt3__qtextdocument.html#o11">00879</a>     QString filename;
<a name="l00880"></a><a class="code" href="class_qt3__qtextdocument.html#o12">00880</a>     QTextCommandHistory *commandHistory;
<a name="l00881"></a><a class="code" href="class_qt3__qtextdocument.html#o13">00881</a>     QTextFormatter *pFormatter;
<a name="l00882"></a><a class="code" href="class_qt3__qtextdocument.html#o14">00882</a>     QTextIndent *indenter;
<a name="l00883"></a><a class="code" href="class_qt3__qtextdocument.html#o15">00883</a>     QTextFormatCollection *fCollection;
<a name="l00884"></a><a class="code" href="class_qt3__qtextdocument.html#o16">00884</a>     Qt::TextFormat txtFormat;
<a name="l00885"></a><a class="code" href="class_qt3__qtextdocument.html#o17">00885</a>     <font class="keywordtype">bool</font> preferRichText;
<a name="l00886"></a><a class="code" href="class_qt3__qtextdocument.html#o18">00886</a>     QTextFlow *flow_;
<a name="l00887"></a><a class="code" href="class_qt3__qtextdocument.html#o19">00887</a>     QList&lt;QTextCustomItem&gt; customItems;
<a name="l00888"></a><a class="code" href="class_qt3__qtextdocument.html#o20">00888</a>     <font class="keywordtype">bool</font> pages;
<a name="l00889"></a><a class="code" href="class_qt3__qtextdocument.html#o21">00889</a>     QTextDocument *par;
<a name="l00890"></a><a class="code" href="class_qt3__qtextdocument.html#o22">00890</a>     QTextParag *parParag;
<a name="l00891"></a><a class="code" href="class_qt3__qtextdocument.html#o23">00891</a>     <font class="keywordtype">bool</font> useFC;
<a name="l00892"></a><a class="code" href="class_qt3__qtextdocument.html#o24">00892</a>     QTextTableCell *tc;
<a name="l00893"></a><a class="code" href="class_qt3__qtextdocument.html#o25">00893</a>     <font class="keywordtype">bool</font> withoutDoubleBuffer;
<a name="l00894"></a><a class="code" href="class_qt3__qtextdocument.html#o26">00894</a>     QTextCursor *tmpCursor;
<a name="l00895"></a><a class="code" href="class_qt3__qtextdocument.html#o27">00895</a>     <font class="keywordtype">bool</font> underlLinks;
<a name="l00896"></a><a class="code" href="class_qt3__qtextdocument.html#o28">00896</a>     QColor linkC;
<a name="l00897"></a><a class="code" href="class_qt3__qtextdocument.html#o29">00897</a>     QBrush *backBrush;
<a name="l00898"></a><a class="code" href="class_qt3__qtextdocument.html#o30">00898</a>     QPixmap *buf_pixmap;
<a name="l00899"></a><a class="code" href="class_qt3__qtextdocument.html#o31">00899</a>     <font class="keywordtype">bool</font> nextDoubleBuffered;
<a name="l00900"></a><a class="code" href="class_qt3__qtextdocument.html#o32">00900</a>     Focus focusIndicator;
<a name="l00901"></a><a class="code" href="class_qt3__qtextdocument.html#o33">00901</a>     <font class="keywordtype">int</font> minw;
<a name="l00902"></a><a class="code" href="class_qt3__qtextdocument.html#o34">00902</a>     QTextParag *minwParag;
<a name="l00903"></a><a class="code" href="class_qt3__qtextdocument.html#o35">00903</a>     QStyleSheet* sheet_;
<a name="l00904"></a><a class="code" href="class_qt3__qtextdocument.html#o36">00904</a>     QMimeSourceFactory* factory_;
<a name="l00905"></a><a class="code" href="class_qt3__qtextdocument.html#o37">00905</a>     QString contxt;
<a name="l00906"></a><a class="code" href="class_qt3__qtextdocument.html#o38">00906</a>     QMap&lt;QString, QString&gt; attribs;
<a name="l00907"></a><a class="code" href="class_qt3__qtextdocument.html#o39">00907</a>     <font class="keywordtype">int</font> align;
<a name="l00908"></a><a class="code" href="class_qt3__qtextdocument.html#o40">00908</a>     <font class="keywordtype">int</font> *tArray;
<a name="l00909"></a><a class="code" href="class_qt3__qtextdocument.html#o41">00909</a>     <font class="keywordtype">int</font> tStopWidth;
<a name="l00910"></a><a class="code" href="class_qt3__qtextdocument.html#o42">00910</a>     <font class="keywordtype">int</font> uDepth;
<a name="l00911"></a><a class="code" href="class_qt3__qtextdocument.html#o43">00911</a>     QString oText;
<a name="l00912"></a><a class="code" href="class_qt3__qtextdocument.html#o44">00912</a>     QList&lt;QTextDocument&gt; childList;
00913 
00914 };
00915 
00916 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
00917 
00918 
<a name="l00919"></a><a class="code" href="class_qt3__qtextdeletecommand.html">00919</a> <font class="keyword">class </font>Q_EXPORT QTextDeleteCommand : <font class="keyword">public</font> QTextCommand
00920 {
00921 <font class="keyword">public</font>:
00922     QTextDeleteCommand( QTextDocument *d, <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> idx, <font class="keyword">const</font> QArray&lt;QTextStringChar&gt; &amp;str,
00923             <font class="keyword">const</font> QValueList&lt; QVector&lt;QStyleSheetItem&gt; &gt; &amp;os,
00924             <font class="keyword">const</font> QValueList&lt;QStyleSheetItem::ListStyle&gt; &amp;ols,
00925             <font class="keyword">const</font> QArray&lt;<font class="keywordtype">int</font>&gt; &amp;oas );
00926     QTextDeleteCommand( QTextParag *p, <font class="keywordtype">int</font> idx, <font class="keyword">const</font> QArray&lt;QTextStringChar&gt; &amp;str );
00927     ~QTextDeleteCommand();
<a name="l00928"></a><a class="code" href="class_qt3__qtextdeletecommand.html#a3">00928</a>     Commands type()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> Delete; };
00929     QTextCursor *execute( QTextCursor *c );
00930     QTextCursor *unexecute( QTextCursor *c );
00931 
00932 <font class="keyword">protected</font>:
<a name="l00933"></a><a class="code" href="class_qt3__qtextdeletecommand.html#n1">00933</a>     <font class="keywordtype">int</font> id, index;
<a name="l00934"></a><a class="code" href="class_qt3__qtextdeletecommand.html#n2">00934</a>     QTextParag *parag;
<a name="l00935"></a><a class="code" href="class_qt3__qtextdeletecommand.html#n3">00935</a>     QArray&lt;QTextStringChar&gt; text;
<a name="l00936"></a><a class="code" href="class_qt3__qtextdeletecommand.html#n4">00936</a>     QValueList&lt; QVector&lt;QStyleSheetItem&gt; &gt; oldStyles;
<a name="l00937"></a><a class="code" href="class_qt3__qtextdeletecommand.html#n5">00937</a>     QValueList&lt;QStyleSheetItem::ListStyle&gt; oldListStyles;
<a name="l00938"></a><a class="code" href="class_qt3__qtextdeletecommand.html#n6">00938</a>     QArray&lt;int&gt; oldAligns;
00939 
00940 };
00941 
<a name="l00942"></a><a class="code" href="class_qt3__qtextinsertcommand.html">00942</a> <font class="keyword">class </font>Q_EXPORT QTextInsertCommand : <font class="keyword">public</font> QTextDeleteCommand
00943 {
00944 <font class="keyword">public</font>:
<a name="l00945"></a><a class="code" href="class_qt3__qtextinsertcommand.html#a0">00945</a>     QTextInsertCommand( QTextDocument *d, <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> idx, <font class="keyword">const</font> QArray&lt;QTextStringChar&gt; &amp;str,
00946             <font class="keyword">const</font> QValueList&lt; QVector&lt;QStyleSheetItem&gt; &gt; &amp;os,
00947             <font class="keyword">const</font> QValueList&lt;QStyleSheetItem::ListStyle&gt; &amp;ols,
00948             <font class="keyword">const</font> QArray&lt;<font class="keywordtype">int</font>&gt; &amp;oas )
00949     : QTextDeleteCommand( d, i, idx, str, os, ols, oas )<font class="keyword"> </font>{}
<a name="l00950"></a><a class="code" href="class_qt3__qtextinsertcommand.html#a1">00950</a>     QTextInsertCommand( QTextParag *p, <font class="keywordtype">int</font> idx, <font class="keyword">const</font> QArray&lt;QTextStringChar&gt; &amp;str )
00951     : QTextDeleteCommand( p, idx, str )<font class="keyword"> </font>{}
<a name="l00952"></a><a class="code" href="class_qt3__qtextinsertcommand.html#a2">00952</a>     Commands type()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> Insert; };
<a name="l00953"></a><a class="code" href="class_qt3__qtextinsertcommand.html#a3">00953</a>     QTextCursor *execute( QTextCursor *c )<font class="keyword"> </font>{ <font class="keywordflow">return</font> QTextDeleteCommand::unexecute( c ); }
<a name="l00954"></a><a class="code" href="class_qt3__qtextinsertcommand.html#a4">00954</a>     QTextCursor *unexecute( QTextCursor *c )<font class="keyword"> </font>{ <font class="keywordflow">return</font> QTextDeleteCommand::execute( c ); }
00955 
00956 };
00957 
<a name="l00958"></a><a class="code" href="class_qt3__qtextformatcommand.html">00958</a> <font class="keyword">class </font>Q_EXPORT QTextFormatCommand : <font class="keyword">public</font> QTextCommand
00959 {
00960 <font class="keyword">public</font>:
00961     QTextFormatCommand( QTextDocument *d, <font class="keywordtype">int</font> sid, <font class="keywordtype">int</font> sidx, <font class="keywordtype">int</font> eid, <font class="keywordtype">int</font> eidx, <font class="keyword">const</font> QArray&lt;QTextStringChar&gt; &amp;old, QTextFormat *f, <font class="keywordtype">int</font> fl );
00962     ~QTextFormatCommand();
<a name="l00963"></a><a class="code" href="class_qt3__qtextformatcommand.html#a2">00963</a>     Commands type()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> Format; }
00964     QTextCursor *execute( QTextCursor *c );
00965     QTextCursor *unexecute( QTextCursor *c );
00966 
00967 <font class="keyword">protected</font>:
<a name="l00968"></a><a class="code" href="class_qt3__qtextformatcommand.html#n1">00968</a>     <font class="keywordtype">int</font> startId, startIndex, endId, endIndex;
<a name="l00969"></a><a class="code" href="class_qt3__qtextformatcommand.html#n4">00969</a>     QTextFormat *format;
<a name="l00970"></a><a class="code" href="class_qt3__qtextformatcommand.html#n5">00970</a>     QArray&lt;QTextStringChar&gt; oldFormats;
<a name="l00971"></a><a class="code" href="class_qt3__qtextformatcommand.html#n6">00971</a>     <font class="keywordtype">int</font> flags;
00972 
00973 };
00974 
<a name="l00975"></a><a class="code" href="class_qt3__qtextalignmentcommand.html">00975</a> <font class="keyword">class </font>Q_EXPORT QTextAlignmentCommand : <font class="keyword">public</font> QTextCommand
00976 {
00977 <font class="keyword">public</font>:
00978     QTextAlignmentCommand( QTextDocument *d, <font class="keywordtype">int</font> fParag, <font class="keywordtype">int</font> lParag, <font class="keywordtype">int</font> na, <font class="keyword">const</font> QArray&lt;<font class="keywordtype">int</font>&gt; &amp;oa );
<a name="l00979"></a><a class="code" href="class_qt3__qtextalignmentcommand.html#a1">00979</a>     Commands type()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> Alignment; }
00980     QTextCursor *execute( QTextCursor *c );
00981     QTextCursor *unexecute( QTextCursor *c );
00982 
00983 <font class="keyword">private</font>:
<a name="l00984"></a><a class="code" href="class_qt3__qtextalignmentcommand.html#o1">00984</a>     <font class="keywordtype">int</font> firstParag, lastParag;
<a name="l00985"></a><a class="code" href="class_qt3__qtextalignmentcommand.html#o2">00985</a>     <font class="keywordtype">int</font> newAlign;
<a name="l00986"></a><a class="code" href="class_qt3__qtextalignmentcommand.html#o3">00986</a>     QArray&lt;int&gt; oldAligns;
00987 
00988 };
00989 
<a name="l00990"></a><a class="code" href="class_qt3__qtextparagtypecommand.html">00990</a> <font class="keyword">class </font>Q_EXPORT QTextParagTypeCommand : <font class="keyword">public</font> QTextCommand
00991 {
00992 <font class="keyword">public</font>:
00993     QTextParagTypeCommand( QTextDocument *d, <font class="keywordtype">int</font> fParag, <font class="keywordtype">int</font> lParag, <font class="keywordtype">bool</font> l,
00994                QStyleSheetItem::ListStyle s, <font class="keyword">const</font> QValueList&lt; QVector&lt;QStyleSheetItem&gt; &gt; &amp;os,
00995                <font class="keyword">const</font> QValueList&lt;QStyleSheetItem::ListStyle&gt; &amp;ols );
<a name="l00996"></a><a class="code" href="class_qt3__qtextparagtypecommand.html#a1">00996</a>     Commands type()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> ParagType; }
00997     QTextCursor *execute( QTextCursor *c );
00998     QTextCursor *unexecute( QTextCursor *c );
00999 
01000 <font class="keyword">private</font>:
<a name="l01001"></a><a class="code" href="class_qt3__qtextparagtypecommand.html#o1">01001</a>     <font class="keywordtype">int</font> firstParag, lastParag;
<a name="l01002"></a><a class="code" href="class_qt3__qtextparagtypecommand.html#o2">01002</a>     <font class="keywordtype">bool</font> list;
<a name="l01003"></a><a class="code" href="class_qt3__qtextparagtypecommand.html#o3">01003</a>     QStyleSheetItem::ListStyle listStyle;
<a name="l01004"></a><a class="code" href="class_qt3__qtextparagtypecommand.html#o4">01004</a>     QValueList&lt; QVector&lt;QStyleSheetItem&gt; &gt; oldStyles;
<a name="l01005"></a><a class="code" href="class_qt3__qtextparagtypecommand.html#o5">01005</a>     QValueList&lt;QStyleSheetItem::ListStyle&gt; oldListStyles;
01006 
01007 };
01008 
01009 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01010 
<a name="l01011"></a><a class="code" href="class_qt3__qtextparagselection.html">01011</a> <font class="keyword">struct </font>Q_EXPORT QTextParagSelection
01012 {
<a name="l01013"></a><a class="code" href="class_qt3__qtextparagselection.html#m0">01013</a>     <font class="keywordtype">int</font> start, end;
01014 };
01015 
<a name="l01016"></a><a class="code" href="class_qt3__qtextparaglinestart.html">01016</a> <font class="keyword">struct </font>Q_EXPORT QTextParagLineStart
01017 {
<a name="l01018"></a><a class="code" href="class_qt3__qtextparaglinestart.html#a0">01018</a>     QTextParagLineStart() : y( 0 ), baseLine( 0 ), h( 0 ), bidicontext( 0 )<font class="keyword"> </font>{  }
<a name="l01019"></a><a class="code" href="class_qt3__qtextparaglinestart.html#a1">01019</a>     QTextParagLineStart( ushort y_, ushort bl, ushort h_ ) : y( y_ ), baseLine( bl ), h( h_ ),
01020     w( 0 ), bidicontext( 0 )<font class="keyword">  </font>{  }
<a name="l01021"></a><a class="code" href="class_qt3__qtextparaglinestart.html#a2">01021</a>     QTextParagLineStart( QBidiContext *c, QBidiStatus s ) : y(0), baseLine(0), h(0),
01022     status( s ), bidicontext( c )<font class="keyword"> </font>{ <font class="keywordflow">if</font> ( bidicontext ) bidicontext-&gt;ref();  }
<a name="l01023"></a><a class="code" href="class_qt3__qtextparaglinestart.html#a3">01023</a>     ~QTextParagLineStart()<font class="keyword"> </font>{ <font class="keywordflow">if</font> ( bidicontext ) bidicontext-&gt;deref();  }
<a name="l01024"></a><a class="code" href="class_qt3__qtextparaglinestart.html#a4">01024</a>     <font class="keywordtype">void</font> setContext( QBidiContext *c )<font class="keyword"> </font>{
01025     <font class="keywordflow">if</font> ( c == bidicontext )
01026         <font class="keywordflow">return</font>;
01027     <font class="keywordflow">if</font> ( bidicontext )
01028         bidicontext-&gt;deref();
01029     bidicontext = c;
01030     <font class="keywordflow">if</font> ( bidicontext )
01031         bidicontext-&gt;ref();
01032     }
<a name="l01033"></a><a class="code" href="class_qt3__qtextparaglinestart.html#a5">01033</a>     QBidiContext *context()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> bidicontext; }
01034 
01035 <font class="keyword">public</font>:
<a name="l01036"></a><a class="code" href="class_qt3__qtextparaglinestart.html#m0">01036</a>     ushort y, baseLine, h;
<a name="l01037"></a><a class="code" href="class_qt3__qtextparaglinestart.html#m3">01037</a>     QBidiStatus status;
<a name="l01038"></a><a class="code" href="class_qt3__qtextparaglinestart.html#m4">01038</a>     <font class="keywordtype">int</font> w;
01039 
01040 <font class="keyword">private</font>:
<a name="l01041"></a><a class="code" href="class_qt3__qtextparaglinestart.html#o0">01041</a>     QBidiContext *bidicontext;
01042 
01043 };
01044 
01045 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>01046 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
01047 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QMap&lt;int, QTextParagSelection&gt;;
01048 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QMap&lt;int, QTextParagLineStart*&gt;;
01049 <font class="comment">// MOC_SKIP_END</font>
01050 <font class="preprocessor">#endif
</font>01051 <font class="preprocessor"></font>
<a name="l01052"></a><a class="code" href="class_qt3__qtextparagdata.html">01052</a> <font class="keyword">class </font>Q_EXPORT QTextParagData
01053 {
01054 <font class="keyword">public</font>:
<a name="l01055"></a><a class="code" href="class_qt3__qtextparagdata.html#a0">01055</a>     QTextParagData()<font class="keyword"> </font>{}
<a name="l01056"></a><a class="code" href="class_qt3__qtextparagdata.html#a1">01056</a>     <font class="keyword">virtual</font> ~QTextParagData()<font class="keyword"> </font>{}
<a name="l01057"></a><a class="code" href="class_qt3__qtextparagdata.html#a2">01057</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> join( QTextParagData * )<font class="keyword"> </font>{}
01058 };
01059 
<a name="l01060"></a><a class="code" href="class_qt3__qtextparag.html">01060</a> <font class="keyword">class </font>Q_EXPORT QTextParag
01061 {
<a name="l01062"></a><a class="code" href="class_qt3__qtextparag.html#l0">01062</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextDocument;
01063 
01064 <font class="keyword">public</font>:
01065     QTextParag( QTextDocument *d, QTextParag *pr = 0, QTextParag *nx = 0, <font class="keywordtype">bool</font> updateIds = TRUE );
01066     <font class="keyword">virtual</font> ~QTextParag();
01067 
01068     QTextString *string() <font class="keyword">const</font>;
01069     QTextStringChar *at( <font class="keywordtype">int</font> i ) <font class="keyword">const</font>; <font class="comment">// maybe remove later</font>
01070     <font class="keywordtype">int</font> length() <font class="keyword">const</font>; <font class="comment">// maybe remove later</font>
01071 
01072     <font class="keywordtype">void</font> setListStyle( QStyleSheetItem::ListStyle ls );
01073     QStyleSheetItem::ListStyle listStyle() <font class="keyword">const</font>;
01074 
01075     <font class="keywordtype">void</font> setList( <font class="keywordtype">bool</font> b, <font class="keywordtype">int</font> listStyle );
01076     <font class="keywordtype">void</font> incDepth();
01077     <font class="keywordtype">void</font> decDepth();
01078 
01079     <font class="keywordtype">void</font> setFormat( QTextFormat *fm );
01080     QTextFormat *paragFormat() <font class="keyword">const</font>;
01081 
01082     QTextDocument *document() <font class="keyword">const</font>;
01083 
01084     QRect rect() <font class="keyword">const</font>;
01085 
01086     QTextParag *prev() <font class="keyword">const</font>;
01087     QTextParag *next() <font class="keyword">const</font>;
01088     <font class="keywordtype">void</font> setPrev( QTextParag *s );
01089     <font class="keywordtype">void</font> setNext( QTextParag *s );
01090 
01091     <font class="keywordtype">void</font> insert( <font class="keywordtype">int</font> index, <font class="keyword">const</font> QString &amp;s );
01092     <font class="keywordtype">void</font> append( <font class="keyword">const</font> QString &amp;s, <font class="keywordtype">bool</font> reallyAtEnd = FALSE );
01093     <font class="keywordtype">void</font> truncate( <font class="keywordtype">int</font> index );
01094     <font class="keywordtype">void</font> remove( <font class="keywordtype">int</font> index, <font class="keywordtype">int</font> len );
01095     <font class="keywordtype">void</font> join( QTextParag *s );
01096 
01097     <font class="keywordtype">void</font> invalidate( <font class="keywordtype">int</font> chr );
01098 
01099     <font class="keywordtype">void</font> move( <font class="keywordtype">int</font> dy );
01100     <font class="keywordtype">void</font> format( <font class="keywordtype">int</font> start = -1, <font class="keywordtype">bool</font> doMove = TRUE );
01101 
01102     <font class="keywordtype">bool</font> isValid() <font class="keyword">const</font>;
01103     <font class="keywordtype">bool</font> hasChanged() <font class="keyword">const</font>;
01104     <font class="keywordtype">void</font> setChanged( <font class="keywordtype">bool</font> b, <font class="keywordtype">bool</font> recursive = FALSE );
01105 
01106     <font class="keywordtype">int</font> lineHeightOfChar( <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> *bl = 0, <font class="keywordtype">int</font> *y = 0 ) <font class="keyword">const</font>;
01107     QTextStringChar *lineStartOfChar( <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> *index = 0, <font class="keywordtype">int</font> *line = 0 ) <font class="keyword">const</font>;
01108     <font class="keywordtype">int</font> lines() <font class="keyword">const</font>;
01109     QTextStringChar *lineStartOfLine( <font class="keywordtype">int</font> line, <font class="keywordtype">int</font> *index = 0 ) <font class="keyword">const</font>;
01110     <font class="keywordtype">int</font> lineY( <font class="keywordtype">int</font> l ) <font class="keyword">const</font>;
01111     <font class="keywordtype">int</font> lineBaseLine( <font class="keywordtype">int</font> l ) <font class="keyword">const</font>;
01112     <font class="keywordtype">int</font> lineHeight( <font class="keywordtype">int</font> l ) <font class="keyword">const</font>;
01113     <font class="keywordtype">void</font> lineInfo( <font class="keywordtype">int</font> l, <font class="keywordtype">int</font> &amp;y, <font class="keywordtype">int</font> &amp;h, <font class="keywordtype">int</font> &amp;bl ) <font class="keyword">const</font>;
01114 
01115     <font class="keywordtype">void</font> setSelection( <font class="keywordtype">int</font> id, <font class="keywordtype">int</font> start, <font class="keywordtype">int</font> end );
01116     <font class="keywordtype">void</font> removeSelection( <font class="keywordtype">int</font> id );
01117     <font class="keywordtype">int</font> selectionStart( <font class="keywordtype">int</font> id ) <font class="keyword">const</font>;
01118     <font class="keywordtype">int</font> selectionEnd( <font class="keywordtype">int</font> id ) <font class="keyword">const</font>;
01119     <font class="keywordtype">bool</font> hasSelection( <font class="keywordtype">int</font> id ) <font class="keyword">const</font>;
01120     <font class="keywordtype">bool</font> hasAnySelection() <font class="keyword">const</font>;
01121     <font class="keywordtype">bool</font> fullSelected( <font class="keywordtype">int</font> id ) <font class="keyword">const</font>;
01122 
01123     <font class="keywordtype">void</font> setEndState( <font class="keywordtype">int</font> s );
01124     <font class="keywordtype">int</font> endState() <font class="keyword">const</font>;
01125 
01126     <font class="keywordtype">void</font> setParagId( <font class="keywordtype">int</font> i );
01127     <font class="keywordtype">int</font> paragId() <font class="keyword">const</font>;
01128 
01129     <font class="keywordtype">bool</font> firstPreProcess() <font class="keyword">const</font>;
01130     <font class="keywordtype">void</font> setFirstPreProcess( <font class="keywordtype">bool</font> b );
01131 
01132     <font class="keywordtype">void</font> indent( <font class="keywordtype">int</font> *oldIndent = 0, <font class="keywordtype">int</font> *newIndent = 0 );
01133 
01134     <font class="keywordtype">void</font> setExtraData( QTextParagData *data );
01135     QTextParagData *extraData() <font class="keyword">const</font>;
01136 
01137     QMap&lt;int, QTextParagLineStart*&gt; &amp;lineStartList();
01138 
01139     <font class="keywordtype">void</font> setFormat( <font class="keywordtype">int</font> index, <font class="keywordtype">int</font> len, QTextFormat *f, <font class="keywordtype">bool</font> useCollection = TRUE, <font class="keywordtype">int</font> flags = -1 );
01140 
01141     <font class="keywordtype">void</font> setAlignment( <font class="keywordtype">int</font> a );
01142     <font class="keywordtype">int</font> alignment() <font class="keyword">const</font>;
01143 
01144     <font class="keyword">virtual</font> <font class="keywordtype">void</font> paint( QPainter &amp;painter, <font class="keyword">const</font> QColorGroup &amp;cg, QTextCursor *cusror = 0, <font class="keywordtype">bool</font> drawSelections = FALSE,
01145             <font class="keywordtype">int</font> clipx = -1, <font class="keywordtype">int</font> clipy = -1, <font class="keywordtype">int</font> clipw = -1, <font class="keywordtype">int</font> cliph = -1 );
01146 
01147     <font class="keywordtype">void</font> setStyleSheetItems( <font class="keyword">const</font> QVector&lt;QStyleSheetItem&gt; &amp;vec );
01148     QVector&lt;QStyleSheetItem&gt; styleSheetItems() <font class="keyword">const</font>;
01149     QStyleSheetItem *style() <font class="keyword">const</font>;
01150 
01151     <font class="keywordtype">int</font> topMargin() <font class="keyword">const</font>;
01152     <font class="keywordtype">int</font> bottomMargin() <font class="keyword">const</font>;
01153     <font class="keywordtype">int</font> leftMargin() <font class="keyword">const</font>;
01154     <font class="keywordtype">int</font> firstLineMargin() <font class="keyword">const</font>;
01155     <font class="keywordtype">int</font> rightMargin() <font class="keyword">const</font>;
01156     <font class="keywordtype">int</font> lineSpacing() <font class="keyword">const</font>;
01157 
01158     <font class="keywordtype">int</font> numberOfSubParagraph() <font class="keyword">const</font>;
01159     <font class="keywordtype">void</font> registerFloatingItem( QTextCustomItem *i );
01160     <font class="keywordtype">void</font> unregisterFloatingItem( QTextCustomItem *i );
01161 
<a name="l01162"></a><a class="code" href="class_qt3__qtextparag.html#a70">01162</a>     <font class="keywordtype">void</font> setFullWidth( <font class="keywordtype">bool</font> b )<font class="keyword"> </font>{ fullWidth = b; }
<a name="l01163"></a><a class="code" href="class_qt3__qtextparag.html#a71">01163</a>     <font class="keywordtype">bool</font> isFullWidth()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> fullWidth; }
01164 
<a name="l01165"></a><a class="code" href="class_qt3__qtextparag.html#a72">01165</a>     QTextTableCell *tableCell()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> tc; }
<a name="l01166"></a><a class="code" href="class_qt3__qtextparag.html#a73">01166</a>     <font class="keywordtype">void</font> setTableCell( QTextTableCell *c )<font class="keyword"> </font>{ tc = c; }
01167 
01168     <font class="keywordtype">void</font> addCustomItem();
01169     <font class="keywordtype">void</font> removeCustomItem();
01170     <font class="keywordtype">int</font> customItems() <font class="keyword">const</font>;
01171 
01172     QBrush *background() <font class="keyword">const</font>;
01173 
01174     <font class="keywordtype">void</font> setDocumentRect( <font class="keyword">const</font> QRect &amp;r );
01175     <font class="keywordtype">int</font> documentWidth() <font class="keyword">const</font>;
01176     <font class="keywordtype">int</font> documentVisibleWidth() <font class="keyword">const</font>;
01177     <font class="keywordtype">int</font> documentX() <font class="keyword">const</font>;
01178     <font class="keywordtype">int</font> documentY() <font class="keyword">const</font>;
01179     QTextFormatCollection *formatCollection() <font class="keyword">const</font>;
01180     <font class="keywordtype">void</font> setFormatter( QTextFormatter *f );
01181     QTextFormatter *formatter() <font class="keyword">const</font>;
01182     <font class="keywordtype">int</font> minimumWidth() <font class="keyword">const</font>;
01183 
01184     <font class="keywordtype">int</font> nextTab( <font class="keywordtype">int</font> x );
01185     <font class="keywordtype">void</font> setTabArray( <font class="keywordtype">int</font> *a );
01186     <font class="keywordtype">void</font> setTabStops( <font class="keywordtype">int</font> tw );
01187 
01188     <font class="keywordtype">void</font> setPainter( QPainter *p );
<a name="l01189"></a><a class="code" href="class_qt3__qtextparag.html#a91">01189</a>     QPainter *painter()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> pntr; }
01190 
01191     <font class="keywordtype">void</font> setNewLinesAllowed( <font class="keywordtype">bool</font> b );
01192     <font class="keywordtype">bool</font> isNewLinesAllowed() <font class="keyword">const</font>;
01193 
01194     QString richText() <font class="keyword">const</font>;
01195 
01196     <font class="keywordtype">void</font> addCommand( QTextCommand *cmd );
01197     QTextCursor *undo( QTextCursor *c = 0 );
01198     QTextCursor *redo( QTextCursor *c  = 0 );
<a name="l01199"></a><a class="code" href="class_qt3__qtextparag.html#a98">01199</a>     QTextCommandHistory *commands()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> commandHistory; }
01200     <font class="keyword">virtual</font> <font class="keywordtype">void</font> copyParagData( QTextParag *parag );
01201 
01202 <font class="keyword">protected</font>:
01203     <font class="keyword">virtual</font> <font class="keywordtype">void</font> drawLabel( QPainter* p, <font class="keywordtype">int</font> x, <font class="keywordtype">int</font> y, <font class="keywordtype">int</font> w, <font class="keywordtype">int</font> h, <font class="keywordtype">int</font> base, <font class="keyword">const</font> QColorGroup&amp; cg );
01204 
01205 <font class="keyword">private</font>:
01206     <font class="keywordtype">void</font> drawParagString( QPainter &amp;painter, <font class="keyword">const</font> QString &amp;str, <font class="keywordtype">int</font> start, <font class="keywordtype">int</font> len, <font class="keywordtype">int</font> startX,
01207               <font class="keywordtype">int</font> lastY, <font class="keywordtype">int</font> baseLine, <font class="keywordtype">int</font> bw, <font class="keywordtype">int</font> h, <font class="keywordtype">bool</font> drawSelections,
01208               QTextFormat *lastFormat, <font class="keywordtype">int</font> i, <font class="keywordtype">int</font> *selectionStarts,
01209               <font class="keywordtype">int</font> *selectionEnds, <font class="keyword">const</font> QColorGroup &amp;cg, <font class="keywordtype">bool</font> rightToLeft  );
01210 
01211 <font class="keyword">private</font>:
01212 
<a name="l01213"></a><a class="code" href="class_qt3__qtextparag.html#o0">01213</a>     QMap&lt;int, QTextParagLineStart*&gt; lineStarts;
<a name="l01214"></a><a class="code" href="class_qt3__qtextparag.html#o1">01214</a>     <font class="keywordtype">int</font> invalid;
<a name="l01215"></a><a class="code" href="class_qt3__qtextparag.html#o2">01215</a>     QRect r;
<a name="l01216"></a><a class="code" href="class_qt3__qtextparag.html#o3">01216</a>     QTextParag *p, *n;
<a name="l01217"></a><a class="code" href="class_qt3__qtextparag.html#o5">01217</a>     QTextDocument *doc;
<a name="l01218"></a><a class="code" href="class_qt3__qtextparag.html#o6">01218</a>     <font class="keywordtype">bool</font> changed : 1;
<a name="l01219"></a><a class="code" href="class_qt3__qtextparag.html#o7">01219</a>     <font class="keywordtype">bool</font> firstFormat : 1;
<a name="l01220"></a><a class="code" href="class_qt3__qtextparag.html#o8">01220</a>     <font class="keywordtype">bool</font> firstPProcess : 1;
<a name="l01221"></a><a class="code" href="class_qt3__qtextparag.html#o9">01221</a>     <font class="keywordtype">bool</font> needPreProcess : 1;
<a name="l01222"></a><a class="code" href="class_qt3__qtextparag.html#o10">01222</a>     <font class="keywordtype">bool</font> fullWidth : 1;
<a name="l01223"></a><a class="code" href="class_qt3__qtextparag.html#o11">01223</a>     <font class="keywordtype">bool</font> newLinesAllowed : 1;
<a name="l01224"></a><a class="code" href="class_qt3__qtextparag.html#o12">01224</a>     <font class="keywordtype">bool</font> splittedInside : 1;
<a name="l01225"></a><a class="code" href="class_qt3__qtextparag.html#o13">01225</a>     <font class="keywordtype">bool</font> lastInFrame : 1;
<a name="l01226"></a><a class="code" href="class_qt3__qtextparag.html#o14">01226</a>     QMap&lt;int, QTextParagSelection&gt; selections;
<a name="l01227"></a><a class="code" href="class_qt3__qtextparag.html#o15">01227</a>     <font class="keywordtype">int</font> state, id;
<a name="l01228"></a><a class="code" href="class_qt3__qtextparag.html#o17">01228</a>     QTextString *str;
<a name="l01229"></a><a class="code" href="class_qt3__qtextparag.html#o18">01229</a>     <font class="keywordtype">int</font> align;
<a name="l01230"></a><a class="code" href="class_qt3__qtextparag.html#o19">01230</a>     QVector&lt;QStyleSheetItem&gt; styleSheetItemsVec;
<a name="l01231"></a><a class="code" href="class_qt3__qtextparag.html#o20">01231</a>     QStyleSheetItem::ListStyle listS;
<a name="l01232"></a><a class="code" href="class_qt3__qtextparag.html#o21">01232</a>     <font class="keywordtype">int</font> numSubParag;
<a name="l01233"></a><a class="code" href="class_qt3__qtextparag.html#o22">01233</a>     <font class="keywordtype">int</font> tm, bm, lm, rm, flm;
<a name="l01234"></a><a class="code" href="class_qt3__qtextparag.html#o27">01234</a>     QTextFormat *defFormat;
<a name="l01235"></a><a class="code" href="class_qt3__qtextparag.html#o28">01235</a>     QList&lt;QTextCustomItem&gt; floatingItems;
<a name="l01236"></a><a class="code" href="class_qt3__qtextparag.html#o29">01236</a>     QTextTableCell *tc;
<a name="l01237"></a><a class="code" href="class_qt3__qtextparag.html#o30">01237</a>     <font class="keywordtype">int</font> numCustomItems;
<a name="l01238"></a><a class="code" href="class_qt3__qtextparag.html#o31">01238</a>     QRect docRect;
<a name="l01239"></a><a class="code" href="class_qt3__qtextparag.html#o32">01239</a>     QTextFormatter *pFormatter;
<a name="l01240"></a><a class="code" href="class_qt3__qtextparag.html#o33">01240</a>     <font class="keywordtype">int</font> *tabArray;
<a name="l01241"></a><a class="code" href="class_qt3__qtextparag.html#o34">01241</a>     <font class="keywordtype">int</font> tabStopWidth;
<a name="l01242"></a><a class="code" href="class_qt3__qtextparag.html#o35">01242</a>     QTextParagData *eData;
<a name="l01243"></a><a class="code" href="class_qt3__qtextparag.html#o36">01243</a>     QPainter *pntr;
<a name="l01244"></a><a class="code" href="class_qt3__qtextparag.html#o37">01244</a>     QTextCommandHistory *commandHistory;
01245 
01246 };
01247 
01248 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01249 
<a name="l01250"></a><a class="code" href="class_qt3__qtextformatter.html">01250</a> <font class="keyword">class </font>Q_EXPORT QTextFormatter
01251 {
01252 <font class="keyword">public</font>:
01253     QTextFormatter();
<a name="l01254"></a><a class="code" href="class_qt3__qtextformatter.html#a1">01254</a>     <font class="keyword">virtual</font> ~QTextFormatter()<font class="keyword"> </font>{}
01255     <font class="keyword">virtual</font> <font class="keywordtype">int</font> format( QTextDocument *doc, QTextParag *parag, <font class="keywordtype">int</font> start, <font class="keyword">const</font> QMap&lt;<font class="keywordtype">int</font>, QTextParagLineStart*&gt; &amp;oldLineStarts ) = 0;
01256 
<a name="l01257"></a><a class="code" href="class_qt3__qtextformatter.html#a3">01257</a>     <font class="keywordtype">bool</font> isWrapEnabled()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> wrapEnabled;}
<a name="l01258"></a><a class="code" href="class_qt3__qtextformatter.html#a4">01258</a>     <font class="keywordtype">int</font> wrapAtColumn()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> wrapColumn;}
<a name="l01259"></a><a class="code" href="class_qt3__qtextformatter.html#a5">01259</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> setWrapEnabled( <font class="keywordtype">bool</font> b )<font class="keyword"> </font>{ wrapEnabled = b; }
<a name="l01260"></a><a class="code" href="class_qt3__qtextformatter.html#a6">01260</a>     <font class="keyword">virtual</font> <font class="keywordtype">void</font> setWrapAtColumn( <font class="keywordtype">int</font> c )<font class="keyword"> </font>{ wrapColumn = c; }
01261 
01262 <font class="keyword">protected</font>:
01263     <font class="keyword">virtual</font> QTextParagLineStart *formatLine( QTextParag *parag, QTextString *string, QTextParagLineStart *line, QTextStringChar *start,
01264                            QTextStringChar *last, <font class="keywordtype">int</font> align = Qt3::AlignAuto, <font class="keywordtype">int</font> space = 0 );
01265     <font class="comment">//QTextStringChar</font>
01266     <font class="comment">//virtual QTextParagLineStart *bidiReorderLine( QTextParag *parag, QTextString *string, QTextParagLineStart *line, QTextStringChar *start,</font>
01267     <font class="comment">//                      QTextStringChar *last, int align, int space );</font>
01268     <font class="keyword">virtual</font> <font class="keywordtype">bool</font> isBreakable( QTextString *string, <font class="keywordtype">int</font> pos ) <font class="keyword">const</font>;
01269     <font class="keywordtype">void</font> insertLineStart( QTextParag *parag, <font class="keywordtype">int</font> index, QTextParagLineStart *ls );
01270 
01271 <font class="keyword">private</font>:
<a name="l01272"></a><a class="code" href="class_qt3__qtextformatter.html#o0">01272</a>     <font class="keywordtype">bool</font> wrapEnabled;
<a name="l01273"></a><a class="code" href="class_qt3__qtextformatter.html#o1">01273</a>     <font class="keywordtype">int</font> wrapColumn;
01274 
01275 <font class="preprocessor">#ifdef HAVE_THAI_BREAKS
</font>01276 <font class="preprocessor"></font>    <font class="keyword">static</font> QCString *thaiCache;
01277     <font class="keyword">static</font> QTextString *cachedString;
01278     <font class="keyword">static</font> ThBreakIterator *thaiIt;
01279 <font class="preprocessor">#endif
</font>01280 <font class="preprocessor"></font>};
01281 
01282 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01283 
<a name="l01284"></a><a class="code" href="class_qt3__qtextformatterbreakinwords.html">01284</a> <font class="keyword">class </font>Q_EXPORT QTextFormatterBreakInWords : <font class="keyword">public</font> QTextFormatter
01285 {
01286 <font class="keyword">public</font>:
01287     QTextFormatterBreakInWords();
01288     <font class="keywordtype">int</font> format( QTextDocument *doc, QTextParag *parag, <font class="keywordtype">int</font> start, <font class="keyword">const</font> QMap&lt;<font class="keywordtype">int</font>, QTextParagLineStart*&gt; &amp;oldLineStarts );
01289 
01290 };
01291 
01292 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01293 
<a name="l01294"></a><a class="code" href="class_qt3__qtextformatterbreakwords.html">01294</a> <font class="keyword">class </font>Q_EXPORT QTextFormatterBreakWords : <font class="keyword">public</font> QTextFormatter
01295 {
01296 <font class="keyword">public</font>:
01297     QTextFormatterBreakWords();
01298     <font class="keywordtype">int</font> format( QTextDocument *doc, QTextParag *parag, <font class="keywordtype">int</font> start, <font class="keyword">const</font> QMap&lt;<font class="keywordtype">int</font>, QTextParagLineStart*&gt; &amp;oldLineStarts );
01299 
01300 };
01301 
01302 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01303 
<a name="l01304"></a><a class="code" href="class_qt3__qtextindent.html">01304</a> <font class="keyword">class </font>Q_EXPORT QTextIndent
01305 {
01306 <font class="keyword">public</font>:
01307     QTextIndent();
01308     <font class="keyword">virtual</font> <font class="keywordtype">void</font> indent( QTextDocument *doc, QTextParag *parag, <font class="keywordtype">int</font> *oldIndent = 0, <font class="keywordtype">int</font> *newIndent = 0 ) = 0;
01309 
01310 };
01311 
01312 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01313 
<a name="l01314"></a><a class="code" href="class_qt3__qtextpreprocessor.html">01314</a> <font class="keyword">class </font>Q_EXPORT QTextPreProcessor
01315 {
01316 <font class="keyword">public</font>:
<a name="l01317"></a><a class="code" href="class_qt3__qtextpreprocessor.html#s1">01317</a>     <font class="keyword">enum</font> Ids {
01318     Standard = 0
01319     };
01320 
01321     QTextPreProcessor();
01322     <font class="keyword">virtual</font> <font class="keywordtype">void</font> process( QTextDocument *doc, QTextParag *, <font class="keywordtype">int</font>, <font class="keywordtype">bool</font> = TRUE ) = 0;
01323     <font class="keyword">virtual</font> QTextFormat *format( <font class="keywordtype">int</font> id ) = 0;
01324 
01325 };
01326 
01327 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01328 
<a name="l01329"></a><a class="code" href="class_qt3__qtextformat.html">01329</a> <font class="keyword">class </font>Q_EXPORT QTextFormat
01330 {
<a name="l01331"></a><a class="code" href="class_qt3__qtextformat.html#l0">01331</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextFormatCollection;
01332 
01333 <font class="keyword">public</font>:
<a name="l01334"></a><a class="code" href="class_qt3__qtextformat.html#s14">01334</a>     <font class="keyword">enum</font> Flags {
01335     NoFlags,
01336     Bold = 1,
01337     Italic = 2,
01338     Underline = 4,
01339     Family = 8,
01340     Size = 16,
01341     Color = 32,
01342     Misspelled = 64,
01343     HAlign = 128,
01344     Font = Bold | Italic | Underline | Family | Size,
01345     Format = Font | Color | Misspelled | HAlign
01346     };
01347 
<a name="l01348"></a><a class="code" href="class_qt3__qtextformat.html#s15">01348</a>     <font class="keyword">enum</font> HorizontalAlignemnt { AlignNormal, AlignSubScript, AlignSuperScript };
01349 
01350     QTextFormat();
01351     QTextFormat( <font class="keyword">const</font> QStyleSheetItem *s );
01352     QTextFormat( <font class="keyword">const</font> QFont &amp;f, <font class="keyword">const</font> QColor &amp;c );
01353     QTextFormat( <font class="keyword">const</font> QTextFormat &amp;fm );
01354     QTextFormat makeTextFormat( <font class="keyword">const</font> QStyleSheetItem *style, <font class="keyword">const</font> QMap&lt;QString,QString&gt;&amp; attr ) <font class="keyword">const</font>;
01355     QTextFormat&amp; operator=( <font class="keyword">const</font> QTextFormat &amp;fm );
01356     QColor color() <font class="keyword">const</font>;
01357     QFont font() <font class="keyword">const</font>;
01358     <font class="keywordtype">bool</font> isMisspelled() <font class="keyword">const</font>;
01359     HorizontalAlignemnt hAlign() <font class="keyword">const</font>;
01360     <font class="keywordtype">int</font> minLeftBearing() <font class="keyword">const</font>;
01361     <font class="keywordtype">int</font> minRightBearing() <font class="keyword">const</font>;
01362     <font class="keywordtype">int</font> width( <font class="keyword">const</font> QChar &amp;c ) <font class="keyword">const</font>;
01363     <font class="keywordtype">int</font> width( <font class="keyword">const</font> QString &amp;str, <font class="keywordtype">int</font> pos ) <font class="keyword">const</font>;
01364     <font class="keywordtype">int</font> height() <font class="keyword">const</font>;
01365     <font class="keywordtype">int</font> ascent() <font class="keyword">const</font>;
01366     <font class="keywordtype">int</font> descent() <font class="keyword">const</font>;
01367     QString anchorHref() <font class="keyword">const</font>;
01368     QString anchorName() <font class="keyword">const</font>;
01369     <font class="keywordtype">bool</font> isAnchor() <font class="keyword">const</font>;
01370     <font class="keywordtype">bool</font> useLinkColor() <font class="keyword">const</font>;
01371 
01372     <font class="keywordtype">void</font> setBold( <font class="keywordtype">bool</font> b );
01373     <font class="keywordtype">void</font> setItalic( <font class="keywordtype">bool</font> b );
01374     <font class="keywordtype">void</font> setUnderline( <font class="keywordtype">bool</font> b );
01375     <font class="keywordtype">void</font> setFamily( <font class="keyword">const</font> QString &amp;f );
01376     <font class="keywordtype">void</font> setPointSize( <font class="keywordtype">int</font> s );
01377     <font class="keywordtype">void</font> setFont( <font class="keyword">const</font> QFont &amp;f );
01378     <font class="keywordtype">void</font> setColor( <font class="keyword">const</font> QColor &amp;c );
01379     <font class="keywordtype">void</font> setMisspelled( <font class="keywordtype">bool</font> b );
01380     <font class="keywordtype">void</font> setHAlign( HorizontalAlignemnt a );
01381 
01382     <font class="keywordtype">bool</font> operator==( <font class="keyword">const</font> QTextFormat &amp;f ) <font class="keyword">const</font>;
01383     QTextFormatCollection *parent() <font class="keyword">const</font>;
01384     QString key() <font class="keyword">const</font>;
01385 
01386     <font class="keyword">static</font> QString getKey( <font class="keyword">const</font> QFont &amp;f, <font class="keyword">const</font> QColor &amp;c, <font class="keywordtype">bool</font> misspelled, <font class="keyword">const</font> QString &amp;lhref, <font class="keyword">const</font> QString &amp;lnm, HorizontalAlignemnt hAlign );
01387 
01388     <font class="keywordtype">void</font> addRef();
01389     <font class="keywordtype">void</font> removeRef();
01390 
01391     QString makeFormatChangeTags( QTextFormat *f ) <font class="keyword">const</font>;
01392     QString makeFormatEndTags() <font class="keyword">const</font>;
01393 
01394     <font class="keywordtype">void</font> setPainter( QPainter *p );
01395     <font class="keywordtype">void</font> updateStyle();
01396     <font class="keywordtype">void</font> updateStyleFlags();
01397     <font class="keywordtype">void</font> setStyle( <font class="keyword">const</font> QString &amp;s );
<a name="l01398"></a><a class="code" href="class_qt3__qtextformat.html#a41">01398</a>     QString styleName()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> style; }
01399 
<a name="l01400"></a><a class="code" href="class_qt3__qtextformat.html#a42">01400</a>     <font class="keywordtype">int</font> changed()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> different; }
01401 
01402 <font class="keyword">private</font>:
01403     <font class="keywordtype">void</font> update();
01404     <font class="keywordtype">void</font> generateKey();
01405 
01406 <font class="keyword">private</font>:
<a name="l01407"></a><a class="code" href="class_qt3__qtextformat.html#o0">01407</a>     QFont fn;
<a name="l01408"></a><a class="code" href="class_qt3__qtextformat.html#o1">01408</a>     QColor col;
<a name="l01409"></a><a class="code" href="class_qt3__qtextformat.html#o2">01409</a>     QFontMetrics fm;
<a name="l01410"></a><a class="code" href="class_qt3__qtextformat.html#o3">01410</a>     uint missp : 1;
<a name="l01411"></a><a class="code" href="class_qt3__qtextformat.html#o4">01411</a>     uint linkColor : 1;
<a name="l01412"></a><a class="code" href="class_qt3__qtextformat.html#o6">01412</a>     <font class="keywordtype">int</font> leftBearing, rightBearing;
<a name="l01413"></a><a class="code" href="class_qt3__qtextformat.html#o7">01413</a>     HorizontalAlignemnt ha;
<a name="l01414"></a><a class="code" href="class_qt3__qtextformat.html#o8">01414</a>     uchar widths[ 256 ];
<a name="l01415"></a><a class="code" href="class_qt3__qtextformat.html#o9">01415</a>     <font class="keywordtype">int</font> hei, asc, dsc;
<a name="l01416"></a><a class="code" href="class_qt3__qtextformat.html#o12">01416</a>     QTextFormatCollection *collection;
<a name="l01417"></a><a class="code" href="class_qt3__qtextformat.html#o13">01417</a>     <font class="keywordtype">int</font> ref;
<a name="l01418"></a><a class="code" href="class_qt3__qtextformat.html#o14">01418</a>     QString k;
<a name="l01419"></a><a class="code" href="class_qt3__qtextformat.html#o15">01419</a>     <font class="keywordtype">int</font> logicalFontSize;
<a name="l01420"></a><a class="code" href="class_qt3__qtextformat.html#o16">01420</a>     <font class="keywordtype">int</font> stdPointSize;
<a name="l01421"></a><a class="code" href="class_qt3__qtextformat.html#o17">01421</a>     QString anchor_href;
<a name="l01422"></a><a class="code" href="class_qt3__qtextformat.html#o18">01422</a>     QString anchor_name;
<a name="l01423"></a><a class="code" href="class_qt3__qtextformat.html#o19">01423</a>     QPainter *painter;
<a name="l01424"></a><a class="code" href="class_qt3__qtextformat.html#o20">01424</a>     QString style;
<a name="l01425"></a><a class="code" href="class_qt3__qtextformat.html#o21">01425</a>     <font class="keywordtype">int</font> different;
01426 
01427 };
01428 
01429 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01430 
01431 <font class="preprocessor">#if defined(Q_TEMPLATEDLL)
</font>01432 <font class="preprocessor"></font><font class="comment">// MOC_SKIP_BEGIN</font>
01433 <font class="keyword">template</font> <font class="keyword">class </font>Q_EXPORT QDict&lt;QTextFormat&gt;;
01434 <font class="comment">// MOC_SKIP_END</font>
01435 <font class="preprocessor">#endif
</font>01436 <font class="preprocessor"></font>
<a name="l01437"></a><a class="code" href="class_qt3__qtextformatcollection.html">01437</a> <font class="keyword">class </font>Q_EXPORT QTextFormatCollection
01438 {
<a name="l01439"></a><a class="code" href="class_qt3__qtextformatcollection.html#l0">01439</a>     <font class="keyword">friend</font> <font class="keyword">class </font>QTextDocument;
01440 
01441 <font class="keyword">public</font>:
01442     QTextFormatCollection();
01443     ~QTextFormatCollection();
01444 
01445     <font class="keywordtype">void</font> setDefaultFormat( QTextFormat *f );
01446     QTextFormat *defaultFormat() <font class="keyword">const</font>;
01447     QTextFormat *format( QTextFormat *f );
01448     QTextFormat *format( QTextFormat *of, QTextFormat *nf, <font class="keywordtype">int</font> flags );
01449     QTextFormat *format( <font class="keyword">const</font> QFont &amp;f, <font class="keyword">const</font> QColor &amp;c );
01450     <font class="keywordtype">void</font> remove( QTextFormat *f );
01451 
01452     <font class="keywordtype">void</font> debug();
01453 
01454     <font class="keywordtype">void</font> setPainter( QPainter *p );
<a name="l01455"></a><a class="code" href="class_qt3__qtextformatcollection.html#a10">01455</a>     QStyleSheet *styleSheet()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> sheet; }
<a name="l01456"></a><a class="code" href="class_qt3__qtextformatcollection.html#a11">01456</a>     <font class="keywordtype">void</font> setStyleSheet( QStyleSheet *s )<font class="keyword"> </font>{ sheet = s; }
01457     <font class="keywordtype">void</font> updateStyles();
01458     <font class="keywordtype">void</font> updateFontSizes( <font class="keywordtype">int</font> base );
01459 
01460 <font class="keyword">private</font>:
<a name="l01461"></a><a class="code" href="class_qt3__qtextformatcollection.html#o1">01461</a>     QTextFormat *defFormat, *lastFormat, *cachedFormat;
<a name="l01462"></a><a class="code" href="class_qt3__qtextformatcollection.html#o3">01462</a>     QDict&lt;QTextFormat&gt; cKey;
<a name="l01463"></a><a class="code" href="class_qt3__qtextformatcollection.html#o4">01463</a>     QTextFormat *cres;
<a name="l01464"></a><a class="code" href="class_qt3__qtextformatcollection.html#o5">01464</a>     QFont cfont;
<a name="l01465"></a><a class="code" href="class_qt3__qtextformatcollection.html#o6">01465</a>     QColor ccol;
<a name="l01466"></a><a class="code" href="class_qt3__qtextformatcollection.html#o7">01466</a>     QString kof, knf;
<a name="l01467"></a><a class="code" href="class_qt3__qtextformatcollection.html#o9">01467</a>     <font class="keywordtype">int</font> cflags;
<a name="l01468"></a><a class="code" href="class_qt3__qtextformatcollection.html#o10">01468</a>     QStyleSheet *sheet;
01469 
01470 };
01471 
01472 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01473 
<a name="l01474"></a><a class="code" href="class_qt3__qtextcursor.html#a8">01474</a> <font class="keyword">inline</font> QTextParag *QTextCursor::parag()<font class="keyword"> const
</font>01475 <font class="keyword"></font>{
01476     <font class="keywordflow">return</font> string;
01477 }
01478 
<a name="l01479"></a><a class="code" href="class_qt3__qtextcursor.html#a9">01479</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextCursor::index()<font class="keyword"> const
</font>01480 <font class="keyword"></font>{
01481     <font class="keywordflow">return</font> idx;
01482 }
01483 
<a name="l01484"></a><a class="code" href="class_qt3__qtextcursor.html#a30">01484</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextCursor::setIndex( <font class="keywordtype">int</font> i, <font class="keywordtype">bool</font> restore )<font class="keyword">
</font>01485 <font class="keyword"></font>{
01486     <font class="keywordflow">if</font> ( restore )
01487     restoreState();
01488     tmpIndex = -1;
01489     idx = i;
01490 }
01491 
<a name="l01492"></a><a class="code" href="class_qt3__qtextcursor.html#a10">01492</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextCursor::setParag( QTextParag *s, <font class="keywordtype">bool</font> restore )<font class="keyword">
</font>01493 <font class="keyword"></font>{
01494     <font class="keywordflow">if</font> ( restore )
01495     restoreState();
01496     idx = 0;
01497     string = s;
01498     tmpIndex = -1;
01499 }
01500 
<a name="l01501"></a><a class="code" href="class_qt3__qtextcursor.html#a31">01501</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextCursor::checkIndex()<font class="keyword">
</font>01502 <font class="keyword"></font>{
01503     <font class="keywordflow">if</font> ( idx &gt;= string-&gt;length() )
01504     idx = string-&gt;length() - 1;
01505 }
01506 
<a name="l01507"></a><a class="code" href="class_qt3__qtextcursor.html#a39">01507</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextCursor::x()<font class="keyword"> const
</font>01508 <font class="keyword"></font>{
01509     QTextStringChar *c = string-&gt;at( idx );
01510     <font class="keywordtype">int</font> curx = c-&gt;x;
01511     <font class="keywordflow">if</font> ( c-&gt;rightToLeft )
01512     curx += string-&gt;string()-&gt;width( idx );
01513     <font class="keywordflow">return</font> curx;
01514 }
01515 
<a name="l01516"></a><a class="code" href="class_qt3__qtextcursor.html#a40">01516</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextCursor::y()<font class="keyword"> const
</font>01517 <font class="keyword"></font>{
01518     <font class="keywordtype">int</font> dummy, line;
01519     string-&gt;lineStartOfChar( idx, &amp;dummy, &amp;line );
01520     <font class="keywordflow">return</font> string-&gt;lineY( line );
01521 }
01522 
01523 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01524 
<a name="l01525"></a><a class="code" href="class_qt3__qtextdocument.html#a13">01525</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextDocument::x()<font class="keyword"> const
</font>01526 <font class="keyword"></font>{
01527     <font class="keywordflow">return</font> cx;
01528 }
01529 
<a name="l01530"></a><a class="code" href="class_qt3__qtextdocument.html#a14">01530</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextDocument::y()<font class="keyword"> const
</font>01531 <font class="keyword"></font>{
01532     <font class="keywordflow">return</font> cy;
01533 }
01534 
<a name="l01535"></a><a class="code" href="class_qt3__qtextdocument.html#a15">01535</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextDocument::width()<font class="keyword"> const
</font>01536 <font class="keyword"></font>{
01537     <font class="keywordflow">return</font> QMAX( cw, flow_-&gt;width );
01538 }
01539 
<a name="l01540"></a><a class="code" href="class_qt3__qtextdocument.html#a17">01540</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextDocument::visibleWidth()<font class="keyword"> const
</font>01541 <font class="keyword"></font>{
01542     <font class="keywordflow">return</font> vw;
01543 }
01544 
<a name="l01545"></a><a class="code" href="class_qt3__qtextdocument.html#a18">01545</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextDocument::height()<font class="keyword"> const
</font>01546 <font class="keyword"></font>{
01547     <font class="keywordflow">if</font> ( lParag )
01548     <font class="keywordflow">return</font> QMAX( flow_-&gt;height, lParag-&gt;rect().top() + lParag-&gt;rect().height() + 1 );
01549     <font class="keywordflow">return</font> 0;
01550 }
01551 
<a name="l01552"></a><a class="code" href="class_qt3__qtextdocument.html#a22">01552</a> <font class="keyword">inline</font> QTextParag *QTextDocument::firstParag()<font class="keyword"> const
</font>01553 <font class="keyword"></font>{
01554     <font class="keywordflow">return</font> fParag;
01555 }
01556 
<a name="l01557"></a><a class="code" href="class_qt3__qtextdocument.html#a23">01557</a> <font class="keyword">inline</font> QTextParag *QTextDocument::lastParag()<font class="keyword"> const
</font>01558 <font class="keyword"></font>{
01559     <font class="keywordflow">return</font> lParag;
01560 }
01561 
<a name="l01562"></a><a class="code" href="class_qt3__qtextdocument.html#a24">01562</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setFirstParag( QTextParag *p )<font class="keyword">
</font>01563 <font class="keyword"></font>{
01564     fParag = p;
01565 }
01566 
<a name="l01567"></a><a class="code" href="class_qt3__qtextdocument.html#a25">01567</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setLastParag( QTextParag *p )<font class="keyword">
</font>01568 <font class="keyword"></font>{
01569     lParag = p;
01570 }
01571 
<a name="l01572"></a><a class="code" href="class_qt3__qtextdocument.html#a19">01572</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setWidth( <font class="keywordtype">int</font> w )<font class="keyword">
</font>01573 <font class="keyword"></font>{
01574     cw = QMAX( w, minw );
01575     flow_-&gt;setWidth( cw );
01576     vw = w;
01577 }
01578 
<a name="l01579"></a><a class="code" href="class_qt3__qtextdocument.html#a20">01579</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextDocument::minimumWidth()<font class="keyword"> const
</font>01580 <font class="keyword"></font>{
01581     <font class="keywordflow">return</font> minw;
01582 }
01583 
<a name="l01584"></a><a class="code" href="class_qt3__qtextdocument.html#a28">01584</a> <font class="keyword">inline</font> QTextPreProcessor *QTextDocument::preProcessor()<font class="keyword"> const
</font>01585 <font class="keyword"></font>{
01586     <font class="keywordflow">return</font> pProcessor;
01587 }
01588 
<a name="l01589"></a><a class="code" href="class_qt3__qtextdocument.html#a27">01589</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setPreProcessor( QTextPreProcessor * sh )<font class="keyword">
</font>01590 <font class="keyword"></font>{
01591     pProcessor = sh;
01592 }
01593 
<a name="l01594"></a><a class="code" href="class_qt3__qtextdocument.html#a29">01594</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setFormatter( QTextFormatter *f )<font class="keyword">
</font>01595 <font class="keyword"></font>{
01596     <font class="keyword">delete</font> pFormatter;
01597     pFormatter = f;
01598 }
01599 
<a name="l01600"></a><a class="code" href="class_qt3__qtextdocument.html#a30">01600</a> <font class="keyword">inline</font> QTextFormatter *QTextDocument::formatter()<font class="keyword"> const
</font>01601 <font class="keyword"></font>{
01602     <font class="keywordflow">return</font> pFormatter;
01603 }
01604 
<a name="l01605"></a><a class="code" href="class_qt3__qtextdocument.html#a31">01605</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setIndent( QTextIndent *i )<font class="keyword">
</font>01606 <font class="keyword"></font>{
01607     indenter = i;
01608 }
01609 
<a name="l01610"></a><a class="code" href="class_qt3__qtextdocument.html#a32">01610</a> <font class="keyword">inline</font> QTextIndent *QTextDocument::indent()<font class="keyword"> const
</font>01611 <font class="keyword"></font>{
01612     <font class="keywordflow">return</font> indenter;
01613 }
01614 
<a name="l01615"></a><a class="code" href="class_qt3__qtextdocument.html#a33">01615</a> <font class="keyword">inline</font> QColor QTextDocument::selectionColor( <font class="keywordtype">int</font> id )<font class="keyword"> const
</font>01616 <font class="keyword"></font>{
01617     <font class="keywordflow">return</font> selectionColors[ id ];
01618 }
01619 
<a name="l01620"></a><a class="code" href="class_qt3__qtextdocument.html#a34">01620</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextDocument::invertSelectionText( <font class="keywordtype">int</font> id )<font class="keyword"> const
</font>01621 <font class="keyword"></font>{
01622     <font class="keywordflow">return</font> selectionText[ id ];
01623 }
01624 
<a name="l01625"></a><a class="code" href="class_qt3__qtextdocument.html#a35">01625</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setSelectionColor( <font class="keywordtype">int</font> id, <font class="keyword">const</font> QColor &amp;c )<font class="keyword">
</font>01626 <font class="keyword"></font>{
01627     selectionColors[ id ] = c;
01628 }
01629 
<a name="l01630"></a><a class="code" href="class_qt3__qtextdocument.html#a36">01630</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setInvertSelectionText( <font class="keywordtype">int</font> id, <font class="keywordtype">bool</font> b )<font class="keyword">
</font>01631 <font class="keyword"></font>{
01632     selectionText[ id ] = b;
01633 }
01634 
<a name="l01635"></a><a class="code" href="class_qt3__qtextdocument.html#a37">01635</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextDocument::hasSelection( <font class="keywordtype">int</font> id )<font class="keyword"> const
</font>01636 <font class="keyword"></font>{
01637     <font class="keywordflow">return</font> selections.find( id ) != selections.end();
01638 }
01639 
<a name="l01640"></a><a class="code" href="class_qt3__qtextdocument.html#a38">01640</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setSelectionStart( <font class="keywordtype">int</font> id, QTextCursor *cursor )<font class="keyword">
</font>01641 <font class="keyword"></font>{
01642     QTextDocumentSelection sel;
01643     sel.startCursor = *cursor;
01644     sel.endCursor = *cursor;
01645     sel.swapped = FALSE;
01646     selections[ id ] = sel;
01647 }
01648 
<a name="l01649"></a><a class="code" href="class_qt3__qtextdocument.html#a53">01649</a> <font class="keyword">inline</font> QTextParag *QTextDocument::paragAt( <font class="keywordtype">int</font> i )<font class="keyword"> const
</font>01650 <font class="keyword"></font>{
01651     QTextParag *s = fParag;
01652     <font class="keywordflow">while</font> ( s ) {
01653     <font class="keywordflow">if</font> ( s-&gt;paragId() == i )
01654         <font class="keywordflow">return</font> s;
01655     s = s-&gt;next();
01656     }
01657     <font class="keywordflow">return</font> 0;
01658 }
01659 
<a name="l01660"></a><a class="code" href="class_qt3__qtextdocument.html#a58">01660</a> <font class="keyword">inline</font> QTextFormatCollection *QTextDocument::formatCollection()<font class="keyword"> const
</font>01661 <font class="keyword"></font>{
01662     <font class="keywordflow">return</font> fCollection;
01663 }
01664 
<a name="l01665"></a><a class="code" href="class_qt3__qtextdocument.html#a97">01665</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextDocument::alignment()<font class="keyword"> const
</font>01666 <font class="keyword"></font>{
01667     <font class="keywordflow">return</font> align;
01668 }
01669 
<a name="l01670"></a><a class="code" href="class_qt3__qtextdocument.html#a98">01670</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setAlignment( <font class="keywordtype">int</font> a )<font class="keyword">
</font>01671 <font class="keyword"></font>{
01672     align = a;
01673 }
01674 
<a name="l01675"></a><a class="code" href="class_qt3__qtextdocument.html#a99">01675</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> *QTextDocument::tabArray()<font class="keyword"> const
</font>01676 <font class="keyword"></font>{
01677     <font class="keywordflow">return</font> tArray;
01678 }
01679 
<a name="l01680"></a><a class="code" href="class_qt3__qtextdocument.html#a100">01680</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextDocument::tabStopWidth()<font class="keyword"> const
</font>01681 <font class="keyword"></font>{
01682     <font class="keywordflow">return</font> tStopWidth;
01683 }
01684 
<a name="l01685"></a><a class="code" href="class_qt3__qtextdocument.html#a101">01685</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setTabArray( <font class="keywordtype">int</font> *a )<font class="keyword">
</font>01686 <font class="keyword"></font>{
01687     tArray = a;
01688 }
01689 
<a name="l01690"></a><a class="code" href="class_qt3__qtextdocument.html#a102">01690</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setTabStops( <font class="keywordtype">int</font> tw )<font class="keyword">
</font>01691 <font class="keyword"></font>{
01692     tStopWidth = tw;
01693 }
01694 
<a name="l01695"></a><a class="code" href="class_qt3__qtextdocument.html#a12">01695</a> <font class="keyword">inline</font> QString QTextDocument::originalText()<font class="keyword"> const
</font>01696 <font class="keyword"></font>{
01697     <font class="keywordflow">return</font> oText;
01698 }
01699 
<a name="l01700"></a><a class="code" href="class_qt3__qtextdocument.html#a84">01700</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextDocument::setFlow( QTextFlow *f )<font class="keyword">
</font>01701 <font class="keyword"></font>{
01702     <font class="keywordflow">if</font> ( flow_ )
01703     <font class="keyword">delete</font> flow_;
01704     flow_ = f;
01705 }
01706 
01707 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
01708 
<a name="l01709"></a><a class="code" href="class_qt3__qtextformat.html#a0">01709</a> <font class="keyword">inline</font> QTextFormat::QTextFormat()
01710     : fm( QFontMetrics( fn ) ), linkColor( TRUE ), logicalFontSize( 3 ), stdPointSize( qApp-&gt;font().pointSize() ),
01711       painter( 0 ), different( NoFlags )<font class="keyword">
</font>01712 <font class="keyword"></font>{
01713     ref = 0;
01714     missp = FALSE;
01715     ha = AlignNormal;
01716     collection = 0;
01717 }
01718 
<a name="l01719"></a><a class="code" href="class_qt3__qtextformat.html#a1">01719</a> <font class="keyword">inline</font> QTextFormat::QTextFormat( <font class="keyword">const</font> QStyleSheetItem *style )
01720     : fm( QFontMetrics( fn ) ), linkColor( TRUE ), logicalFontSize( 3 ), stdPointSize( qApp-&gt;font().pointSize() ),
01721       painter( 0 ), different( NoFlags )<font class="keyword">
</font>01722 <font class="keyword"></font>{
01723     ref = 0;
01724     this-&gt;style = style-&gt;name();
01725     missp = FALSE;
01726     ha = AlignNormal;
01727     collection = 0;
01728     fn = QFont( style-&gt;fontFamily(),
01729         style-&gt;fontSize(),
01730         style-&gt;fontWeight(),
01731         style-&gt;fontItalic() );
01732     fn.setUnderline( style-&gt;fontUnderline() );
01733     col = style-&gt;color();
01734     fm = QFontMetrics( fn );
01735     leftBearing = fm.minLeftBearing();
01736     rightBearing = fm.minRightBearing();
01737     hei = fm.height();
01738     asc = fm.ascent();
01739     dsc = fm.descent();
01740     missp = FALSE;
01741     ha = AlignNormal;
01742     memset( widths, 0, 256 );
01743     generateKey();
01744     addRef();
01745     updateStyleFlags();
01746 }
01747 
<a name="l01748"></a><a class="code" href="class_qt3__qtextformat.html#a2">01748</a> <font class="keyword">inline</font> QTextFormat::QTextFormat( <font class="keyword">const</font> QFont &amp;f, <font class="keyword">const</font> QColor &amp;c )
01749     : fn( f ), col( c ), fm( QFontMetrics( f ) ), linkColor( TRUE ),
01750       logicalFontSize( 3 ), stdPointSize( f.pointSize() ), painter( 0 ),
01751       different( NoFlags )<font class="keyword">
</font>01752 <font class="keyword"></font>{
01753     ref = 0;
01754     collection = 0;
01755     leftBearing = fm.minLeftBearing();
01756     rightBearing = fm.minRightBearing();
01757     hei = fm.height();
01758     asc = fm.ascent();
01759     dsc = fm.descent();
01760     missp = FALSE;
01761     ha = AlignNormal;
01762     memset( widths, 0, 256 );
01763     generateKey();
01764     addRef();
01765     updateStyleFlags();
01766 }
01767 
<a name="l01768"></a><a class="code" href="class_qt3__qtextformat.html#a3">01768</a> <font class="keyword">inline</font> QTextFormat::QTextFormat( <font class="keyword">const</font> QTextFormat &amp;f )
01769     : fm( f.fm )<font class="keyword">
</font>01770 <font class="keyword"></font>{
01771     ref = 0;
01772     collection = 0;
01773     fn = f.fn;
01774     col = f.col;
01775     painter = f.painter;
01776     leftBearing = f.leftBearing;
01777     rightBearing = f.rightBearing;
01778     memset( widths, 0, 256 );
01779     hei = f.hei;
01780     asc = f.asc;
01781     dsc = f.dsc;
01782     stdPointSize = f.stdPointSize;
01783     logicalFontSize = f.logicalFontSize;
01784     missp = f.missp;
01785     ha = f.ha;
01786     k = f.k;
01787     anchor_name = f.anchor_name;
01788     anchor_href = f.anchor_href;
01789     linkColor = f.linkColor;
01790     style = f.style;
01791     different = f.different;
01792     addRef();
01793 }
01794 
<a name="l01795"></a><a class="code" href="class_qt3__qtextformat.html#a5">01795</a> <font class="keyword">inline</font> QTextFormat&amp; QTextFormat::operator=( <font class="keyword">const</font> QTextFormat &amp;f )<font class="keyword">
</font>01796 <font class="keyword"></font>{
01797     ref = 0;
01798     collection = f.collection;
01799     fn = f.fn;
01800     col = f.col;
01801     fm = f.fm;
01802     leftBearing = f.leftBearing;
01803     rightBearing = f.rightBearing;
01804     memset( widths, 0, 256 );
01805     hei = f.hei;
01806     asc = f.asc;
01807     dsc = f.dsc;
01808     stdPointSize = f.stdPointSize;
01809     logicalFontSize = f.logicalFontSize;
01810     missp = f.missp;
01811     ha = f.ha;
01812     k = f.k;
01813     anchor_name = f.anchor_name;
01814     anchor_href = f.anchor_href;
01815     linkColor = f.linkColor;
01816     style = f.style;
01817     different = f.different;
01818     addRef();
01819     <font class="keywordflow">return</font> *<font class="keyword">this</font>;
01820 }
01821 
<a name="l01822"></a><a class="code" href="class_qt3__qtextformat.html#c0">01822</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextFormat::update()<font class="keyword">
</font>01823 <font class="keyword"></font>{
01824     fm = QFontMetrics( fn );
01825     leftBearing = fm.minLeftBearing();
01826     rightBearing = fm.minRightBearing();
01827     hei = fm.height();
01828     asc = fm.ascent();
01829     dsc = fm.descent();
01830     memset( widths, 0, 256 );
01831     generateKey();
01832     updateStyleFlags();
01833 }
01834 
<a name="l01835"></a><a class="code" href="class_qt3__qtextformat.html#a6">01835</a> <font class="keyword">inline</font> QColor QTextFormat::color()<font class="keyword"> const
</font>01836 <font class="keyword"></font>{
01837     <font class="keywordflow">return</font> col;
01838 }
01839 
<a name="l01840"></a><a class="code" href="class_qt3__qtextformat.html#a7">01840</a> <font class="keyword">inline</font> QFont QTextFormat::font()<font class="keyword"> const
</font>01841 <font class="keyword"></font>{
01842     <font class="keywordflow">return</font> fn;
01843 }
01844 
<a name="l01845"></a><a class="code" href="class_qt3__qtextformat.html#a8">01845</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextFormat::isMisspelled()<font class="keyword"> const
</font>01846 <font class="keyword"></font>{
01847     <font class="keywordflow">return</font> missp;
01848 }
01849 
<a name="l01850"></a><a class="code" href="class_qt3__qtextformat.html#a9">01850</a> <font class="keyword">inline</font> QTextFormat::HorizontalAlignemnt QTextFormat::hAlign()<font class="keyword"> const
</font>01851 <font class="keyword"></font>{
01852     <font class="keywordflow">return</font> ha;
01853 }
01854 
<a name="l01855"></a><a class="code" href="class_qt3__qtextformat.html#a10">01855</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextFormat::minLeftBearing()<font class="keyword"> const
</font>01856 <font class="keyword"></font>{
01857     <font class="keywordflow">if</font> ( !painter || !painter-&gt;isActive() )
01858     <font class="keywordflow">return</font> leftBearing;
01859     painter-&gt;setFont( fn );
01860     <font class="keywordflow">return</font> painter-&gt;fontMetrics().minLeftBearing();
01861 }
01862 
<a name="l01863"></a><a class="code" href="class_qt3__qtextformat.html#a11">01863</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextFormat::minRightBearing()<font class="keyword"> const
</font>01864 <font class="keyword"></font>{
01865     <font class="keywordflow">if</font> ( !painter || !painter-&gt;isActive() )
01866     <font class="keywordflow">return</font> rightBearing;
01867     painter-&gt;setFont( fn );
01868     <font class="keywordflow">return</font> painter-&gt;fontMetrics().minRightBearing();
01869 }
01870 
<a name="l01871"></a><a class="code" href="class_qt3__qtextformat.html#a14">01871</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextFormat::height()<font class="keyword"> const
</font>01872 <font class="keyword"></font>{
01873     <font class="keywordflow">if</font> ( !painter || !painter-&gt;isActive() )
01874     <font class="keywordflow">return</font> hei;
01875     painter-&gt;setFont( fn );
01876     <font class="keywordflow">return</font> painter-&gt;fontMetrics().height();
01877 }
01878 
<a name="l01879"></a><a class="code" href="class_qt3__qtextformat.html#a15">01879</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextFormat::ascent()<font class="keyword"> const
</font>01880 <font class="keyword"></font>{
01881     <font class="keywordflow">if</font> ( !painter || !painter-&gt;isActive() )
01882     <font class="keywordflow">return</font> asc;
01883     painter-&gt;setFont( fn );
01884     <font class="keywordflow">return</font> painter-&gt;fontMetrics().ascent();
01885 }
01886 
<a name="l01887"></a><a class="code" href="class_qt3__qtextformat.html#a16">01887</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextFormat::descent()<font class="keyword"> const
</font>01888 <font class="keyword"></font>{
01889     <font class="keywordflow">if</font> ( !painter || !painter-&gt;isActive() )
01890     <font class="keywordflow">return</font> dsc;
01891     painter-&gt;setFont( fn );
01892     <font class="keywordflow">return</font> painter-&gt;fontMetrics().descent();
01893 }
01894 
<a name="l01895"></a><a class="code" href="class_qt3__qtextformat.html#a30">01895</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextFormat::operator==( <font class="keyword">const</font> QTextFormat &amp;f )<font class="keyword"> const
</font>01896 <font class="keyword"></font>{
01897     <font class="keywordflow">return</font> k == f.k;
01898 }
01899 
<a name="l01900"></a><a class="code" href="class_qt3__qtextformat.html#a31">01900</a> <font class="keyword">inline</font> QTextFormatCollection *QTextFormat::parent()<font class="keyword"> const
</font>01901 <font class="keyword"></font>{
01902     <font class="keywordflow">return</font> collection;
01903 }
01904 
<a name="l01905"></a><a class="code" href="class_qt3__qtextformat.html#a33">01905</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextFormat::addRef()<font class="keyword">
</font>01906 <font class="keyword"></font>{
01907     ref++;
01908 <font class="preprocessor">#ifdef DEBUG_COLLECTION
</font>01909 <font class="preprocessor"></font>    qDebug( <font class="stringliteral">"add ref of '%s' to %d (%p)"</font>, k.latin1(), ref, <font class="keyword">this</font> );
01910 <font class="preprocessor">#endif
</font>01911 <font class="preprocessor"></font>}
01912 
<a name="l01913"></a><a class="code" href="class_qt3__qtextformat.html#a34">01913</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextFormat::removeRef()<font class="keyword">
</font>01914 <font class="keyword"></font>{
01915     ref--;
01916     <font class="keywordflow">if</font> ( !collection )
01917     <font class="keywordflow">return</font>;
01918 <font class="preprocessor">#ifdef DEBUG_COLLECTION
</font>01919 <font class="preprocessor"></font>    qDebug( <font class="stringliteral">"remove ref of '%s' to %d (%p)"</font>, k.latin1(), ref, <font class="keyword">this</font> );
01920 <font class="preprocessor">#endif
</font>01921 <font class="preprocessor"></font>    <font class="keywordflow">if</font> ( ref == 0 )
01922     collection-&gt;remove( <font class="keyword">this</font> );
01923 }
01924 
<a name="l01925"></a><a class="code" href="class_qt3__qtextformat.html#a32">01925</a> <font class="keyword">inline</font> QString QTextFormat::key()<font class="keyword"> const
</font>01926 <font class="keyword"></font>{
01927     <font class="keywordflow">return</font> k;
01928 }
01929 
<a name="l01930"></a><a class="code" href="class_qt3__qtextformat.html#c1">01930</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextFormat::generateKey()<font class="keyword">
</font>01931 <font class="keyword"></font>{
01932     QTextOStream ts( &amp;k );
01933     ts &lt;&lt; fn.pointSize()
01934        &lt;&lt; fn.weight()
01935        &lt;&lt; (<font class="keywordtype">int</font>)fn.underline()
01936        &lt;&lt; (<font class="keywordtype">int</font>)fn.italic()
01937        &lt;&lt; col.pixel()
01938        &lt;&lt; fn.family()
01939        &lt;&lt; (<font class="keywordtype">int</font>)isMisspelled()
01940        &lt;&lt; anchor_href
01941        &lt;&lt; anchor_name
01942        &lt;&lt; (<font class="keywordtype">int</font>)hAlign();
01943 }
01944 
<a name="l01945"></a><a class="code" href="class_qt3__qtextformat.html#d0">01945</a> <font class="keyword">inline</font> QString QTextFormat::getKey( <font class="keyword">const</font> QFont &amp;fn, <font class="keyword">const</font> QColor &amp;col, <font class="keywordtype">bool</font> misspelled,
01946                     <font class="keyword">const</font> QString &amp;lhref, <font class="keyword">const</font> QString &amp;lnm, HorizontalAlignemnt a )<font class="keyword">
</font>01947 <font class="keyword"></font>{
01948     QString k;
01949     QTextOStream ts( &amp;k );
01950     ts &lt;&lt; fn.pointSize()
01951        &lt;&lt; fn.weight()
01952        &lt;&lt; (<font class="keywordtype">int</font>)fn.underline()
01953        &lt;&lt; (<font class="keywordtype">int</font>)fn.italic()
01954        &lt;&lt; col.pixel()
01955        &lt;&lt; fn.family()
01956        &lt;&lt; (<font class="keywordtype">int</font>)misspelled
01957        &lt;&lt; lhref
01958        &lt;&lt; lnm
01959        &lt;&lt; (<font class="keywordtype">int</font>)a;
01960     <font class="keywordflow">return</font> k;
01961 }
01962 
<a name="l01963"></a><a class="code" href="class_qt3__qtextformat.html#a17">01963</a> <font class="keyword">inline</font> QString QTextFormat::anchorHref()<font class="keyword"> const
</font>01964 <font class="keyword"></font>{
01965     <font class="keywordflow">return</font> anchor_href;
01966 }
01967 
<a name="l01968"></a><a class="code" href="class_qt3__qtextformat.html#a18">01968</a> <font class="keyword">inline</font> QString QTextFormat::anchorName()<font class="keyword"> const
</font>01969 <font class="keyword"></font>{
01970     <font class="keywordflow">return</font> anchor_name;
01971 }
01972 
<a name="l01973"></a><a class="code" href="class_qt3__qtextformat.html#a19">01973</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextFormat::isAnchor()<font class="keyword"> const
</font>01974 <font class="keyword"></font>{
01975     <font class="keywordflow">return</font> !anchor_href.isEmpty()  || !anchor_name.isEmpty();
01976 }
01977 
<a name="l01978"></a><a class="code" href="class_qt3__qtextformat.html#a20">01978</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextFormat::useLinkColor()<font class="keyword"> const
</font>01979 <font class="keyword"></font>{
01980     <font class="keywordflow">return</font> linkColor;
01981 }
01982 
<a name="l01983"></a><a class="code" href="class_qt3__qtextformat.html#a40">01983</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextFormat::setStyle( <font class="keyword">const</font> QString &amp;s )<font class="keyword">
</font>01984 <font class="keyword"></font>{
01985     style = s;
01986     updateStyleFlags();
01987 }
01988 
<a name="l01989"></a><a class="code" href="class_qt3__qtextformat.html#a38">01989</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextFormat::updateStyle()<font class="keyword">
</font>01990 <font class="keyword"></font>{
01991     <font class="keywordflow">if</font> ( !collection || !collection-&gt;styleSheet() )
01992     <font class="keywordflow">return</font>;
01993     QStyleSheetItem *item = collection-&gt;styleSheet()-&gt;item( style );
01994     <font class="keywordflow">if</font> ( !item )
01995     <font class="keywordflow">return</font>;
01996     <font class="keywordflow">if</font> ( !( different &amp; Color ) &amp;&amp; item-&gt;color().isValid() )
01997     col = item-&gt;color();
01998     <font class="keywordflow">if</font> ( !( different &amp; Size ) &amp;&amp; item-&gt;fontSize() != -1 )
01999     fn.setPointSize( item-&gt;fontSize() );
02000     <font class="keywordflow">if</font> ( !( different &amp; Family ) &amp;&amp; !item-&gt;fontFamily().isEmpty() )
02001     fn.setFamily( item-&gt;fontFamily() );
02002     <font class="keywordflow">if</font> ( !( different &amp; Bold ) &amp;&amp; item-&gt;fontWeight() != -1 )
02003     fn.setWeight( item-&gt;fontWeight() );
02004     <font class="keywordflow">if</font> ( !( different &amp; Italic ) &amp;&amp; item-&gt;definesFontItalic() )
02005     fn.setItalic( item-&gt;fontItalic() );
02006     <font class="keywordflow">if</font> ( !( different &amp; Underline ) &amp;&amp; item-&gt;definesFontUnderline() )
02007     fn.setUnderline( item-&gt;fontUnderline() );
02008     generateKey();
02009     update();
02010 
02011 }
02012 
<a name="l02013"></a><a class="code" href="class_qt3__qtextformat.html#a39">02013</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextFormat::updateStyleFlags()<font class="keyword">
</font>02014 <font class="keyword"></font>{
02015     different = NoFlags;
02016     <font class="keywordflow">if</font> ( !collection || !collection-&gt;styleSheet() )
02017     <font class="keywordflow">return</font>;
02018     QStyleSheetItem *item = collection-&gt;styleSheet()-&gt;item( style );
02019     <font class="keywordflow">if</font> ( !item )
02020     <font class="keywordflow">return</font>;
02021     <font class="keywordflow">if</font> ( item-&gt;color() != col )
02022     different |= Color;
02023     <font class="keywordflow">if</font> ( item-&gt;fontSize() != fn.pointSize() )
02024     different |= Size;
02025     <font class="keywordflow">if</font> ( item-&gt;fontFamily() != fn.family() )
02026     different |= Family;
02027     <font class="keywordflow">if</font> ( item-&gt;fontItalic() != fn.italic() )
02028     different |= Italic;
02029     <font class="keywordflow">if</font> ( item-&gt;fontUnderline() != fn.underline() )
02030     different |= Underline;
02031     <font class="keywordflow">if</font> ( item-&gt;fontWeight() != fn.weight() )
02032     different |= Bold;
02033 }
02034 
02035 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
02036 
<a name="l02037"></a><a class="code" href="class_qt3__qtextstring.html#a5">02037</a> <font class="keyword">inline</font> QTextStringChar &amp;QTextString::at( <font class="keywordtype">int</font> i )<font class="keyword"> const
</font>02038 <font class="keyword"></font>{
02039     <font class="keywordflow">return</font> data[ i ];
02040 }
02041 
<a name="l02042"></a><a class="code" href="class_qt3__qtextstring.html#d0">02042</a> <font class="keyword">inline</font> QString QTextString::toString( <font class="keyword">const</font> QArray&lt;QTextStringChar&gt; &amp;data )<font class="keyword">
</font>02043 <font class="keyword"></font>{
02044     QString s;
02045     <font class="keywordtype">int</font> l = data.size();
02046     s.setUnicode( 0, l );
02047     QTextStringChar *c = data.data();
02048     QChar *uc = (QChar *)s.unicode();
02049     <font class="keywordflow">while</font> ( l-- ) {
02050     *uc = c-&gt;c;
02051     uc++;
02052     c++;
02053     }
02054 
02055     <font class="keywordflow">return</font> s;
02056 }
02057 
<a name="l02058"></a><a class="code" href="class_qt3__qtextstring.html#a3">02058</a> <font class="keyword">inline</font> QString QTextString::toString()<font class="keyword"> const
</font>02059 <font class="keyword"></font>{
02060     <font class="keywordflow">return</font> toString( data );
02061 }
02062 
<a name="l02063"></a><a class="code" href="class_qt3__qtextstring.html#a4">02063</a> <font class="keyword">inline</font> QString QTextString::toReverseString()<font class="keyword"> const
</font>02064 <font class="keyword"></font>{
02065     QString s;
02066     <font class="keywordtype">int</font> l = length();
02067     s.setUnicode(0, l);
02068     QTextStringChar *c = data.data() + (l-1);
02069     QChar *uc = (QChar *)s.unicode();
02070     <font class="keywordflow">while</font> ( l-- ) {
02071     *uc = c-&gt;c;
02072     uc++;
02073     c--;
02074     }
02075 
02076     <font class="keywordflow">return</font> s;
02077 }
02078 
<a name="l02079"></a><a class="code" href="class_qt3__qtextstring.html#a6">02079</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextString::length()<font class="keyword"> const
</font>02080 <font class="keyword"></font>{
02081     <font class="keywordflow">return</font> data.size();
02082 }
02083 
02084 <font class="comment">// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
02085 
<a name="l02086"></a><a class="code" href="class_qt3__qtextparag.html#a3">02086</a> <font class="keyword">inline</font> QTextStringChar *QTextParag::at( <font class="keywordtype">int</font> i )<font class="keyword"> const
</font>02087 <font class="keyword"></font>{
02088     <font class="keywordflow">return</font> &amp;str-&gt;at( i );
02089 }
02090 
<a name="l02091"></a><a class="code" href="class_qt3__qtextparag.html#a4">02091</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::length()<font class="keyword"> const
</font>02092 <font class="keyword"></font>{
02093     <font class="keywordflow">return</font> str-&gt;length();
02094 }
02095 
<a name="l02096"></a><a class="code" href="class_qt3__qtextparag.html#a26">02096</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextParag::isValid()<font class="keyword"> const
</font>02097 <font class="keyword"></font>{
02098     <font class="keywordflow">return</font> invalid == -1;
02099 }
02100 
<a name="l02101"></a><a class="code" href="class_qt3__qtextparag.html#a27">02101</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextParag::hasChanged()<font class="keyword"> const
</font>02102 <font class="keyword"></font>{
02103     <font class="keywordflow">return</font> changed;
02104 }
02105 
<a name="l02106"></a><a class="code" href="class_qt3__qtextparag.html#a28">02106</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setChanged( <font class="keywordtype">bool</font> b, <font class="keywordtype">bool</font> recursive )<font class="keyword">
</font>02107 <font class="keyword"></font>{
02108     changed = b;
02109     <font class="keywordflow">if</font> ( recursive ) {
02110     <font class="keywordflow">if</font> ( doc &amp;&amp; doc-&gt;parentParag() )
02111         doc-&gt;parentParag()-&gt;setChanged( b, recursive );
02112     }
02113 }
02114 
<a name="l02115"></a><a class="code" href="class_qt3__qtextparag.html#a19">02115</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::append( <font class="keyword">const</font> QString &amp;s, <font class="keywordtype">bool</font> reallyAtEnd )<font class="keyword">
</font>02116 <font class="keyword"></font>{
02117     <font class="keywordflow">if</font> ( reallyAtEnd )
02118     insert( str-&gt;length(), s );
02119     <font class="keywordflow">else</font>
02120     insert( QMAX( str-&gt;length() - 1, 0 ), s );
02121 }
02122 
<a name="l02123"></a><a class="code" href="class_qt3__qtextparag.html#a13">02123</a> <font class="keyword">inline</font> QRect QTextParag::rect()<font class="keyword"> const
</font>02124 <font class="keyword"></font>{
02125     <font class="keywordflow">return</font> r;
02126 }
02127 
<a name="l02128"></a><a class="code" href="class_qt3__qtextparag.html#a14">02128</a> <font class="keyword">inline</font> QTextParag *QTextParag::prev()<font class="keyword"> const
</font>02129 <font class="keyword"></font>{
02130     <font class="keywordflow">return</font> p;
02131 }
02132 
<a name="l02133"></a><a class="code" href="class_qt3__qtextparag.html#a15">02133</a> <font class="keyword">inline</font> QTextParag *QTextParag::next()<font class="keyword"> const
</font>02134 <font class="keyword"></font>{
02135     <font class="keywordflow">return</font> n;
02136 }
02137 
<a name="l02138"></a><a class="code" href="class_qt3__qtextparag.html#a37">02138</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setSelection( <font class="keywordtype">int</font> id, <font class="keywordtype">int</font> start, <font class="keywordtype">int</font> end )<font class="keyword">
</font>02139 <font class="keyword"></font>{
02140     QMap&lt;int, QTextParagSelection&gt;::ConstIterator it = selections.find( id );
02141     <font class="keywordflow">if</font> ( it != selections.end() ) {
02142     <font class="keywordflow">if</font> ( start == ( *it ).start &amp;&amp; end == ( *it ).end )
02143         <font class="keywordflow">return</font>;
02144     }
02145 
02146     QTextParagSelection sel;
02147     sel.start = start;
02148     sel.end = end;
02149     selections[ id ] = sel;
02150     setChanged( TRUE, TRUE );
02151 }
02152 
<a name="l02153"></a><a class="code" href="class_qt3__qtextparag.html#a38">02153</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::removeSelection( <font class="keywordtype">int</font> id )<font class="keyword">
</font>02154 <font class="keyword"></font>{
02155     <font class="keywordflow">if</font> ( !hasSelection( id ) )
02156     <font class="keywordflow">return</font>;
02157     selections.remove( id );
02158     setChanged( TRUE, TRUE );
02159 }
02160 
<a name="l02161"></a><a class="code" href="class_qt3__qtextparag.html#a39">02161</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::selectionStart( <font class="keywordtype">int</font> id )<font class="keyword"> const
</font>02162 <font class="keyword"></font>{
02163     QMap&lt;int, QTextParagSelection&gt;::ConstIterator it = selections.find( id );
02164     <font class="keywordflow">if</font> ( it == selections.end() )
02165     <font class="keywordflow">return</font> -1;
02166     <font class="keywordflow">return</font> ( *it ).start;
02167 }
02168 
<a name="l02169"></a><a class="code" href="class_qt3__qtextparag.html#a40">02169</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::selectionEnd( <font class="keywordtype">int</font> id )<font class="keyword"> const
</font>02170 <font class="keyword"></font>{
02171     QMap&lt;int, QTextParagSelection&gt;::ConstIterator it = selections.find( id );
02172     <font class="keywordflow">if</font> ( it == selections.end() )
02173     <font class="keywordflow">return</font> -1;
02174     <font class="keywordflow">return</font> ( *it ).end;
02175 }
02176 
<a name="l02177"></a><a class="code" href="class_qt3__qtextparag.html#a41">02177</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextParag::hasSelection( <font class="keywordtype">int</font> id )<font class="keyword"> const
</font>02178 <font class="keyword"></font>{
02179     QMap&lt;int, QTextParagSelection&gt;::ConstIterator it = selections.find( id );
02180     <font class="keywordflow">if</font> ( it == selections.end() )
02181     <font class="keywordflow">return</font> FALSE;
02182     <font class="keywordflow">return</font> ( *it ).start != ( *it ).end || length() == 1;
02183 }
02184 
<a name="l02185"></a><a class="code" href="class_qt3__qtextparag.html#a42">02185</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextParag::hasAnySelection()<font class="keyword"> const
</font>02186 <font class="keyword"></font>{
02187     <font class="keywordflow">return</font> !selections.isEmpty();
02188 }
02189 
<a name="l02190"></a><a class="code" href="class_qt3__qtextparag.html#a43">02190</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextParag::fullSelected( <font class="keywordtype">int</font> id )<font class="keyword"> const
</font>02191 <font class="keyword"></font>{
02192     QMap&lt;int, QTextParagSelection&gt;::ConstIterator it = selections.find( id );
02193     <font class="keywordflow">if</font> ( it == selections.end() )
02194     <font class="keywordflow">return</font> FALSE;
02195     <font class="keywordflow">return</font> ( *it ).start == 0 &amp;&amp; ( *it ).end == str-&gt;length() - 1;
02196 }
02197 
<a name="l02198"></a><a class="code" href="class_qt3__qtextparag.html#a44">02198</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setEndState( <font class="keywordtype">int</font> s )<font class="keyword">
</font>02199 <font class="keyword"></font>{
02200     <font class="keywordflow">if</font> ( s == state )
02201     <font class="keywordflow">return</font>;
02202     state = s;
02203 }
02204 
<a name="l02205"></a><a class="code" href="class_qt3__qtextparag.html#a45">02205</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::endState()<font class="keyword"> const
</font>02206 <font class="keyword"></font>{
02207     <font class="keywordflow">return</font> state;
02208 }
02209 
<a name="l02210"></a><a class="code" href="class_qt3__qtextparag.html#a46">02210</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setParagId( <font class="keywordtype">int</font> i )<font class="keyword">
</font>02211 <font class="keyword"></font>{
02212     id = i;
02213 }
02214 
<a name="l02215"></a><a class="code" href="class_qt3__qtextparag.html#a47">02215</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::paragId()<font class="keyword"> const
</font>02216 <font class="keyword"></font>{
02217     <font class="keywordflow">if</font> ( id == -1 )
02218     qWarning( <font class="stringliteral">"invalid parag id!!!!!!!! (%p)"</font>, <font class="keyword">this</font> );
02219     <font class="keywordflow">return</font> id;
02220 }
02221 
<a name="l02222"></a><a class="code" href="class_qt3__qtextparag.html#a48">02222</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextParag::firstPreProcess()<font class="keyword"> const
</font>02223 <font class="keyword"></font>{
02224     <font class="keywordflow">return</font> firstPProcess;
02225 }
02226 
<a name="l02227"></a><a class="code" href="class_qt3__qtextparag.html#a49">02227</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setFirstPreProcess( <font class="keywordtype">bool</font> b )<font class="keyword">
</font>02228 <font class="keyword"></font>{
02229     firstPProcess = b;
02230 }
02231 
<a name="l02232"></a><a class="code" href="class_qt3__qtextparag.html#a53">02232</a> <font class="keyword">inline</font> QMap&lt;int, QTextParagLineStart*&gt; &amp;QTextParag::lineStartList()<font class="keyword">
</font>02233 <font class="keyword"></font>{
02234     <font class="keywordflow">return</font> lineStarts;
02235 }
02236 
<a name="l02237"></a><a class="code" href="class_qt3__qtextparag.html#a33">02237</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::lineY( <font class="keywordtype">int</font> l )<font class="keyword"> const
</font>02238 <font class="keyword"></font>{
02239     <font class="keywordflow">if</font> ( l &gt; (<font class="keywordtype">int</font>)lineStarts.count() - 1 ) {
02240     qWarning( <font class="stringliteral">"QTextParag::lineY: line %d out of range!"</font>, l );
02241     <font class="keywordflow">return</font> 0;
02242     }
02243 
02244     <font class="keywordflow">if</font> ( !isValid() )
02245     ( (QTextParag*)<font class="keyword">this</font> )-&gt;format();
02246 
02247     QMap&lt;int, QTextParagLineStart*&gt;::ConstIterator it = lineStarts.begin();
02248     <font class="keywordflow">while</font> ( l-- &gt; 0 )
02249     ++it;
02250     <font class="keywordflow">return</font> ( *it )-&gt;y;
02251 }
02252 
<a name="l02253"></a><a class="code" href="class_qt3__qtextparag.html#a34">02253</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::lineBaseLine( <font class="keywordtype">int</font> l )<font class="keyword"> const
</font>02254 <font class="keyword"></font>{
02255     <font class="keywordflow">if</font> ( l &gt; (<font class="keywordtype">int</font>)lineStarts.count() - 1 ) {
02256     qWarning( <font class="stringliteral">"QTextParag::lineBaseLine: line %d out of range!"</font>, l );
02257     <font class="keywordflow">return</font> 10;
02258     }
02259 
02260     <font class="keywordflow">if</font> ( !isValid() )
02261     ( (QTextParag*)<font class="keyword">this</font> )-&gt;format();
02262 
02263     QMap&lt;int, QTextParagLineStart*&gt;::ConstIterator it = lineStarts.begin();
02264     <font class="keywordflow">while</font> ( l-- &gt; 0 )
02265     ++it;
02266     <font class="keywordflow">return</font> ( *it )-&gt;baseLine;
02267 }
02268 
<a name="l02269"></a><a class="code" href="class_qt3__qtextparag.html#a35">02269</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::lineHeight( <font class="keywordtype">int</font> l )<font class="keyword"> const
</font>02270 <font class="keyword"></font>{
02271     <font class="keywordflow">if</font> ( l &gt; (<font class="keywordtype">int</font>)lineStarts.count() - 1 ) {
02272     qWarning( <font class="stringliteral">"QTextParag::lineHeight: line %d out of range!"</font>, l );
02273     <font class="keywordflow">return</font> 15;
02274     }
02275 
02276     <font class="keywordflow">if</font> ( !isValid() )
02277     ( (QTextParag*)<font class="keyword">this</font> )-&gt;format();
02278 
02279     QMap&lt;int, QTextParagLineStart*&gt;::ConstIterator it = lineStarts.begin();
02280     <font class="keywordflow">while</font> ( l-- &gt; 0 )
02281     ++it;
02282     <font class="keywordflow">return</font> ( *it )-&gt;h;
02283 }
02284 
<a name="l02285"></a><a class="code" href="class_qt3__qtextparag.html#a36">02285</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::lineInfo( <font class="keywordtype">int</font> l, <font class="keywordtype">int</font> &amp;y, <font class="keywordtype">int</font> &amp;h, <font class="keywordtype">int</font> &amp;bl )<font class="keyword"> const
</font>02286 <font class="keyword"></font>{
02287     <font class="keywordflow">if</font> ( l &gt; (<font class="keywordtype">int</font>)lineStarts.count() - 1 ) {
02288     qWarning( <font class="stringliteral">"QTextParag::lineInfo: line %d out of range!"</font>, l );
02289     qDebug( <font class="stringliteral">"%d %d"</font>, lineStarts.count() - 1, l );
02290     y = 0;
02291     h = 15;
02292     bl = 10;
02293     <font class="keywordflow">return</font>;
02294     }
02295 
02296     <font class="keywordflow">if</font> ( !isValid() )
02297     ( (QTextParag*)<font class="keyword">this</font> )-&gt;format();
02298 
02299     QMap&lt;int, QTextParagLineStart*&gt;::ConstIterator it = lineStarts.begin();
02300     <font class="keywordflow">while</font> ( l-- &gt; 0 )
02301     ++it;
02302     y = ( *it )-&gt;y;
02303     h = ( *it )-&gt;h;
02304     bl = ( *it )-&gt;baseLine;
02305 }
02306 
<a name="l02307"></a><a class="code" href="class_qt3__qtextparag.html#a2">02307</a> <font class="keyword">inline</font> QTextString *QTextParag::string()<font class="keyword"> const
</font>02308 <font class="keyword"></font>{
02309     <font class="keywordflow">return</font> str;
02310 }
02311 
<a name="l02312"></a><a class="code" href="class_qt3__qtextparag.html#a12">02312</a> <font class="keyword">inline</font> QTextDocument *QTextParag::document()<font class="keyword"> const
</font>02313 <font class="keyword"></font>{
02314     <font class="keywordflow">return</font> doc;
02315 }
02316 
<a name="l02317"></a><a class="code" href="class_qt3__qtextparag.html#a55">02317</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setAlignment( <font class="keywordtype">int</font> a )<font class="keyword">
</font>02318 <font class="keyword"></font>{
02319     <font class="keywordflow">if</font> ( a == align )
02320     <font class="keywordflow">return</font>;
02321     align = a;
02322     invalidate( 0 );
02323 }
02324 
<a name="l02325"></a><a class="code" href="class_qt3__qtextparag.html#a56">02325</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::alignment()<font class="keyword"> const
</font>02326 <font class="keyword"></font>{
02327     <font class="keywordflow">if</font> ( align != -1 )
02328     <font class="keywordflow">return</font> align;
02329     QStyleSheetItem *item = style();
02330     <font class="keywordflow">if</font> ( !item )
02331     <font class="keywordflow">return</font> Qt3::AlignAuto;
02332     <font class="keywordflow">for</font> ( <font class="keywordtype">int</font> i = 0; i &lt; (<font class="keywordtype">int</font>)styleSheetItemsVec.size(); ++i ) {
02333     item = styleSheetItemsVec[ i ];
02334     <font class="keywordflow">if</font> ( item-&gt;alignment() != QStyleSheetItem::Undefined )
02335         <font class="keywordflow">return</font> item-&gt;alignment();
02336     }
02337     <font class="keywordflow">return</font> Qt3::AlignAuto;
02338 }
02339 
<a name="l02340"></a><a class="code" href="class_qt3__qtextparag.html#a59">02340</a> <font class="keyword">inline</font> QVector&lt;QStyleSheetItem&gt; QTextParag::styleSheetItems()<font class="keyword"> const
</font>02341 <font class="keyword"></font>{
02342     QVector&lt;QStyleSheetItem&gt; vec;
02343     vec.resize( styleSheetItemsVec.size() );
02344     <font class="keywordflow">for</font> ( <font class="keywordtype">int</font> i = 0; i &lt; (<font class="keywordtype">int</font>)vec.size(); ++i )
02345     vec.insert( i, styleSheetItemsVec[ i ] );
02346     <font class="keywordflow">return</font> vec;
02347 }
02348 
<a name="l02349"></a><a class="code" href="class_qt3__qtextparag.html#a60">02349</a> <font class="keyword">inline</font> QStyleSheetItem *QTextParag::style()<font class="keyword"> const
</font>02350 <font class="keyword"></font>{
02351     <font class="keywordflow">if</font> ( styleSheetItemsVec.size() == 0 )
02352     <font class="keywordflow">return</font> 0;
02353     <font class="keywordflow">return</font> styleSheetItemsVec[ styleSheetItemsVec.size() - 1 ];
02354 }
02355 
<a name="l02356"></a><a class="code" href="class_qt3__qtextparag.html#a67">02356</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::numberOfSubParagraph()<font class="keyword"> const
</font>02357 <font class="keyword"></font>{
02358     <font class="keywordflow">if</font> ( numSubParag != -1 )
02359     <font class="keywordflow">return</font> numSubParag;
02360     <font class="keywordtype">int</font> n = 0;
02361     QTextParag *p = (QTextParag*)<font class="keyword">this</font>;
02362     <font class="keywordflow">while</font> ( p &amp;&amp; style() == p-&gt;style() &amp;&amp; listStyle() == p-&gt;listStyle() ) {
02363     ++n;
02364     p = p-&gt;prev();
02365     }
02366     ( (QTextParag*)<font class="keyword">this</font> )-&gt;numSubParag = n;
02367     <font class="keywordflow">return</font> n;
02368 }
02369 
<a name="l02370"></a><a class="code" href="class_qt3__qtextparag.html#a5">02370</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setListStyle( QStyleSheetItem::ListStyle ls )<font class="keyword">
</font>02371 <font class="keyword"></font>{
02372     listS = ls;
02373     invalidate( 0 );
02374 }
02375 
<a name="l02376"></a><a class="code" href="class_qt3__qtextparag.html#a6">02376</a> <font class="keyword">inline</font> QStyleSheetItem::ListStyle QTextParag::listStyle()<font class="keyword"> const
</font>02377 <font class="keyword"></font>{
02378     <font class="keywordflow">return</font> listS;
02379 }
02380 
<a name="l02381"></a><a class="code" href="class_qt3__qtextparag.html#a10">02381</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setFormat( QTextFormat *fm )<font class="keyword">
</font>02382 <font class="keyword"></font>{
02383     <font class="keywordtype">bool</font> doUpdate = (<font class="keywordtype">bool</font>)defFormat &amp;&amp; defFormat != formatCollection()-&gt;defaultFormat();
02384     defFormat = formatCollection()-&gt;format( fm );
02385     <font class="keywordflow">if</font> ( !doUpdate )
02386     <font class="keywordflow">return</font>;
02387     <font class="keywordflow">for</font> ( <font class="keywordtype">int</font> i = 0; i &lt; length(); ++i ) {
02388     <font class="keywordflow">if</font> ( at( i )-&gt;format()-&gt;styleName() == defFormat-&gt;styleName() )
02389         at( i )-&gt;format()-&gt;updateStyle();
02390     }
02391 }
02392 
<a name="l02393"></a><a class="code" href="class_qt3__qtextparag.html#a11">02393</a> <font class="keyword">inline</font> QTextFormat *QTextParag::paragFormat()<font class="keyword"> const
</font>02394 <font class="keyword"></font>{
02395     <font class="keywordflow">return</font> defFormat;
02396 }
02397 
<a name="l02398"></a><a class="code" href="class_qt3__qtextparag.html#a68">02398</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::registerFloatingItem( QTextCustomItem *i )<font class="keyword">
</font>02399 <font class="keyword"></font>{
02400     floatingItems.append( i );
02401 }
02402 
<a name="l02403"></a><a class="code" href="class_qt3__qtextparag.html#a69">02403</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::unregisterFloatingItem( QTextCustomItem *i )<font class="keyword">
</font>02404 <font class="keyword"></font>{
02405     floatingItems.removeRef( i );
02406 }
02407 
<a name="l02408"></a><a class="code" href="class_qt3__qtextparag.html#a74">02408</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::addCustomItem()<font class="keyword">
</font>02409 <font class="keyword"></font>{
02410     numCustomItems++;
02411 }
02412 
<a name="l02413"></a><a class="code" href="class_qt3__qtextparag.html#a75">02413</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::removeCustomItem()<font class="keyword">
</font>02414 <font class="keyword"></font>{
02415     numCustomItems--;
02416 }
02417 
<a name="l02418"></a><a class="code" href="class_qt3__qtextparag.html#a76">02418</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::customItems()<font class="keyword"> const
</font>02419 <font class="keyword"></font>{
02420     <font class="keywordflow">return</font> numCustomItems;
02421 }
02422 
<a name="l02423"></a><a class="code" href="class_qt3__qtextparag.html#a77">02423</a> <font class="keyword">inline</font> QBrush *QTextParag::background()<font class="keyword"> const
</font>02424 <font class="keyword"></font>{
02425     <font class="keywordflow">return</font> tc ? tc-&gt;backGround() : 0;
02426 };
02427 
02428 
<a name="l02429"></a><a class="code" href="class_qt3__qtextparag.html#a78">02429</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setDocumentRect( <font class="keyword">const</font> QRect &amp;r )<font class="keyword">
</font>02430 <font class="keyword"></font>{
02431     docRect = r;
02432 }
02433 
<a name="l02434"></a><a class="code" href="class_qt3__qtextparag.html#a79">02434</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::documentWidth()<font class="keyword"> const
</font>02435 <font class="keyword"></font>{
02436     <font class="keywordflow">return</font> doc ? doc-&gt;width() : docRect.width();
02437 }
02438 
<a name="l02439"></a><a class="code" href="class_qt3__qtextparag.html#a80">02439</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::documentVisibleWidth()<font class="keyword"> const
</font>02440 <font class="keyword"></font>{
02441     <font class="keywordflow">return</font> doc ? doc-&gt;visibleWidth() : docRect.width();
02442 }
02443 
<a name="l02444"></a><a class="code" href="class_qt3__qtextparag.html#a81">02444</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::documentX()<font class="keyword"> const
</font>02445 <font class="keyword"></font>{
02446     <font class="keywordflow">return</font> doc ? doc-&gt;x() : docRect.x();
02447 }
02448 
<a name="l02449"></a><a class="code" href="class_qt3__qtextparag.html#a82">02449</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::documentY()<font class="keyword"> const
</font>02450 <font class="keyword"></font>{
02451     <font class="keywordflow">return</font> doc ? doc-&gt;y() : docRect.y();
02452 }
02453 
<a name="l02454"></a><a class="code" href="class_qt3__qtextparag.html#a85">02454</a> <font class="keyword">inline</font> QTextFormatter *QTextParag::formatter()<font class="keyword"> const
</font>02455 <font class="keyword"></font>{
02456     <font class="keywordflow">if</font> ( doc )
02457     <font class="keywordflow">return</font> doc-&gt;formatter();
02458     <font class="keywordflow">if</font> ( pFormatter )
02459     <font class="keywordflow">return</font> pFormatter;
02460     <font class="keywordflow">return</font> ( ( (QTextParag*)<font class="keyword">this</font> )-&gt;pFormatter = <font class="keyword">new</font> QTextFormatterBreakWords );
02461 }
02462 
<a name="l02463"></a><a class="code" href="class_qt3__qtextparag.html#a84">02463</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setFormatter( QTextFormatter *f )<font class="keyword">
</font>02464 <font class="keyword"></font>{
02465     <font class="keywordflow">if</font> ( doc ) <font class="keywordflow">return</font>;
02466     <font class="keywordflow">if</font> ( pFormatter ) <font class="keyword">delete</font> pFormatter;
02467     pFormatter = f;
02468 }
02469 
<a name="l02470"></a><a class="code" href="class_qt3__qtextparag.html#a86">02470</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextParag::minimumWidth()<font class="keyword"> const
</font>02471 <font class="keyword"></font>{
02472     <font class="keywordflow">return</font> doc ? doc-&gt;minimumWidth() : 0;
02473 }
02474 
<a name="l02475"></a><a class="code" href="class_qt3__qtextparag.html#a88">02475</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setTabArray( <font class="keywordtype">int</font> *a )<font class="keyword">
</font>02476 <font class="keyword"></font>{
02477     <font class="keywordflow">if</font> ( doc )
02478     doc-&gt;setTabArray( a );
02479     <font class="keywordflow">else</font>
02480     tabArray = a;
02481 }
02482 
<a name="l02483"></a><a class="code" href="class_qt3__qtextparag.html#a89">02483</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setTabStops( <font class="keywordtype">int</font> tw )<font class="keyword">
</font>02484 <font class="keyword"></font>{
02485     <font class="keywordflow">if</font> ( doc )
02486     doc-&gt;setTabStops( tw );
02487     <font class="keywordflow">else</font>
02488     tabStopWidth = tw;
02489 }
02490 
<a name="l02491"></a><a class="code" href="class_qt3__qtextparag.html#a51">02491</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setExtraData( QTextParagData *data )<font class="keyword">
</font>02492 <font class="keyword"></font>{
02493     eData = data;
02494 }
02495 
<a name="l02496"></a><a class="code" href="class_qt3__qtextparag.html#a52">02496</a> <font class="keyword">inline</font> QTextParagData *QTextParag::extraData()<font class="keyword"> const
</font>02497 <font class="keyword"></font>{
02498     <font class="keywordflow">return</font> eData;
02499 }
02500 
<a name="l02501"></a><a class="code" href="class_qt3__qtextparag.html#a92">02501</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextParag::setNewLinesAllowed( <font class="keywordtype">bool</font> b )<font class="keyword">
</font>02502 <font class="keyword"></font>{
02503     newLinesAllowed = b;
02504 }
02505 
<a name="l02506"></a><a class="code" href="class_qt3__qtextparag.html#a93">02506</a> <font class="keyword">inline</font> <font class="keywordtype">bool</font> QTextParag::isNewLinesAllowed()<font class="keyword"> const
</font>02507 <font class="keyword"></font>{
02508     <font class="keywordflow">return</font> newLinesAllowed;
02509 }
02510 
02511 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
02512 
<a name="l02513"></a><a class="code" href="class_qt3__qtextformatcollection.html#a2">02513</a> <font class="keyword">inline</font> <font class="keywordtype">void</font> QTextFormatCollection::setDefaultFormat( QTextFormat *f )<font class="keyword">
</font>02514 <font class="keyword"></font>{
02515     defFormat = f;
02516 }
02517 
<a name="l02518"></a><a class="code" href="class_qt3__qtextformatcollection.html#a3">02518</a> <font class="keyword">inline</font> QTextFormat *QTextFormatCollection::defaultFormat()<font class="keyword"> const
</font>02519 <font class="keyword"></font>{
02520     <font class="keywordflow">return</font> defFormat;
02521 }
02522 
02523 <font class="comment">// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</font>
02524 
<a name="l02525"></a><a class="code" href="class_qt3__qtextstringchar.html#a1">02525</a> <font class="keyword">inline</font> QTextStringChar::~QTextStringChar()<font class="keyword">
</font>02526 <font class="keyword"></font>{
02527     <font class="keywordflow">if</font> ( format() )
02528     format()-&gt;removeRef();
02529     <font class="keywordflow">switch</font> ( type ) {
02530     <font class="keywordflow">case</font> Custom:
02531         <font class="keyword">delete</font> d.custom; <font class="keywordflow">break</font>;
02532     <font class="keywordflow">case</font> Shaped:
02533         <font class="keyword">delete</font> d.shaped; <font class="keywordflow">break</font>;
02534     <font class="keywordflow">case</font> Ligature:
02535         <font class="keyword">delete</font> d.ligature;
02536     <font class="keywordflow">default</font>:
02537         <font class="keywordflow">break</font>;
02538     }
02539 }
02540 
02541 <font class="keyword">inline</font> QTextFormat *QTextStringChar::format()<font class="keyword"> const
</font>02542 <font class="keyword"></font>{
02543     <font class="keywordflow">return</font> (type == Regular) ? d.format : d.custom-&gt;format;
02544 }
02545 
02546 
<a name="l02547"></a><a class="code" href="class_qt3__qtextstringchar.html#a7">02547</a> <font class="keyword">inline</font> QTextCustomItem *QTextStringChar::customItem()<font class="keyword"> const
</font>02548 <font class="keyword"></font>{
02549     <font class="keywordflow">return</font> isCustom() ? d.custom-&gt;custom : 0;
02550 }
02551 
<a name="l02552"></a><a class="code" href="class_qt3__qtextstringchar.html#a2">02552</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextStringChar::height()<font class="keyword"> const
</font>02553 <font class="keyword"></font>{
02554     <font class="keywordflow">return</font> !isCustom() ? format()-&gt;height() : ( customItem()-&gt;placement() == QTextCustomItem::PlaceInline ? customItem()-&gt;height : 0 );
02555 }
02556 
<a name="l02557"></a><a class="code" href="class_qt3__qtextstringchar.html#a3">02557</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextStringChar::ascent()<font class="keyword"> const
</font>02558 <font class="keyword"></font>{
02559     <font class="keywordflow">return</font> !isCustom() ? format()-&gt;ascent() : ( customItem()-&gt;placement() == QTextCustomItem::PlaceInline ? customItem()-&gt;height : 0 );
02560 }
02561 
<a name="l02562"></a><a class="code" href="class_qt3__qtextstringchar.html#a4">02562</a> <font class="keyword">inline</font> <font class="keywordtype">int</font> QTextStringChar::descent()<font class="keyword"> const
</font>02563 <font class="keyword"></font>{
02564     <font class="keywordflow">return</font> !isCustom() ? format()-&gt;descent() : 0;
02565 }
02566 
02567 }; <font class="comment">// namespace</font>
02568 
02569 <font class="preprocessor">#endif
</font></div></pre><hr><address><small>Generated at Sat Feb 24 14:14:01 2001 for BibleTime by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=110 height=53></a>1.1.5 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-2000</small></address>
</body>
</html>
