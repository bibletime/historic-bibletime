<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CProfile class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>CProfile  Class Reference</h1>Manages one profile file. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="cprofile_8h-source.html">cprofile.h</a>&gt;</code>
<p>
<a href="class_c_profile-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="CProfile::CProfile"></a>
&nbsp;</td><td valign=bottom><b>CProfile</b> (const QString &amp;fileName, const QString &amp;name=QString::null)</td></tr>
<tr><td nowrap align=right valign=top><a name="a1" doxytag="CProfile::~CProfile"></a>
&nbsp;</td><td valign=bottom><b>~CProfile</b> ()</td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a2">save</a> (QList&lt; <a class="el" href="class_c_profile_window.html">CProfileWindow</a> &gt; windows)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Saves the profile to the file given in the constructor.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a3" doxytag="CProfile::save"></a>
const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a3">save</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Saves the profile to the file given in the constructor.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>QList&lt; <a class="el" href="class_c_profile_window.html">CProfileWindow</a> &gt;&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a4">load</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Loads the profile from the file given in the constructor.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a5" doxytag="CProfile::name"></a>
const QString &amp;&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a5">name</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the name of this profile.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a6" doxytag="CProfile::filename"></a>
const QString &amp;&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a6">filename</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the filename used for this profile.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a7" doxytag="CProfile::init"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a7">init</a> (const QString)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initializes the XML for the first time (use to create a new profile).</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a8" doxytag="CProfile::setName"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a8">setName</a> (const QString &amp;)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Chnages the name of this profile.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a9" doxytag="CProfile::setFullscreen"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a9">setFullscreen</a> (const bool fullscreen)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set the parameter to true if the main window coveres the full screen size.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a10" doxytag="CProfile::fullscreen"></a>
const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a10">fullscreen</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns true if the main window was in fullscreen mode as the profile was saved.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a11" doxytag="CProfile::setGeometry"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a11">setGeometry</a> (const QRect rect)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Sets the geoemtry of the main window.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a12" doxytag="CProfile::geometry"></a>
const QRect&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#a12">geometry</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the geometry of the main window.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="c0" doxytag="CProfile::loadBasics"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_profile.html#c0">loadBasics</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Loads the basic settings requires for proper operation.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="c1" doxytag="CProfile::saveBasics"></a>
void&nbsp;</td><td valign=bottom><b>saveBasics</b> ()</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="o0" doxytag="CProfile::m_profileWindows"></a>
QList&lt; <a class="el" href="class_c_profile_window.html">CProfileWindow</a> &gt;&nbsp;</td><td valign=bottom><b>m_profileWindows</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o1" doxytag="CProfile::m_name"></a>
QString&nbsp;</td><td valign=bottom><b>m_name</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o2" doxytag="CProfile::m_filename"></a>
QString&nbsp;</td><td valign=bottom><b>m_filename</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o3" doxytag="CProfile::m_fullscreen"></a>
bool&nbsp;</td><td valign=bottom><b>m_fullscreen</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o4" doxytag="CProfile::m_geometry"></a>
QRect&nbsp;</td><td valign=bottom><b>m_geometry</b></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Manages one profile file.
<p>
Provides functions to save and restore settings of the available display windows. <dl compact><dt><b>
Author: </b><dd>
The <a class="el" href="class_bible_time.html">BibleTime</a> team </dl>
<p>

<p>
Definition at line <a class="el" href="cprofile_8h-source.html#l00029">29</a> of file <a class="el" href="cprofile_8h-source.html">cprofile.h</a>.<hr><h2>Member Function Documentation</h2>
<a name="a4" doxytag="CProfile::load"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QList&lt; <a class="el" href="class_c_profile_window.html">CProfileWindow</a> &gt; CProfile::load </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Loads the profile from the file given in the constructor.
<p>
<dl compact><dt><b>
Returns: </b><dd>
The list of profiled window which exist in the profile. </dl>
<p>
Definition at line <a class="el" href="cprofile_8cpp-source.html#l00058">58</a> of file <a class="el" href="cprofile_8cpp-source.html">cprofile.cpp</a>.
<p>
References <a class="el" href="cprofile_8cpp-source.html#l00353">setFullscreen</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00036">CProfileWindow::setGeometry</a>, <a class="el" href="cprofile_8cpp-source.html#l00363">setGeometry</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00067">CProfileWindow::setKey</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00093">CProfileWindow::setMaximized</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00047">CProfileWindow::setModules</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00072">CProfileWindow::setScrollbarPositions</a>, and <a class="el" href="cprofilewindow_8cpp-source.html#l00103">CProfileWindow::setWindowSettings</a>.
<p>
<div class="fragment"><pre>00058                                     {
00059     QFile file(m_filename); 
00060     <font class="keywordflow">if</font> (!file.exists())
00061         <font class="keywordflow">return</font> QList&lt;CProfileWindow&gt;();
00062 
00063     file.open(IO_ReadOnly);
00064     
00065     QDomDocument doc;
00066     doc.setContent(&amp;file);
00067     file.close();   
00068     
00069   QDomElement document = doc.documentElement();
00070   <font class="keywordflow">if</font>(document.tagName() != <font class="stringliteral">"BibleTime"</font>) {
00071         qWarning(<font class="stringliteral">"CProfile::load: Missing BibleTime doc"</font>);
00072         <font class="keywordflow">return</font> m_profileWindows;
00073     }
00074     <font class="keywordflow">if</font> (document.hasAttribute(<font class="stringliteral">"name"</font>)) {
00075         m_name = document.attribute(<font class="stringliteral">"name"</font>);    
00076     }
00077 
00078     
00079     <font class="comment">//load settings of the main window</font>
00080     {
00081         <font class="comment">// see if there's a section with the name MAINWINDOW</font>
00082         QDomElement elem = document.firstChild().toElement();       
00083         QDomElement mainWindow;
00084         <font class="keywordflow">while</font> (!elem.isNull()) {
00085             <font class="keywordflow">if</font> (elem.tagName() == <font class="stringliteral">"MAINWINDOW"</font>) {
00086                 mainWindow = elem;
00087                 <font class="keywordflow">break</font>; <font class="comment">//found the element</font>
00088             }
00089             elem = elem.nextSibling().toElement();              
00090         }       
00091         <font class="keywordflow">if</font> (!mainWindow.isNull()) { <font class="comment">//was found</font>
00092             <a class="code" href="class_c_profile.html#a9">setFullscreen</a>( (<font class="keywordtype">bool</font>)mainWindow.attribute(<font class="stringliteral">"fullscreen"</font>).toInt());
00093             QDomElement object = mainWindow.namedItem(<font class="stringliteral">"GEOMETRY"</font>).toElement();
00094             QRect rect;
00095       <font class="keywordflow">if</font>(!object.isNull()) {
00096                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"x"</font>)) {
00097                     rect.setX(object.attribute(<font class="stringliteral">"x"</font>).toInt());
00098                 }
00099                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"y"</font>)) {
00100                     rect.setY(object.attribute(<font class="stringliteral">"y"</font>).toInt());
00101                 }
00102                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"width"</font>)) {
00103                     rect.setWidth(object.attribute(<font class="stringliteral">"width"</font>).toInt());
00104                 }
00105                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"height"</font>)) {
00106                     rect.setHeight(object.attribute(<font class="stringliteral">"height"</font>).toInt());
00107                 }
00108 <font class="comment">//              if (object.hasAttribute("isMaximized")) {</font>
00109 <font class="comment">//                  p-&gt;setMaximized( static_cast&lt;bool&gt;(object.attribute("isMaximized").toInt()) );</font>
00110 <font class="comment">//              }               </font>
00111             }
00112             <a class="code" href="class_c_profile.html#a11">setGeometry</a>(rect);          
00113         }
00114     }
00115         
00116     m_profileWindows.clear();
00117     QDomElement elem = document.firstChild().toElement();
00118     <font class="keywordflow">while</font> (!elem.isNull()) {
00119         <a class="code" href="class_c_profile_window.html">CProfileWindow</a>* p = 0;      
00120         <font class="keywordflow">if</font> (elem.tagName() == <font class="stringliteral">"BIBLE"</font>) {
00121             p = <font class="keyword">new</font> <a class="code" href="class_c_profile_window.html">CProfileWindow</a>(CSwordModuleInfo::Bible);
00122         }
00123         <font class="keywordflow">else</font> <font class="keywordflow">if</font> (elem.tagName() == <font class="stringliteral">"COMMENTARY"</font>) {
00124             p = <font class="keyword">new</font> <a class="code" href="class_c_profile_window.html">CProfileWindow</a>(CSwordModuleInfo::Commentary);
00125         }
00126         <font class="keywordflow">else</font> <font class="keywordflow">if</font> (elem.tagName() == <font class="stringliteral">"LEXICON"</font>) {
00127             p = <font class="keyword">new</font> <a class="code" href="class_c_profile_window.html">CProfileWindow</a>(CSwordModuleInfo::Lexicon);
00128         }           
00129         <font class="keywordflow">else</font> <font class="keywordflow">if</font> (elem.tagName() == <font class="stringliteral">"BOOK"</font>) {
00130             p = <font class="keyword">new</font> <a class="code" href="class_c_profile_window.html">CProfileWindow</a>(CSwordModuleInfo::GenericBook);
00131         }           
00132         
00133         <font class="keywordflow">if</font> (p) {
00134             m_profileWindows.append(p);
00135             
00136             <font class="keywordflow">if</font> (elem.hasAttribute(<font class="stringliteral">"windowSettings"</font>)) {
00137                 p-&gt;<a class="code" href="class_c_profile_window.html#a12">setWindowSettings</a>( elem.attribute(<font class="stringliteral">"windowSettings"</font>).toInt() );
00138             }
00139             
00140             QRect rect;
00141                         
00142             QDomElement object = elem.namedItem(<font class="stringliteral">"GEOMETRY"</font>).toElement();
00143       <font class="keywordflow">if</font>(!object.isNull()) {
00144                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"x"</font>)) {
00145                     rect.setX(object.attribute(<font class="stringliteral">"x"</font>).toInt());
00146                 }
00147                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"y"</font>)) {
00148                     rect.setY(object.attribute(<font class="stringliteral">"y"</font>).toInt());
00149                 }
00150                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"width"</font>)) {
00151                     rect.setWidth(object.attribute(<font class="stringliteral">"width"</font>).toInt());
00152                 }
00153                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"height"</font>)) {
00154                     rect.setHeight(object.attribute(<font class="stringliteral">"height"</font>).toInt());
00155                 }
00156                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"isMaximized"</font>)) {
00157                     p-&gt;<a class="code" href="class_c_profile_window.html#a11">setMaximized</a>( static_cast&lt;bool&gt;(object.attribute(<font class="stringliteral">"isMaximized"</font>).toInt()) );
00158                 }               
00159             }
00160             p-&gt;<a class="code" href="class_c_profile_window.html#a5">setGeometry</a>(rect);
00161             
00162             object = elem.namedItem(<font class="stringliteral">"MODULES"</font>).toElement();
00163       <font class="keywordflow">if</font>(!object.isNull()) {                
00164                 <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"list"</font>)) {
00165                     <font class="keyword">const</font> QString sep = object.hasAttribute(<font class="stringliteral">"separator"</font>) ? object.attribute(<font class="stringliteral">"separator"</font>) : "|";
00166                     QStringList modules = QStringList::split(sep, object.attribute(<font class="stringliteral">"list"</font>));
00167                     p-&gt;<a class="code" href="class_c_profile_window.html#a2">setModules</a>(modules);
00168                 }
00169       }
00170 
00171             object = elem.namedItem(<font class="stringliteral">"KEY"</font>).toElement();
00172       <font class="keywordflow">if</font>(!object.isNull()) {
00173         <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"name"</font>))
00174                     p-&gt;<a class="code" href="class_c_profile_window.html#a8">setKey</a>(object.attribute(<font class="stringliteral">"name"</font>));
00175       }             
00176                 
00177             object = elem.namedItem(<font class="stringliteral">"SCROLLBARS"</font>).toElement();
00178       <font class="keywordflow">if</font>(!object.isNull()) {
00179         <font class="keywordtype">int</font> horizontal = 0, vertical = 0;
00180         <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"horizontal"</font>))
00181             horizontal = object.attribute(<font class="stringliteral">"horizontal"</font>).toInt();
00182         <font class="keywordflow">if</font> (object.hasAttribute(<font class="stringliteral">"vertical"</font>))
00183             vertical = object.attribute(<font class="stringliteral">"vertical"</font>).toInt();
00184 
00185                 p-&gt;<a class="code" href="class_c_profile_window.html#a10">setScrollbarPositions</a>(horizontal, vertical);         
00186       }             
00187         }               
00188         elem = elem.nextSibling().toElement();  
00189     }
00190     <font class="keywordflow">return</font> m_profileWindows;
00191 }
</pre></div>    </td>
  </tr>
</table>
<a name="a2" doxytag="CProfile::save"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CProfile::save </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QList&lt; <a class="el" href="class_c_profile_window.html">CProfileWindow</a> &gt;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>windows</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Saves the profile to the file given in the constructor.
<p>
<dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>windows</em>&nbsp;</td><td>
The list of windows available in the profile. </td></tr>
</table>
</dl>
<p>
Definition at line <a class="el" href="cprofile_8cpp-source.html#l00194">194</a> of file <a class="el" href="cprofile_8cpp-source.html">cprofile.cpp</a>.
<p>
References <a class="el" href="cprofile_8cpp-source.html#l00348">fullscreen</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00031">CProfileWindow::geometry</a>, <a class="el" href="cprofile_8cpp-source.html#l00358">geometry</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00062">CProfileWindow::key</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00088">CProfileWindow::maximized</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00052">CProfileWindow::modules</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00078">CProfileWindow::scrollbarPositions</a>, <a class="el" href="cprofilewindow_8cpp-source.html#l00041">CProfileWindow::type</a>, and <a class="el" href="cprofilewindow_8cpp-source.html#l00098">CProfileWindow::windowSettings</a>.
<p>
<div class="fragment"><pre>00194                                                       {
00198     <font class="keywordtype">bool</font> ret = <font class="keyword">false</font>;
00199   QDomDocument doc(<font class="stringliteral">"DOC"</font>);
00200   doc.appendChild( doc.createProcessingInstruction( <font class="stringliteral">"xml"</font>, <font class="stringliteral">"version=\"1.0\" encoding=\"UTF-8\""</font> ) );
00201 
00202   QDomElement content = doc.createElement(<font class="stringliteral">"BibleTime"</font>);
00203   content.setAttribute(<font class="stringliteral">"syntaxVersion"</font>, CURRENT_SYNTAX_VERSION);
00204   content.setAttribute(<font class="stringliteral">"name"</font>, m_name);
00205   doc.appendChild(content);
00206 
00207   <font class="comment">//save mainwindow settings</font>
00208     {
00209         QDomElement mainWindow = doc.createElement(<font class="stringliteral">"MAINWINDOW"</font>);
00210     mainWindow.setAttribute(<font class="stringliteral">"fullscreen"</font>, <a class="code" href="class_c_profile.html#a10">fullscreen</a>());
00211     
00212     QDomElement <a class="code" href="class_c_profile.html#a12">geometry</a> = doc.createElement(<font class="stringliteral">"GEOMETRY"</font>);
00213     mainWindow.appendChild(<a class="code" href="class_c_profile.html#a12">geometry</a>);
00214     QRect r = this-&gt;<a class="code" href="class_c_profile.html#a12">geometry</a>();
00215     <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"x"</font>,r.x());
00216     <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"y"</font>,r.y());       
00217     <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"width"</font>,r.width());       
00218     <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"height"</font>,r.height());     
00219 <font class="comment">//      geometry.setAttribute("isMaximized",static_cast&lt;int&gt;(maximized()));</font>
00220 
00221         content.appendChild(mainWindow);
00222     }
00223 
00224     <font class="keywordflow">for</font> (<a class="code" href="class_c_profile_window.html">CProfileWindow</a>* p = windows.first(); p; p = windows.next()) {
00225         QDomElement window;
00226         <font class="keywordflow">switch</font> (p-&gt;<a class="code" href="class_c_profile_window.html#a3">type</a>()) {
00227             <font class="keywordflow">case</font> CSwordModuleInfo::Bible:
00228                 window = doc.createElement(<font class="stringliteral">"BIBLE"</font>);    
00229                 <font class="keywordflow">break</font>;
00230             <font class="keywordflow">case</font> CSwordModuleInfo::Commentary:
00231                 window = doc.createElement(<font class="stringliteral">"COMMENTARY"</font>);   
00232                 <font class="keywordflow">break</font>;
00233             <font class="keywordflow">case</font> CSwordModuleInfo::Lexicon:
00234                 window = doc.createElement(<font class="stringliteral">"LEXICON"</font>);  
00235                 <font class="keywordflow">break</font>;
00236             <font class="keywordflow">case</font> CSwordModuleInfo::GenericBook:
00237                 window = doc.createElement(<font class="stringliteral">"BOOK"</font>); 
00238                 <font class="keywordflow">break</font>;              
00239         }
00240         <font class="keywordflow">if</font> (window.isNull())
00241             <font class="keywordflow">break</font>;
00242         window.setAttribute(<font class="stringliteral">"windowSettings"</font>, p-&gt;<a class="code" href="class_c_profile_window.html#a13">windowSettings</a>());
00243         
00244         <font class="comment">//save geomtery</font>
00245         QRect r = p-&gt;<a class="code" href="class_c_profile_window.html#a6">geometry</a>();
00246         QDomElement <a class="code" href="class_c_profile.html#a12">geometry</a> = doc.createElement(<font class="stringliteral">"GEOMETRY"</font>);
00247         <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"x"</font>,r.x());
00248         <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"y"</font>,r.y());       
00249         <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"width"</font>,r.width());       
00250         <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"height"</font>,r.height());     
00251         <a class="code" href="class_c_profile.html#a12">geometry</a>.setAttribute(<font class="stringliteral">"isMaximized"</font>,static_cast&lt;int&gt;(p-&gt;<a class="code" href="class_c_profile_window.html#a14">maximized</a>()));
00252         window.appendChild( <a class="code" href="class_c_profile.html#a12">geometry</a> );
00253 
00254         QDomElement modules = doc.createElement(<font class="stringliteral">"MODULES"</font>);
00255         modules.setAttribute(<font class="stringliteral">"separator"</font>, <font class="stringliteral">"|"</font>);
00256         modules.setAttribute(<font class="stringliteral">"list"</font>, p-&gt;<a class="code" href="class_c_profile_window.html#a7">modules</a>().join(<font class="stringliteral">"|"</font>));
00257         window.appendChild( modules );      
00258 
00259         QDomElement key = doc.createElement(<font class="stringliteral">"KEY"</font>);
00260         key.setAttribute(<font class="stringliteral">"name"</font>, p-&gt;<a class="code" href="class_c_profile_window.html#a9">key</a>());
00261         window.appendChild( key );      
00262 
00263         QDomElement scrollbars = doc.createElement(<font class="stringliteral">"SCROLLBARS"</font>);
00264         scrollbars.setAttribute(<font class="stringliteral">"horizontal"</font>, p-&gt;<a class="code" href="class_c_profile_window.html#a15">scrollbarPositions</a>().horizontal);
00265         scrollbars.setAttribute(<font class="stringliteral">"vertical"</font>, p-&gt;<a class="code" href="class_c_profile_window.html#a15">scrollbarPositions</a>().vertical);      
00266         window.appendChild( scrollbars );       
00267                         
00268         content.appendChild( window );
00269     }       
00270     
00271     QFile file(m_filename);
00272     <font class="keywordflow">if</font>(file.open(IO_WriteOnly))
00273         ret = <font class="keyword">true</font>;
00274     QTextStream t( &amp;file );        <font class="comment">// use a text stream</font>
00275     t &lt;&lt; doc.toString();
00276     file.close();
00277 
00278     <font class="keywordflow">return</font> ret;
00279 }
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="cprofile_8h-source.html">cprofile.h</a><li><a class="el" href="cprofile_8cpp-source.html">cprofile.cpp</a></ul>
<hr><address><small>Generated on Sun Mar 10 22:12:53 2002 for BibleTime by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
