<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>qcomplextext_p.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.1.5 on Sat Feb 24 14:13:55 2001 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>qcomplextext_p.h</h1><a href="qcomplextext_p.h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="preprocessor">#ifndef QCOMPLEXTEXT_H
</font>00002 <font class="preprocessor"></font><font class="preprocessor">#define QCOMPLEXTEXT_H
</font>00003 <font class="preprocessor"></font>
00004 <font class="preprocessor">#ifndef QT_H
</font>00005 <font class="preprocessor"></font><font class="preprocessor">#include &lt;qstring.h&gt;</font>
00006 <font class="preprocessor">#include &lt;qpointarray.h&gt;</font>
00007 <font class="preprocessor">#include &lt;qfont.h&gt;</font>
00008 <font class="preprocessor">#include &lt;qpainter.h&gt;</font>
00009 <font class="preprocessor">#include &lt;qlist.h&gt;</font>
00010 <font class="preprocessor">#include &lt;qshared.h&gt;</font>
00011 <font class="preprocessor">#endif // QT_H
</font>00012 <font class="preprocessor"></font>
00013 <font class="keyword">namespace</font> Qt3 {
00014 
00015 <font class="keyword">class </font>QFontPrivate;
00016 
00017 <font class="comment">// bidi helper classes. Internal to Qt</font>
<a name="l00018"></a><a class="code" href="class_qt3__qbidistatus.html">00018</a> <font class="keyword">struct </font>Q_EXPORT QBidiStatus {
<a name="l00019"></a><a class="code" href="class_qt3__qbidistatus.html#a0">00019</a>     QBidiStatus()<font class="keyword"> </font>{
00020     eor = QChar::DirON;
00021     lastStrong = QChar::DirON;
00022     last = QChar:: DirON;
00023     }
<a name="l00024"></a><a class="code" href="class_qt3__qbidistatus.html#m0">00024</a>     QChar::Direction eor        : 5;
<a name="l00025"></a><a class="code" href="class_qt3__qbidistatus.html#m1">00025</a>     QChar::Direction lastStrong     : 5;
<a name="l00026"></a><a class="code" href="class_qt3__qbidistatus.html#m2">00026</a>     QChar::Direction last       : 5;
00027 };
00028 
<a name="l00029"></a><a class="code" href="class_qt3__qbidicontext.html">00029</a> <font class="keyword">struct </font>Q_EXPORT QBidiContext : <font class="keyword">public</font> QShared {
00030     QBidiContext( uchar level, QChar::Direction embedding, QBidiContext *parent = 0, <font class="keywordtype">bool</font> override = FALSE );
00031     ~QBidiContext();
00032 
<a name="l00033"></a><a class="code" href="class_qt3__qbidicontext.html#m0">00033</a>     <font class="keywordtype">unsigned</font> <font class="keywordtype">char</font> level;
<a name="l00034"></a><a class="code" href="class_qt3__qbidicontext.html#m1">00034</a>     <font class="keywordtype">bool</font> override : 1;
<a name="l00035"></a><a class="code" href="class_qt3__qbidicontext.html#m2">00035</a>     QChar::Direction dir : 5;
00036 
<a name="l00037"></a><a class="code" href="class_qt3__qbidicontext.html#m3">00037</a>     QBidiContext *parent;
00038 
00039     <font class="comment">// refcounting....</font>
<a name="l00040"></a><a class="code" href="class_qt3__qbidicontext.html#m4">00040</a>     <font class="keywordtype">int</font> count;
00041 };
00042 
<a name="l00043"></a><a class="code" href="class_qt3__qbidicontrol.html">00043</a> <font class="keyword">struct </font>Q_EXPORT QBidiControl {
<a name="l00044"></a><a class="code" href="class_qt3__qbidicontrol.html#a0">00044</a>     QBidiControl()<font class="keyword"> </font>{ context = 0; }
<a name="l00045"></a><a class="code" href="class_qt3__qbidicontrol.html#a1">00045</a>     QBidiControl( QBidiContext *c, QBidiStatus s)<font class="keyword">
</font>00046 <font class="keyword">    </font>{ context = c; <font class="keywordflow">if</font>( context ) context-&gt;ref(); status = s; }
<a name="l00047"></a><a class="code" href="class_qt3__qbidicontrol.html#a2">00047</a>     ~QBidiControl()<font class="keyword"> </font>{ <font class="keywordflow">if</font> ( context ) context-&gt;deref(); }
<a name="l00048"></a><a class="code" href="class_qt3__qbidicontrol.html#a3">00048</a>     <font class="keywordtype">void</font> setContext( QBidiContext *c )<font class="keyword"> </font>{ <font class="keywordflow">if</font> ( context == c ) <font class="keywordflow">return</font>; <font class="keywordflow">if</font> ( context ) context-&gt;deref(); context = c; context-&gt;ref(); }
<a name="l00049"></a><a class="code" href="class_qt3__qbidicontrol.html#m0">00049</a>     QBidiContext *context;
<a name="l00050"></a><a class="code" href="class_qt3__qbidicontrol.html#m1">00050</a>     QBidiStatus status;
00051 };
00052 
<a name="l00053"></a><a class="code" href="class_qt3__qtextrun.html">00053</a> <font class="keyword">struct </font>Q_EXPORT QTextRun {
<a name="l00054"></a><a class="code" href="class_qt3__qtextrun.html#a0">00054</a>     QTextRun(<font class="keywordtype">int</font> _start, <font class="keywordtype">int</font> _stop, QBidiContext *context, QChar::Direction dir)<font class="keyword"> </font>{
00055     start = _start;
00056     stop = _stop;
00057     <font class="keywordflow">if</font>(dir == QChar::DirON) dir = context-&gt;dir;
00058 
00059     level = context-&gt;level;
00060 
00061     <font class="comment">// add level of run (cases I1 &amp; I2)</font>
00062     <font class="keywordflow">if</font>( level % 2 ) {
00063         <font class="keywordflow">if</font>(dir == QChar::DirL || dir == QChar::DirAN)
00064         level++;
00065     } <font class="keywordflow">else</font> {
00066         <font class="keywordflow">if</font>( dir == QChar::DirR )
00067         level++;
00068         <font class="keywordflow">else</font> <font class="keywordflow">if</font>( dir == QChar::DirAN )
00069         level += 2;
00070     }
00071     <font class="comment">//printf("new run: level = %d\n", level);</font>
00072     }
00073 
<a name="l00074"></a><a class="code" href="class_qt3__qtextrun.html#m0">00074</a>     <font class="keywordtype">int</font> start;
<a name="l00075"></a><a class="code" href="class_qt3__qtextrun.html#m1">00075</a>     <font class="keywordtype">int</font> stop;
00076     <font class="comment">// explicit + implicit levels here</font>
<a name="l00077"></a><a class="code" href="class_qt3__qtextrun.html#m2">00077</a>     uchar level;
00078 };
00079 
<a name="l00080"></a><a class="code" href="class_qt3__qcomplextext.html">00080</a> <font class="keyword">class </font>Q_EXPORT QComplexText {
00081 <font class="keyword">public</font>:
<a name="l00082"></a><a class="code" href="class_qt3__qcomplextext.html#s4">00082</a>     <font class="keyword">enum</font> Shape {
00083         XIsolated,
00084         XFinal,
00085         XInitial,
00086         XMedial
00087     };
00088     <font class="keyword">static</font> Shape glyphVariant( <font class="keyword">const</font> QString &amp;str, <font class="keywordtype">int</font> pos);
00089     <font class="keyword">static</font> Shape glyphVariantLogical( <font class="keyword">const</font> QString &amp;str, <font class="keywordtype">int</font> pos);
00090 
00091     <font class="comment">//QT2HACK</font>
00092     <font class="comment">//static QString shapedString( const QString &amp;str, int from = 0, int len = -1, QPainter::TextDirection dir = QPainter::Auto);</font>
00093     <font class="keyword">static</font> QChar shapedCharacter(<font class="keyword">const</font> QString &amp;str, <font class="keywordtype">int</font> pos);
00094 
00095     <font class="comment">// positions non spacing marks relative to the base character at position pos.</font>
00096     <font class="keyword">static</font> QPointArray positionMarks( QFontPrivate *f, <font class="keyword">const</font> QString &amp;str, <font class="keywordtype">int</font> pos, QRect *boundingRect = 0 );
00097 
00098     <font class="keyword">static</font> QList&lt;QTextRun&gt; *bidiReorderLine( QBidiControl *control, <font class="keyword">const</font> QString &amp;str, <font class="keywordtype">int</font> start, <font class="keywordtype">int</font> len );
00099     <font class="keyword">static</font> QString bidiReorderString( <font class="keyword">const</font> QString &amp;str, QChar::Direction basicDir = QChar::DirON );
00100 };
00101 
00102 }; <font class="comment">// namespace</font>
00103 
00104 <font class="preprocessor">#endif
</font></div></pre><hr><address><small>Generated at Sat Feb 24 14:13:56 2001 for BibleTime by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=110 height=53></a>1.1.5 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-2000</small></address>
</body>
</html>
