<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CGroupManager class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>CGroupManager  Class Reference</h1>The groupmanager which handles all the modules and bookmarks. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="cgroupmanager_8h-source.html">cgroupmanager.h</a>&gt;</code>
<p>
Inheritance diagram for CGroupManager:<p><center><img src="class_c_group_manager__inherit__graph.png" border="0" usemap="#_c_group_manager__inherit__map" alt="Inheritance graph"></center>
<map name="_c_group_manager__inherit__map">
<area href="class_c_pointers.html" shape="rect" coords="34,15,103,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for CGroupManager:<p><center><img src="class_c_group_manager__coll__graph.png" border="0" usemap="#_c_group_manager__coll__map" alt="Collaboration graph"></center>
<map name="_c_group_manager__coll__map">
<area href="class_c_pointers.html" shape="rect" coords="25,94,94,112" alt="">
<area href="class_c_group_manager_item.html" shape="rect" coords="158,94,291,112" alt="">
<area href="class_c_search_dialog.html" shape="rect" coords="175,158,274,176" alt="">
<area href="class_c_group_manager_1_1_tool_tip.html" shape="rect" coords="146,230,303,248" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="class_c_group_manager-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>Action</b> { <b>Import</b>, 
<b>Export</b>, 
<b>Normal</b>
 }</td></tr>
<tr><td colspan=2><br><h2>Public Slots</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="g0" doxytag="CGroupManager::slotUnlockModule"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#g0">slotUnlockModule</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Opens a dialog to enter the key to unlock an encrypted module.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#g1">slotReset</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Resets the groupmanager.</em> <a href="#g1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="g2" doxytag="CGroupManager::resizeContents"></a>
virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#g2">resizeContents</a> (int w, int h)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Resizes the content size of this list view.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Signals</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="j0" doxytag="CGroupManager::createDisplayWindow"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#j0">createDisplayWindow</a> (<a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> *, const QString &amp;)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Is emitted when a module in the tree was selected.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="j1" doxytag="CGroupManager::createDisplayWindow"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#j1">createDisplayWindow</a> (ListCSwordModuleInfo, const QString &amp;)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Is emitted when more than one module are selected.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="CGroupManager::CGroupManager"></a>
&nbsp;</td><td valign=bottom><b>CGroupManager</b> (QWidget *parent=0, const char *name=0, ListCSwordModuleInfo *moduleInfo_list=0, const bool useBookmarks=true, const bool saveSettings=true, const bool useDnD=true, const bool useExtendedMode=true, const bool useRMBMenu=true, const bool showHelpDialogs=true)</td></tr>
<tr><td nowrap align=right valign=top><a name="a1" doxytag="CGroupManager::~CGroupManager"></a>
&nbsp;</td><td valign=bottom><b>~CGroupManager</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a2" doxytag="CGroupManager::setupSwordTree"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#a2">setupSwordTree</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initializes the tree of this CGroupmanager.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a3" doxytag="CGroupManager::setupStandardSwordTree"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#a3">setupStandardSwordTree</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initializes the tree of this CGroupmanager.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a4" doxytag="CGroupManager::readSettings"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#a4">readSettings</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read settings from config.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a5" doxytag="CGroupManager::saveSettings"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#a5">saveSettings</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Saves settings to config file.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a6" doxytag="CGroupManager::initView"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#a6">initView</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initializes this widget.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a7" doxytag="CGroupManager::searchBookmarkedModule"></a>
void&nbsp;</td><td valign=bottom><b>searchBookmarkedModule</b> (const QString &amp;, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *)</td></tr>
<tr><td nowrap align=right valign=top><a name="a8" doxytag="CGroupManager::isChild"></a>
const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#a8">isChild</a> (QListViewItem *parent, QListViewItem *child)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns true if the item "item" is a child of item "parent".</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Slots</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="h0" doxytag="CGroupManager::slotDeleteSelectedItems"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h0">slotDeleteSelectedItems</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Deletes the item given as parameter.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h1" doxytag="CGroupManager::slotChangeBookmark"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h1">slotChangeBookmark</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Changes the current item.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h2" doxytag="CGroupManager::slotPopupAboutToShow"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h2">slotPopupAboutToShow</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Is called before the menu is shown.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h3" doxytag="CGroupManager::slotSearchSelectedModules"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h3">slotSearchSelectedModules</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>search the modules that were selected.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h4" doxytag="CGroupManager::slotShowAbout"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h4">slotShowAbout</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Shows an about dialog containing information about a module.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h5" doxytag="CGroupManager::slotCreateNewPresenter"></a>
void&nbsp;</td><td valign=bottom><b>slotCreateNewPresenter</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="h6" doxytag="CGroupManager::slotCreateNewGroup"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h6">slotCreateNewGroup</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Creates a new group.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h7" doxytag="CGroupManager::slotExportBookmarks"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h7">slotExportBookmarks</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Exports bookmarks of selected group.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h8" doxytag="CGroupManager::slotImportBookmarks"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h8">slotImportBookmarks</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Impoorts bookmarks.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h9" doxytag="CGroupManager::viewportPaintEvent"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h9">viewportPaintEvent</a> (QPaintEvent *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reimplementatuiion.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h10" doxytag="CGroupManager::drawDropVisualizer"></a>
const QRect&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h10">drawDropVisualizer</a> (QPainter *p, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *parent, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *after, const QString &amp;type)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reimplementation with different parameters.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h11" doxytag="CGroupManager::cleanDropVisualizer"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h11">cleanDropVisualizer</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reimplementation.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h12" doxytag="CGroupManager::contentsMouseDoubleClickEvent"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h12">contentsMouseDoubleClickEvent</a> (QMouseEvent *e)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reimplementation.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h13" doxytag="CGroupManager::slotChangeGroup"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h13">slotChangeGroup</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Changes a group.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h14" doxytag="CGroupManager::slotPrintBookmark"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h14">slotPrintBookmark</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Prints the selected bookmark.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="h15" doxytag="CGroupManager::slotDeleteSearchdialog"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#h15">slotDeleteSearchdialog</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Deletes the searchdialog.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Slots</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="i0" doxytag="CGroupManager::slotReturnPressed"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#i0">slotReturnPressed</a> (QListViewItem *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Is called when the return key was pressed on a listview item.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="c0" doxytag="CGroupManager::initConnections"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c0">initConnections</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initializes the connections of this class.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="c1" doxytag="CGroupManager::contentsDragEnterEvent"></a>
void&nbsp;</td><td valign=bottom><b>contentsDragEnterEvent</b> (QDragEnterEvent *e)</td></tr>
<tr><td nowrap align=right valign=top><a name="c2" doxytag="CGroupManager::contentsDragMoveEvent"></a>
void&nbsp;</td><td valign=bottom><b>contentsDragMoveEvent</b> (QDragMoveEvent *e)</td></tr>
<tr><td nowrap align=right valign=top><a name="c3" doxytag="CGroupManager::contentsDragLeaveEvent"></a>
void&nbsp;</td><td valign=bottom><b>contentsDragLeaveEvent</b> (QDragLeaveEvent *e)</td></tr>
<tr><td nowrap align=right valign=top><a name="c4" doxytag="CGroupManager::contentsDropEvent"></a>
void&nbsp;</td><td valign=bottom><b>contentsDropEvent</b> (QDropEvent *e)</td></tr>
<tr><td nowrap align=right valign=top><a name="c5" doxytag="CGroupManager::contentsMousePressEvent"></a>
void&nbsp;</td><td valign=bottom><b>contentsMousePressEvent</b> (QMouseEvent *)</td></tr>
<tr><td nowrap align=right valign=top><a name="c6" doxytag="CGroupManager::contentsMouseReleaseEvent"></a>
void&nbsp;</td><td valign=bottom><b>contentsMouseReleaseEvent</b> (QMouseEvent *)</td></tr>
<tr><td nowrap align=right valign=top><a name="c7" doxytag="CGroupManager::contentsMouseMoveEvent"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c7">contentsMouseMoveEvent</a> (QMouseEvent *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reimplementation.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="c8" doxytag="CGroupManager::parentId"></a>
const int&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c8">parentId</a> (<a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *item, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *parentItem=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Find ID of parent item.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="c9" doxytag="CGroupManager::findParent"></a>
<a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c9">findParent</a> (const int ID, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *parentItem=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>returns the parent of the item with the ID index.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="c10" doxytag="CGroupManager::createNewBookmark"></a>
void&nbsp;</td><td valign=bottom><b>createNewBookmark</b> (<a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *parent, <a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> *module, const QString &amp;ref)</td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c11">saveSwordBookmarks</a> (KConfig *configFile, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *group, const Action=Normal)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Save items of group to config.</em> <a href="#c11">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c12">readSwordBookmarks</a> (KConfig *configFile, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *group, const Action=Normal)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reads in bookmarks from config and creates them as subitems of group.</em> <a href="#c12">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c13">saveSwordModules</a> (KConfig *configFile, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *group)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Save items of group to config.</em> <a href="#c13">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c14">readSwordModules</a> (KConfig *configFile, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *group)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reads in bookmarks from config and creates them as subitems of group.</em> <a href="#c14">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c15">saveGroups</a> (KConfig *configFile, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *group, const Action=Normal)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Save items of group to config.</em> <a href="#c15">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c16">readGroups</a> (KConfig *configFile, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *group, const Action=Normal)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Reads in bookmarks from config and creates them as subitems of group.</em> <a href="#c16">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c17">findGroup</a> (const QString &amp;name, <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *group=0, const int id=-1)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the standard group with the given name if it alredy exists.</em> <a href="#c17">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="c18" doxytag="CGroupManager::printTree"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="class_c_group_manager.html#c18">printTree</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Debugs the tree items.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="o0" doxytag="CGroupManager::m_swordList"></a>
ListCSwordModuleInfo *&nbsp;</td><td valign=bottom><b>m_swordList</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o1" doxytag="CGroupManager::m_config"></a>
KConfig *&nbsp;</td><td valign=bottom><b>m_config</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o2" doxytag="CGroupManager::m_popupMenu"></a>
KPopupMenu *&nbsp;</td><td valign=bottom><b>m_popupMenu</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o3" doxytag="CGroupManager::m_menu"></a>
bool&nbsp;</td><td valign=bottom><b>m_menu</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o4" doxytag="CGroupManager::m_pressedPos"></a>
QPoint&nbsp;</td><td valign=bottom><b>m_pressedPos</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o5" doxytag="CGroupManager::m_oldDragRect"></a>
QRect&nbsp;</td><td valign=bottom><b>m_oldDragRect</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o6" doxytag="CGroupManager::m_parentItemDrop"></a>
<a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td><td valign=bottom><b>m_parentItemDrop</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o7" doxytag="CGroupManager::m_afterItemDrop"></a>
<a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td><td valign=bottom><b>m_afterItemDrop</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o8" doxytag="CGroupManager::m_dragType"></a>
QString&nbsp;</td><td valign=bottom><b>m_dragType</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o9" doxytag="CGroupManager::m_searchDialog"></a>
<a class="el" href="class_c_search_dialog.html">CSearchDialog</a> *&nbsp;</td><td valign=bottom><b>m_searchDialog</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o10" doxytag="CGroupManager::m_toolTip"></a>
<a class="el" href="class_c_group_manager_1_1_tool_tip.html">ToolTip</a> *&nbsp;</td><td valign=bottom><b>m_toolTip</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o11" doxytag="CGroupManager::m_pressedItem"></a>
<a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td><td valign=bottom><b>m_pressedItem</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o12" doxytag="CGroupManager::m_itemList"></a>
QPtrList&lt; <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> &gt; *&nbsp;</td><td valign=bottom><b>m_itemList</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o13" doxytag="CGroupManager::m_singleClick"></a>
bool&nbsp;</td><td valign=bottom><b>m_singleClick</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o14" doxytag="CGroupManager::m_useBookmarks"></a>
bool&nbsp;</td><td valign=bottom><b>m_useBookmarks</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o15" doxytag="CGroupManager::m_saveSettings"></a>
bool&nbsp;</td><td valign=bottom><b>m_saveSettings</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o16" doxytag="CGroupManager::m_useDragDrop"></a>
bool&nbsp;</td><td valign=bottom><b>m_useDragDrop</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o17" doxytag="CGroupManager::m_useExtendedMode"></a>
bool&nbsp;</td><td valign=bottom><b>m_useExtendedMode</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o18" doxytag="CGroupManager::m_useRMBMenu"></a>
bool&nbsp;</td><td valign=bottom><b>m_useRMBMenu</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o19" doxytag="CGroupManager::m_showHelpDialogs"></a>
bool&nbsp;</td><td valign=bottom><b>m_showHelpDialogs</b></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The groupmanager which handles all the modules and bookmarks.
<p>
<dl compact><dt><b>
Author: </b><dd>
The <a class="el" href="class_bible_time.html">BibleTime</a> Team </dl>
<p>

<p>
Definition at line <a class="el" href="cgroupmanager_8h-source.html#l00043">43</a> of file <a class="el" href="cgroupmanager_8h-source.html">cgroupmanager.h</a>.<hr><h2>Member Function Documentation</h2>
<a name="c17" doxytag="CGroupManager::findGroup"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> * CGroupManager::findGroup </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>group</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>id</em> = -1</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the standard group with the given name if it alredy exists.
<p>
Otherwise the group will be created. 
<p>
Definition at line <a class="el" href="cgroupmanager_8cpp-source.html#l01575">1575</a> of file <a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a>.
<p>
References <a class="el" href="cgroupmanager_8cpp-source.html#l01376">isChild</a>(), <a class="el" href="cgroupmanager_8cpp-source.html#l00926">parentId</a>(), and <a class="el" href="cgroupmanageritem_8cpp-source.html#l00072">CGroupManagerItem::type</a>().
<p>
Referenced by <a class="el" href="cgroupmanager_8cpp-source.html#l01279">readGroups</a>(), and <a class="el" href="cgroupmanager_8cpp-source.html#l00146">setupStandardSwordTree</a>().
<p>
<div class="fragment"><pre>01575                                                                                                       {
01576     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* item = 0;    
01577     QListViewItemIterator it    ;
01578     <font class="keywordflow">if</font> (group)
01579         it = QListViewItemIterator(group);
01580     <font class="keywordflow">else</font>
01581         it = QListViewItemIterator(<font class="keyword">this</font>);
01582     
01583     <font class="keywordflow">for</font> ( ; it.current(); ++it ) {
01584         item = dynamic_cast&lt;CGroupManagerItem*&gt;(it.current());
01585         <font class="keywordflow">if</font> (item &amp;&amp; item-&gt;<a class="code" href="class_c_group_manager_item.html#a13">type</a>() == CGroupManagerItem::Group &amp;&amp; item-&gt;text(0) == name &amp;&amp; <a class="code" href="class_c_group_manager.html#c8">parentId</a>(item, group) == id) { <font class="comment">//found the right group</font>
01586             <font class="keywordflow">if</font> (group &amp;&amp; !<a class="code" href="class_c_group_manager.html#a8">isChild</a>(group, item))
01587                 item = 0;
01588             <font class="keywordflow">else</font>
01589                 <font class="keywordflow">break</font>;
01590         }
01591         <font class="keywordflow">else</font> {
01592             item = 0;
01593         }
01594     }
01595     <font class="keywordflow">if</font> (!item) {        
01596         <font class="keywordflow">if</font> (group)
01597             item = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(group, name, QString::null, 0, 0, CGroupManagerItem::Group);
01598         <font class="keywordflow">else</font>
01599             item = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(<font class="keyword">this</font>, name, QString::null, 0, 0, CGroupManagerItem::Group);        
01600     }
01601   <font class="keywordflow">return</font> item;
01602 }
</pre></div>    </td>
  </tr>
</table>
<a name="c16" doxytag="CGroupManager::readGroups"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CGroupManager::readGroups </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">KConfig *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>configFile</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>group</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>Action</em> = Normal</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads in bookmarks from config and creates them as subitems of group.
<p>
If group is 0 we create them a toplevel items. 
<p>
Definition at line <a class="el" href="cgroupmanager_8cpp-source.html#l01279">1279</a> of file <a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a>.
<p>
References <a class="el" href="cgroupmanager_8cpp-source.html#l01575">findGroup</a>(), <a class="el" href="cgroupmanager_8cpp-source.html#l00963">findParent</a>(), <a class="el" href="cgroupmanager_8cpp-source.html#l01376">isChild</a>(), <a class="el" href="cgroupmanageritem_8cpp-source.html#l00273">CGroupManagerItem::moveAfter</a>(), <a class="el" href="cgroupmanageritem_8cpp-source.html#l00117">CGroupManagerItem::parent</a>(), and <a class="el" href="cgroupmanager_8cpp-source.html#l00926">parentId</a>().
<p>
Referenced by <a class="el" href="cgroupmanager_8cpp-source.html#l00136">setupSwordTree</a>(), and <a class="el" href="cgroupmanager_8cpp-source.html#l01147">slotImportBookmarks</a>().
<p>
<div class="fragment"><pre>01279                                                                                                        {
01280     qWarning(<font class="stringliteral">"CGroupManager::readGroups(KConfig* configFile, CGroupManagerItem* group, const Action action)"</font>);
01281  <font class="comment">//read and create group entries</font>
01282     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* parentItem = 0;
01283     <font class="keywordtype">bool</font> groupExists = <font class="keyword">false</font>;   
01284     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* oldItem = 0;
01285     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* newItem = 0;
01286     
01287     QStringList groupList = configFile-&gt;readListEntry(<font class="stringliteral">"Groups"</font>);
01288     QValueList&lt;int&gt; parentList = configFile-&gt;readIntListEntry(<font class="stringliteral">"Group parents"</font>);
01289     
01290     QStringList::Iterator it_groups = groupList.begin();
01291     QValueList&lt;int&gt;::Iterator it_parents = parentList.begin();
01292     
01293     <font class="keywordflow">while</font> ( (it_groups != groupList.end()) &amp;&amp; (it_parents != parentList.end()) ) {
01294         groupExists = <font class="keyword">false</font>;
01295         <font class="keywordflow">if</font> ( (*it_parents) == -1) { <font class="comment">//no parent item saved</font>
01296             <font class="keywordflow">if</font> (action == Import) { <font class="comment">//try to find existing group</font>
01297                 <font class="keywordflow">if</font> (<a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* existingGroup = <a class="code" href="class_c_group_manager.html#c17">findGroup</a>(*it_groups, group, *it_parents))
01298                     groupExists = <font class="keyword">true</font>;
01299             }
01300             <font class="keywordflow">else</font>
01301                 parentItem = group;
01302         }
01303         <font class="keywordflow">else</font> {
01304             parentItem = <a class="code" href="class_c_group_manager.html#c9">findParent</a>( (*it_parents),group );
01305             <font class="keywordflow">if</font> (!parentItem)
01306                 parentItem = group;
01307         }
01308         
01309         <font class="keywordflow">if</font> (!groupExists) {         
01310             <font class="keywordflow">if</font> (parentItem) {
01311                 newItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(parentItem, (*it_groups), QString::null, 0,0, CGroupManagerItem::Group);
01312             }
01313             <font class="keywordflow">else</font> {
01314                 newItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(<font class="keyword">this</font>, (*it_groups), QString::null, 0,0, CGroupManagerItem::Group);
01315             }
01316         
01317             <font class="keywordflow">if</font> (newItem &amp;&amp; oldItem ) {          
01318                 newItem-&gt;<a class="code" href="class_c_group_manager_item.html#a17">moveAfter</a>( oldItem );
01319             }
01320             <font class="keywordflow">if</font> (newItem) {
01321                 <font class="comment">/* we can't move a topgroup behind a subgroup, so we use multiple</font>
01322 <font class="comment">                 parent calls</font>
01323 <font class="comment">                */</font>
01324                 <font class="keywordflow">while</font> (<a class="code" href="class_c_group_manager.html#c8">parentId</a>(newItem) &gt; *it_parents) {
01325                     <font class="keywordflow">if</font> ( (group &amp;&amp; <a class="code" href="class_c_group_manager.html#a8">isChild</a>(group, newItem)) || (newItem &amp;&amp; newItem-&gt;<a class="code" href="class_c_group_manager_item.html#a4">parent</a>()) )
01326                         newItem = newItem-&gt;<a class="code" href="class_c_group_manager_item.html#a4">parent</a>();
01327                     <font class="keywordflow">else</font>
01328                         <font class="keywordflow">break</font>;
01329                 }
01330                 oldItem = newItem;
01331             }                   
01332         }
01333         
01334         ++it_parents;
01335         ++it_groups;
01336     }   
01337     <font class="keywordflow">return</font> <font class="keyword">true</font>;    
01338 };
</pre></div>    </td>
  </tr>
</table>
<a name="c12" doxytag="CGroupManager::readSwordBookmarks"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CGroupManager::readSwordBookmarks </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">KConfig *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>configFile</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>group</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>Action</em> = Normal</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads in bookmarks from config and creates them as subitems of group.
<p>
If group is 0 we create them a toplevel items. 
<p>
Definition at line <a class="el" href="cgroupmanager_8cpp-source.html#l01014">1014</a> of file <a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a>.
<p>
References <a class="el" href="cpointers_8cpp-source.html#l00027">CPointers::backend</a>(), <a class="el" href="cswordbackend_8cpp-source.html#l00219">CSwordBackend::findModuleByName</a>(), <a class="el" href="cgroupmanager_8cpp-source.html#l00963">findParent</a>(), <a class="el" href="cgroupmanageritem_8cpp-source.html#l00273">CGroupManagerItem::moveAfter</a>(), and <a class="el" href="cgroupmanageritem_8cpp-source.html#l00106">CGroupManagerItem::setDescription</a>().
<p>
Referenced by <a class="el" href="cgroupmanager_8cpp-source.html#l00136">setupSwordTree</a>(), and <a class="el" href="cgroupmanager_8cpp-source.html#l01147">slotImportBookmarks</a>().
<p>
<div class="fragment"><pre>01014                                                                                                        {
01015     <font class="comment">//read and create group entries</font>
01016     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* parentItem = 0;  
01017     
01018     QStringList groupList = configFile-&gt;readListEntry(<font class="stringliteral">"Groups"</font>);
01019 
01020     <font class="comment">//read in all bookmarks</font>
01021     QStringList bookmarkList                            = configFile-&gt;readListEntry(<font class="stringliteral">"Bookmarks"</font>);
01022     QStringList bookmarkModulesList             = configFile-&gt;readListEntry(<font class="stringliteral">"Bookmark modules"</font>);
01023     QStringList bookmarkDescriptionsList    = configFile-&gt;readListEntry(<font class="stringliteral">"Bookmark descriptions"</font>);
01024     QValueList&lt;int&gt; parentList                      = configFile-&gt;readIntListEntry(<font class="stringliteral">"Bookmark parents"</font>);
01025 
01026     QStringList::Iterator it_bookmarks  = bookmarkList.begin();
01027     QStringList::Iterator it_modules        = bookmarkModulesList.begin();
01028     QStringList::Iterator it_descriptions   = bookmarkDescriptionsList.begin();
01029     QValueList&lt;int&gt;::Iterator it_parents = parentList.begin();
01030 
01031     <a class="code" href="class_c_sword_module_info.html">CSwordModuleInfo</a>* moduleInfo = 0;
01032     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a> *myItem = 0;  
01033     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a> *oldItem = 0;
01034 
01035     <font class="keywordflow">while</font> ( it_bookmarks != bookmarkList.end() &amp;&amp; it_parents != parentList.end()
01036                     &amp;&amp; it_modules != bookmarkModulesList.end() ) {
01037         moduleInfo = <a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;<a class="code" href="class_c_sword_backend.html#a11">findModuleByName</a>((*it_modules));
01038         <font class="keywordflow">if</font> ( (*it_parents) == -1) {
01039             <font class="keywordflow">if</font> (group)
01040                 myItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(group, (*it_bookmarks), (*it_modules), moduleInfo, 0, CGroupManagerItem::Bookmark);
01041             <font class="keywordflow">else</font>
01042                 myItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(<font class="keyword">this</font>, (*it_bookmarks), (*it_modules), moduleInfo, 0, CGroupManagerItem::Bookmark);
01043         }
01044         <font class="keywordflow">else</font> {
01045             parentItem = <a class="code" href="class_c_group_manager.html#c9">findParent</a>( (*it_parents), group ? group : 0 );
01046             <font class="keywordflow">if</font> (parentItem)
01047                 myItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(parentItem, (*it_bookmarks), (*it_modules), moduleInfo,0, CGroupManagerItem::Bookmark);
01048             <font class="keywordflow">else</font> <font class="keywordflow">if</font> (group)
01049                 myItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(group, (*it_bookmarks), (*it_modules), moduleInfo,0, CGroupManagerItem::Bookmark);
01050             <font class="keywordflow">else</font>
01051                 myItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(<font class="keyword">this</font>, (*it_bookmarks), (*it_modules), moduleInfo,0, CGroupManagerItem::Bookmark);
01052         }
01053         <font class="keywordflow">if</font> (myItem &amp;&amp; it_descriptions != bookmarkDescriptionsList.end())
01054             myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a15">setDescription</a>( *it_descriptions );
01055         <font class="keywordflow">if</font> (myItem &amp;&amp; oldItem) {
01056             myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a17">moveAfter</a>(oldItem);
01057         }
01058         oldItem = myItem;
01059 
01060         ++it_parents;
01061         ++it_modules;
01062         ++it_descriptions;
01063         ++it_bookmarks;
01064     }
01065     <font class="keywordflow">return</font> <font class="keyword">true</font>;
01066 }
</pre></div>    </td>
  </tr>
</table>
<a name="c14" doxytag="CGroupManager::readSwordModules"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CGroupManager::readSwordModules </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">KConfig *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>configFile</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>group</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reads in bookmarks from config and creates them as subitems of group.
<p>
If group is 0 we create them a toplevel items. 
<p>
Definition at line <a class="el" href="cgroupmanager_8cpp-source.html#l01188">1188</a> of file <a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a>.
<p>
References <a class="el" href="cpointers_8cpp-source.html#l00027">CPointers::backend</a>(), <a class="el" href="cswordbackend_8cpp-source.html#l00219">CSwordBackend::findModuleByName</a>(), <a class="el" href="cgroupmanager_8cpp-source.html#l00963">findParent</a>(), and <a class="el" href="cgroupmanageritem_8cpp-source.html#l00273">CGroupManagerItem::moveAfter</a>().
<p>
Referenced by <a class="el" href="cgroupmanager_8cpp-source.html#l00136">setupSwordTree</a>().
<p>
<div class="fragment"><pre>01188                                                                                         {
01189     <font class="keywordflow">if</font> (!m_swordList) {
01190         qWarning(<font class="stringliteral">"CGroupManager::readSwordModules: no sword modules, return and do nothing."</font>);
01191         <font class="keywordflow">return</font> <font class="keyword">false</font>;
01192     }
01193     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* parentItem = 0;  
01194 
01195     QStringList moduleList = configFile-&gt;readListEntry(<font class="stringliteral">"Modules"</font>);
01196     QValueList&lt;int&gt; parentList = configFile-&gt;readIntListEntry(<font class="stringliteral">"Module parents"</font>);        
01197     QStringList::Iterator it_modules = moduleList.begin();
01198     QValueList&lt;int&gt;::Iterator it_parents = parentList.begin();
01199     
01200     <a class="code" href="class_c_sword_module_info.html">CSwordModuleInfo</a>* myModuleInfo = 0;
01201     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* myItem = 0;
01202     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* oldItem = 0;
01203     
01204     <font class="keywordflow">while</font> ( it_modules != moduleList.end() &amp;&amp; it_parents != parentList.end() ) {        
01205         <font class="keywordflow">if</font> ((*it_modules).isEmpty() || !( myModuleInfo = <a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;<a class="code" href="class_c_sword_backend.html#a11">findModuleByName</a>(*it_modules) )) {  <font class="comment">//the module was removed so we don't show it</font>
01206             ++it_parents;
01207             ++it_modules;
01208             <font class="keywordflow">continue</font>;
01209         }
01210             
01211         <font class="keywordflow">if</font> ( (*it_parents) == -1) { <font class="comment">//module on top</font>
01212             parentItem = group; <font class="comment">//instead of group ? group : 0;</font>
01213         }
01214         <font class="keywordflow">else</font> {
01215             parentItem = <a class="code" href="class_c_group_manager.html#c9">findParent</a>( (*it_parents), group );
01216             <font class="keywordflow">if</font> (!parentItem)
01217                 parentItem = group;
01218         }
01219 
01220         <font class="keywordflow">if</font> (parentItem) {
01221             myItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(parentItem, QString::null, QString::null, myModuleInfo,0, CGroupManagerItem::Module);
01222         }
01223         <font class="keywordflow">else</font>
01224             myItem = <font class="keyword">new</font> <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>(<font class="keyword">this</font>, QString::null, QString::null, myModuleInfo,0, CGroupManagerItem::Module);      
01225         
01226         <font class="keywordflow">if</font> (myItem &amp;&amp; oldItem)
01227             myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a17">moveAfter</a>(oldItem);
01228         
01229         oldItem = myItem;
01230             
01231         ++it_parents;
01232         ++it_modules;
01233     }   
01234     <font class="keywordflow">return</font> <font class="keyword">true</font>;
01235 };
</pre></div>    </td>
  </tr>
</table>
<a name="c15" doxytag="CGroupManager::saveGroups"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CGroupManager::saveGroups </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">KConfig *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>configFile</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>group</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>Action</em> = Normal</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Save items of group to config.
<p>
If grou is 0 we save all items. The path to the group-item itself is saved, too. 
<p>
Definition at line <a class="el" href="cgroupmanager_8cpp-source.html#l01340">1340</a> of file <a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a>.
<p>
References <a class="el" href="cgroupmanager_8cpp-source.html#l01376">isChild</a>(), <a class="el" href="cgroupmanager_8cpp-source.html#l00926">parentId</a>(), and <a class="el" href="cgroupmanageritem_8cpp-source.html#l00072">CGroupManagerItem::type</a>().
<p>
Referenced by <a class="el" href="cgroupmanager_8cpp-source.html#l00230">saveSettings</a>(), and <a class="el" href="cgroupmanager_8cpp-source.html#l01172">slotExportBookmarks</a>().
<p>
<div class="fragment"><pre>01340                                                                                                  {
01341     <font class="keywordtype">int</font> parentID = 0;
01342     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* myItem = 0;
01343     QStringList groupList;
01344     QValueList&lt;int&gt; parentList;
01345     
01346     QListViewItemIterator it;
01347     
01348     <font class="comment">//save groups   </font>
01349     <font class="keywordflow">if</font> (group &amp;&amp; group-&gt;childCount() &gt; 0)
01350         it = QListViewItemIterator ( group-&gt;firstChild() );
01351     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (group &amp;&amp; group-&gt;childCount() == 0) {
01352         <font class="keywordflow">return</font> <font class="keyword">false</font>;
01353     }
01354     <font class="keywordflow">else</font>
01355       it = QListViewItemIterator ( <font class="keyword">this</font> );
01356 
01357   <font class="keywordflow">for</font>( ; it.current(); it++ ) {
01358         myItem = (<a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>*) it.current();
01359     <font class="keywordflow">if</font> (group &amp;&amp; !<a class="code" href="class_c_group_manager.html#a8">isChild</a>(m_pressedItem, myItem))
01360             <font class="keywordflow">continue</font>;       
01361         <font class="keywordflow">if</font> (myItem &amp;&amp; myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a13">type</a>() == CGroupManagerItem::Group)  {
01362             <font class="keywordflow">if</font> (group)
01363                 parentID = <a class="code" href="class_c_group_manager.html#c8">parentId</a>( (<a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>*)it.current(), m_pressedItem );
01364             <font class="keywordflow">else</font>
01365                 parentID = <a class="code" href="class_c_group_manager.html#c8">parentId</a>( (<a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>*)it.current() );
01366             groupList.append( myItem-&gt;text(0) );
01367             parentList.append( parentID );
01368         }
01369     }
01370     configFile-&gt;writeEntry(<font class="stringliteral">"Groups"</font>, groupList);
01371     configFile-&gt;writeEntry(<font class="stringliteral">"Group parents"</font>, parentList);
01372     <font class="keywordflow">return</font> <font class="keyword">true</font>;
01373 }
</pre></div>    </td>
  </tr>
</table>
<a name="c11" doxytag="CGroupManager::saveSwordBookmarks"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CGroupManager::saveSwordBookmarks </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">KConfig *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>configFile</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>group</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>Action</em> = Normal</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Save items of group to config.
<p>
If grou is 0 we save all items. The path to the group-item itself is saved, too. 
<p>
Definition at line <a class="el" href="cgroupmanager_8cpp-source.html#l01069">1069</a> of file <a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a>.
<p>
References <a class="el" href="cgroupmanageritem_8cpp-source.html#l00112">CGroupManagerItem::description</a>(), <a class="el" href="cgroupmanageritem_8cpp-source.html#l00135">CGroupManagerItem::getBookmarkKey</a>(), <a class="el" href="cgroupmanager_8cpp-source.html#l01376">isChild</a>(), CSwordKey::key(), <a class="el" href="cgroupmanageritem_8h-source.html#l00178">CGroupManagerItem::m_moduleName</a>, <a class="el" href="cgroupmanageritem_8cpp-source.html#l00067">CGroupManagerItem::moduleInfo</a>(), <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00175">CSwordModuleInfo::name</a>, <a class="el" href="cgroupmanager_8cpp-source.html#l00926">parentId</a>(), and <a class="el" href="cgroupmanageritem_8cpp-source.html#l00072">CGroupManagerItem::type</a>().
<p>
Referenced by <a class="el" href="cgroupmanager_8cpp-source.html#l00230">saveSettings</a>(), and <a class="el" href="cgroupmanager_8cpp-source.html#l01172">slotExportBookmarks</a>().
<p>
<div class="fragment"><pre>01069                                                                                                        {
01070     <font class="keywordtype">int</font> parentID = 0;
01071     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* myItem = 0;
01072     QStringList groupList;
01073     QValueList&lt;int&gt; parentList;
01074     QStringList bookmarkList;   
01075     QStringList bookmarkModuleList; 
01076     QStringList bookmarkDescriptionList;        
01077     QListViewItemIterator it;
01078     
01079     <font class="comment">//save bookmarks</font>
01080     parentList.clear();
01081     bookmarkList.clear();
01082     bookmarkModuleList.clear();
01083     bookmarkDescriptionList.clear();
01084 
01085     <font class="keywordflow">if</font> (group)
01086         it = QListViewItemIterator ( group );
01087     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (group &amp;&amp; group-&gt;childCount() == 0) {
01088         <font class="keywordflow">return</font> <font class="keyword">false</font>;
01089     }
01090     <font class="keywordflow">else</font>
01091         it = QListViewItemIterator (<font class="keyword">this</font>);
01092 
01093   <font class="keywordflow">for</font>( ; it.current(); it++ ) {
01094         myItem = (<a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>*)it.current();
01095     <font class="keywordflow">if</font> (group)
01096         <font class="keywordflow">if</font> (!<a class="code" href="class_c_group_manager.html#a8">isChild</a>(m_pressedItem, myItem)) {
01097                 <font class="keywordflow">continue</font>;                   
01098             }
01099         <font class="keywordflow">if</font> (myItem &amp;&amp; myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a13">type</a>() == CGroupManagerItem::Bookmark)  {
01100             <font class="keywordflow">if</font> (group) {
01101                 parentID = <a class="code" href="class_c_group_manager.html#c8">parentId</a>( dynamic_cast&lt;CGroupManagerItem*&gt;(it.current()),m_pressedItem );    
01102             }
01103             <font class="keywordflow">else</font> {
01104                 parentID = <a class="code" href="class_c_group_manager.html#c8">parentId</a>( dynamic_cast&lt;CGroupManagerItem*&gt;(it.current()) );  
01105             }
01106             parentList.append( parentID );
01107 
01108             <a class="code" href="class_c_sword_key.html">CSwordKey</a>* key = myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a10">getBookmarkKey</a>();                                  
01109             <font class="keywordflow">if</font> (key)    {
01110                 VerseKey* vk = dynamic_cast&lt;VerseKey*&gt;(key);
01111                 QString oldLocale;
01112                 <font class="keywordflow">if</font> (vk) {
01113                     oldLocale = QString::fromLatin1(vk-&gt;getLocale());
01114                     vk-&gt;setLocale(<font class="stringliteral">"en"</font>); <font class="comment">//save the english key names</font>
01115                 }
01116                 bookmarkList.append( key-&gt;<a class="code" href="class_c_sword_key.html#a1">key</a>() );
01117                 <font class="keywordflow">if</font> (vk) {
01118                     vk-&gt;setLocale(oldLocale.latin1());
01119                 }
01120             }
01121             <font class="keywordflow">else</font>
01122                 bookmarkList.append(<font class="stringliteral">""</font>);    <font class="comment">//invalid key</font>
01123                 
01124             <font class="keywordflow">if</font> (myItem &amp;&amp; !myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a3">description</a>().isEmpty()) <font class="comment">//save description</font>
01125                 bookmarkDescriptionList.append( myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a3">description</a>() );
01126             <font class="keywordflow">else</font>
01127                 bookmarkDescriptionList.append( QString::null );
01128                 
01129             <font class="keywordflow">if</font> (myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a12">moduleInfo</a>()) { <font class="comment">//save the module</font>
01130                 bookmarkModuleList.append( myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a12">moduleInfo</a>()-&gt;<a class="code" href="class_c_sword_module_info.html#o2">name</a>() );
01131             }
01132             <font class="keywordflow">else</font> {
01133                 bookmarkModuleList.append( myItem-&gt;<a class="code" href="class_c_group_manager_item.html#o6">m_moduleName</a> );
01134             }
01135         }
01136     }   
01137     
01138     configFile-&gt;writeEntry(<font class="stringliteral">"Bookmarks"</font>, bookmarkList);
01139     configFile-&gt;writeEntry(<font class="stringliteral">"Bookmark descriptions"</font>, bookmarkDescriptionList);
01140     configFile-&gt;writeEntry(<font class="stringliteral">"Bookmark modules"</font>, bookmarkModuleList);
01141     configFile-&gt;writeEntry(<font class="stringliteral">"Bookmark parents"</font>, parentList);
01142     
01143     <font class="keywordflow">return</font> <font class="keyword">true</font>;
01144 }
</pre></div>    </td>
  </tr>
</table>
<a name="c13" doxytag="CGroupManager::saveSwordModules"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CGroupManager::saveSwordModules </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">KConfig *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>configFile</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="class_c_group_manager_item.html">CGroupManagerItem</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>group</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Save items of group to config.
<p>
If grou is 0 we save all items. The path to the group-item itself is saved, too. 
<p>
Definition at line <a class="el" href="cgroupmanager_8cpp-source.html#l01237">1237</a> of file <a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a>.
<p>
References <a class="el" href="cgroupmanager_8cpp-source.html#l01376">isChild</a>(), <a class="el" href="cgroupmanageritem_8cpp-source.html#l00067">CGroupManagerItem::moduleInfo</a>(), <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00175">CSwordModuleInfo::name</a>, <a class="el" href="cgroupmanager_8cpp-source.html#l00926">parentId</a>(), and <a class="el" href="cgroupmanageritem_8cpp-source.html#l00072">CGroupManagerItem::type</a>().
<p>
Referenced by <a class="el" href="cgroupmanager_8cpp-source.html#l00230">saveSettings</a>().
<p>
<div class="fragment"><pre>01237                                                                                         {
01238     <font class="keywordtype">int</font> parentID = 0;
01239     <a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>* myItem = 0;
01240     QValueList&lt;int&gt; parentList;
01241     QStringList moduleList; 
01242     
01243     QListViewItemIterator it;
01244     
01245     parentList.clear();
01246     moduleList.clear();
01247 
01248     <font class="keywordflow">if</font> (group)
01249         it = QListViewItemIterator( group );
01250     <font class="keywordflow">else</font>
01251         it = QListViewItemIterator(<font class="keyword">this</font>);
01252 
01253   <font class="keywordflow">for</font>( ; it.current(); it++ ) {
01254             myItem = (<a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>*) it.current();
01255         <font class="keywordflow">if</font> (group)
01256             <font class="keywordflow">if</font> (!<a class="code" href="class_c_group_manager.html#a8">isChild</a>(m_pressedItem, myItem))
01257                     <font class="keywordflow">continue</font>;                   
01258             
01259             <font class="keywordflow">if</font> (myItem &amp;&amp; myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a13">type</a>() == CGroupManagerItem::Module)  {
01260                 <font class="keywordflow">if</font> (group)
01261                     parentID = <a class="code" href="class_c_group_manager.html#c8">parentId</a>( (<a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>*)it.current(),m_pressedItem );  
01262                 <font class="keywordflow">else</font>
01263                     parentID = <a class="code" href="class_c_group_manager.html#c8">parentId</a>( (<a class="code" href="class_c_group_manager_item.html">CGroupManagerItem</a>*)it.current() );    
01264                 parentList.append( parentID );
01265                 
01266                 <font class="keywordflow">if</font> (myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a12">moduleInfo</a>())
01267                     moduleList.append( myItem-&gt;<a class="code" href="class_c_group_manager_item.html#a12">moduleInfo</a>()-&gt;<a class="code" href="class_c_sword_module_info.html#o2">name</a>() );              
01268                 <font class="keywordflow">else</font> {
01269                     moduleList.append( myItem-&gt;text(0) );   <font class="comment">//first column is the modulename</font>
01270                 }
01271             }
01272     }   
01273     configFile-&gt;writeEntry(<font class="stringliteral">"Modules"</font>, moduleList);
01274     configFile-&gt;writeEntry(<font class="stringliteral">"Module parents"</font>, parentList);
01275 
01276     <font class="keywordflow">return</font> <font class="keyword">true</font>;
01277 }
</pre></div>    </td>
  </tr>
</table>
<a name="g1" doxytag="CGroupManager::slotReset"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CGroupManager::slotReset </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [slot]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Resets the groupmanager.
<p>
Recreates the original Bibles, Lexicons and Commentary groups. 
<p>
Definition at line <a class="el" href="cgroupmanager_8cpp-source.html#l01517">1517</a> of file <a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a>.
<p>
References <a class="el" href="cgroupmanager_8cpp-source.html#l00146">setupStandardSwordTree</a>().
<p>
<div class="fragment"><pre>01517                              {
01518     <font class="keywordtype">int</font> result = 0;
01519     <font class="keywordflow">if</font> (m_showHelpDialogs)
01520         result = KMessageBox:: warningContinueCancel( <font class="keyword">this</font>, i18n(<font class="stringliteral">"&lt;qt&gt;This function will reset the main index!&lt;BR&gt;This will recreate the original groups and delete all other items!&lt;BR&gt;Be sure no important bookmarks will be deleted!&lt;BR&gt;Do you want to continue?&lt;/qt&gt;"</font>), i18n(<font class="stringliteral">"BibleTime - Reset main index"</font>), i18n(<font class="stringliteral">"Continue"</font>));
01521     <font class="keywordflow">else</font>
01522         result = KMessageBox::Continue;
01523         
01524     <font class="keywordflow">if</font> (result == KMessageBox::Continue) {
01525         clear();
01526         <a class="code" href="class_c_group_manager.html#a3">setupStandardSwordTree</a>();
01527     }
01528 }
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="cgroupmanager_8h-source.html">cgroupmanager.h</a><li><a class="el" href="cgroupmanager_8cpp-source.html">cgroupmanager.cpp</a></ul>
<hr><address align="right"><small>Generated on Sun May 12 20:27:16 2002 for BibleTime by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>
