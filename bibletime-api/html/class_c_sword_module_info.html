<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CSwordModuleInfo class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>CSwordModuleInfo  Class Reference</h1>Base class for Sword modules. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="cswordmoduleinfo_8h-source.html">cswordmoduleinfo.h</a>&gt;</code>
<p>
Inheritance diagram for CSwordModuleInfo:<p><center><img src="class_c_sword_module_info__inherit__graph.png" border="0" usemap="#_c_sword_module_info__inherit__map" alt="Inheritance graph"></center>
<map name="_c_sword_module_info__inherit__map">
<area href="class_c_sword_bible_module_info.html" shape="rect" coords="20,144,169,163" alt="">
<area href="class_c_sword_book_module_info.html" shape="rect" coords="193,144,343,163" alt="">
<area href="class_c_sword_lexicon_module_info.html" shape="rect" coords="367,144,529,163" alt="">
<area href="class_c_pointers.html" shape="rect" coords="235,11,301,29" alt="">
<area href="class_c_sword_commentary_module_info.html" shape="rect" coords="0,211,189,229" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for CSwordModuleInfo:<p><center><img src="class_c_sword_module_info__coll__graph.png" border="0" usemap="#_c_sword_module_info__coll__map" alt="Collaboration graph"></center>
<map name="_c_sword_module_info__coll__map">
<area href="class_c_pointers.html" shape="rect" coords="27,11,93,30" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="class_c_sword_module_info-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>ModuleType</b> { <br>
&nbsp;&nbsp;<b>Bible</b>, 
<b>Commentary</b>, 
<b>Lexicon</b>, 
<b>GenericBook</b>, 
<br>
&nbsp;&nbsp;<b>Unknown</b>
<br>
 }</td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#s24">UnlockErrorCode</a> { <b>noError</b>, 
<b>wrongUnlockKey</b>, 
<b>notLocked</b>, 
<b>noPermission</b>
 }</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This enum is used to give back an error code after unlocking the module.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>ConfigEntry</b> { <br>
&nbsp;&nbsp;<b>AboutInformation</b>, 
<b>AbsoluteDataPath</b>, 
<b>CipherKey</b>, 
<b>DataPath</b>, 
<br>
&nbsp;&nbsp;<b>Description</b>, 
<b>ModuleVersion</b>, 
<b>MinimumSwordVersion</b>
<br>
 }</td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>Feature</b> { <br>
&nbsp;&nbsp;<b>StrongsNumbers</b>, 
<b>GreekDef</b>, 
<b>HebrewDef</b>, 
<b>GreekParse</b>, 
<br>
&nbsp;&nbsp;<b>HebrewParse</b>, 
<b>DailyDevotion</b>, 
<b>Glossary</b>
<br>
 }</td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="CSwordModuleInfo::config"></a>
const QString&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a0">config</a> (const ConfigEntry)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the config entry which is pecified by the parameter.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a1" doxytag="CSwordModuleInfo::CSwordModuleInfo"></a>
&nbsp;</td><td valign=bottom><b>CSwordModuleInfo</b> (SWModule *module)</td></tr>
<tr><td nowrap align=right valign=top><a name="a2" doxytag="CSwordModuleInfo::CSwordModuleInfo"></a>
&nbsp;</td><td valign=bottom><b>CSwordModuleInfo</b> (const CSwordModuleInfo &amp;m)</td></tr>
<tr><td nowrap align=right valign=top><a name="a3" doxytag="CSwordModuleInfo::clone"></a>
virtual CSwordModuleInfo *&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a3">clone</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>No descriptions.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a4" doxytag="CSwordModuleInfo::~CSwordModuleInfo"></a>
virtual&nbsp;</td><td valign=bottom><b>~CSwordModuleInfo</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a5" doxytag="CSwordModuleInfo::module"></a>
SWModule *const&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a5">module</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the module object so all objects can access the original Sword module.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const <a class="el" href="class_c_sword_module_info.html#s24">CSwordModuleInfo::UnlockErrorCode</a>&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a6">unlock</a> (const QString &amp;unlockKey)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Sets the unlock key of the modules and writes the key into the cofig file.</em> <a href="#a6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_c_h_t_m_l_entry_display.html">CHTMLEntryDisplay</a> *&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a7">getDisplay</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the display object for this module.</em> <a href="#a7">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a8" doxytag="CSwordModuleInfo::isEncrypted"></a>
const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a8">isEncrypted</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This function does return true if the data files of the module are encrypted by the module author (the on who made the module) no matter if it's locked or not.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a9" doxytag="CSwordModuleInfo::isLocked"></a>
const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a9">isLocked</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This function returns true if this module is locked (encrypted + correct cipher key), otherwise return false.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a10">hasVersion</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>If we have the CipherKey entry the module is encrypted but not necessary locked.</em> <a href="#a10">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a11">search</a> (const QString searchedText, const int searchOptions, ListKey scope, void(*percent)(char, void *))</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns true if something was found, otherwise return false.</em> <a href="#a11">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual ListKey &amp;&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a12">searchResult</a> (const ListKey *newResult=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the last search result for this module.</em> <a href="#a12">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a13" doxytag="CSwordModuleInfo::interruptSearch"></a>
virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a13">interruptSearch</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This interupts the search if this module is being searched.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a14">clearSearchResult</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Clears the last search result.</em> <a href="#a14">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a15" doxytag="CSwordModuleInfo::type"></a>
virtual const CSwordModuleInfo::ModuleType&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a15">type</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the type of the module.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const SWVersion&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a16">minimumSwordVersion</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the required Sword version for this module.</em> <a href="#a16">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a17" doxytag="CSwordModuleInfo::name"></a>
const QString&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a17">name</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the name of the module.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a18">isUnicode</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns true if this module is Unicode encoded.</em> <a href="#a18">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a19" doxytag="CSwordModuleInfo::snap"></a>
virtual const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a19">snap</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Snaps to the closest entry in the module if the current key is not present in the data files.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a20" doxytag="CSwordModuleInfo::has"></a>
const bool&nbsp;</td><td valign=bottom><a class="el" href="class_c_sword_module_info.html#a20">has</a> (const CSwordModuleInfo::Feature)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns true if the module supports the feature given as parameter.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a21" doxytag="CSwordModuleInfo::has"></a>
const bool&nbsp;</td><td valign=bottom><b>has</b> (const <a class="el" href="class_c_sword_backend.html#s16">CSwordBackend::FilterOptions</a> option)</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="o0" doxytag="CSwordModuleInfo::m_module"></a>
SWModule *&nbsp;</td><td valign=bottom><b>m_module</b></td></tr>
<tr><td nowrap align=right valign=top><a name="o1" doxytag="CSwordModuleInfo::m_searchResult"></a>
ListKey&nbsp;</td><td valign=bottom><b>m_searchResult</b></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for Sword modules.
<p>
This is the base class for all Sword modules. Every class handling a special Sword module type does inherit from this class.
<p>
<dl compact><dt><b>
Author: </b><dd>
The <a class="el" href="class_bible_time.html">BibleTime</a> team </dl><dl compact><dt><b>
Version: </b><dd>
</dl><dl compact><dt><b>
Id: </b><dd>
 cswordmoduleinfo.h,v 1.18 2002/03/09 21:12:57 mgruner Exp </dl> 
<p>

<p>
Definition at line <a class="el" href="cswordmoduleinfo_8h-source.html#l00048">48</a> of file <a class="el" href="cswordmoduleinfo_8h-source.html">cswordmoduleinfo.h</a>.<hr><h2>Member Function Documentation</h2>
<a name="a14" doxytag="CSwordModuleInfo::clearSearchResult"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CSwordModuleInfo::clearSearchResult </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clears the last search result.
<p>
This does immediately clean the last search result, no matter if search is in progress or not. 
<p>
Definition at line <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00160">160</a> of file <a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a>.
<p>
<div class="fragment"><pre>00160                                         {
00161     m_searchResult.ClearList();
00162 }
</pre></div>    </td>
  </tr>
</table>
<a name="a7" doxytag="CSwordModuleInfo::getDisplay"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="class_c_h_t_m_l_entry_display.html">CHTMLEntryDisplay</a> * CSwordModuleInfo::getDisplay </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the display object for this module.
<p>
Normally every module should have a Display object. Please don't use <a class="el" href="class_c_sword_module_info.html#a5">module</a>()-&gt;Display() because this function does return the Sword display and does render the text, too. This function performs some casts to return the correct display. If it returns 0 there's no valid display object. 
<p>
Definition at line <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00085">85</a> of file <a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a>.
<p>
<div class="fragment"><pre>00085                                                       {
00086     <font class="keywordflow">return</font> dynamic_cast&lt;CHTMLEntryDisplay*&gt;(m_module-&gt;Disp());
00087 }
</pre></div>    </td>
  </tr>
</table>
<a name="a10" doxytag="CSwordModuleInfo::hasVersion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CSwordModuleInfo::hasVersion </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If we have the CipherKey entry the module is encrypted but not necessary locked.
<p>
<dl compact><dt><b>
Returns: </b><dd>
true if this module has a version number and false if it doesn't have one. </dl>
<p>
Definition at line <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00109">109</a> of file <a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a>.
<p>
References <a class="el" href="cpointers_8cpp-source.html#l00027">CPointers::backend</a>, <a class="el" href="cswordbackend_8h-source.html#l00211">CSwordBackend::getConfig</a>, and <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00175">name</a>.
<p>
Referenced by <a class="el" href="cgroupmanageritem_8cpp-source.html#l00207">CGroupManagerItem::getToolTip</a>.
<p>
<div class="fragment"><pre>00109                                               {
00110     <font class="keyword">const</font> string version = (*<a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;<a class="code" href="class_c_sword_backend.html#a13">getConfig</a>())[<a class="code" href="class_c_sword_module_info.html#a17">name</a>().latin1()][<font class="stringliteral">"Version"</font>];
00111     <font class="keywordflow">return</font> version.length();
00112 }
</pre></div>    </td>
  </tr>
</table>
<a name="a18" doxytag="CSwordModuleInfo::isUnicode"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CSwordModuleInfo::isUnicode </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns true if this module is Unicode encoded.
<p>
False if the charset is iso8859-1. 
<p>
Definition at line <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00180">180</a> of file <a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a>.
<p>
References <a class="el" href="cswordmoduleinfo_8h-source.html#l00186">module</a>.
<p>
Referenced by <a class="el" href="chtmlentrydisplay_8cpp-source.html#l00057">CHTMLEntryDisplay::Display</a>, <a class="el" href="chtmlchapterdisplay_8cpp-source.html#l00032">CHTMLChapterDisplay::Display</a>, <a class="el" href="cprintitem_8cpp-source.html#l00162">CPrintItem::draw</a>, <a class="el" href="cgroupmanageritem_8cpp-source.html#l00207">CGroupManagerItem::getToolTip</a>, and <a class="el" href="cgroupmanager_8cpp-source.html#l00069">CGroupManager::ToolTip::maybeTip</a>.
<p>
<div class="fragment"><pre>00180                                       {
00181     <font class="keywordflow">return</font> (<a class="code" href="class_c_sword_module_info.html#a5">module</a>()-&gt;isUnicode());
00182 }
</pre></div>    </td>
  </tr>
</table>
<a name="a16" doxytag="CSwordModuleInfo::minimumSwordVersion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const SWVersion CSwordModuleInfo::minimumSwordVersion </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the required Sword version for this module.
<p>
Returns -1 if no special Sword version is required. 
<p>
Definition at line <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00170">170</a> of file <a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a>.
<p>
References <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00184">config</a>.
<p>
<div class="fragment"><pre>00170                                                      {
00171     <font class="keywordflow">return</font> SWVersion( <a class="code" href="class_c_sword_module_info.html#a0">config</a>(CSwordModuleInfo::MinimumSwordVersion).latin1() );
00172 }
</pre></div>    </td>
  </tr>
</table>
<a name="a11" doxytag="CSwordModuleInfo::search"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const bool CSwordModuleInfo::search </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QString&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>searchedText</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>searchOptions</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>ListKey&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>scope</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void(*&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>percent</em>)(char, void *)</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns true if something was found, otherwise return false.
<p>
This function does start the Sword functions to search in the module and it does overwrite the variable containing the last search result. 
<p>
Definition at line <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00116">116</a> of file <a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a>.
<p>
References <a class="el" href="cswordkey_8cpp-source.html#l00067">CSwordKey::createInstance</a>, and <a class="el" href="cswordmoduleinfo_8h-source.html#l00182">type</a>.
<p>
<div class="fragment"><pre>00116                                                                                                                                             {
00117     <font class="keywordtype">int</font> searchType = 0;
00118     <font class="keywordtype">int</font> searchFlags = REG_ICASE;
00119     
00120     <font class="comment">//work around Swords thread insafety for Bibles and Commentaries</font>
00121     <a class="code" href="class_c_sword_key.html">CSwordKey</a>* key = <a class="code" href="class_c_sword_key.html#d0">CSwordKey::createInstance</a>(<font class="keyword">this</font>);
00122     SWKey* s = dynamic_cast&lt;SWKey*&gt;(key);
00123     m_module-&gt;SetKey(s);
00124     <font class="keyword">delete</font> key;
00125     
00126     <font class="comment">//setup variables required for Sword</font>
00127     <font class="keywordflow">if</font> (searchOptions &amp; CSwordModuleSearch::caseSensitive)
00128         searchFlags = 0;
00129 
00130     <font class="keywordflow">if</font> (searchOptions &amp; CSwordModuleSearch::exactPhrase)
00131         searchType = -1; <font class="comment">//exact phrase</font>
00132     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (searchOptions &amp; CSwordModuleSearch::multipleWords)
00133         searchType = -2; <font class="comment">//multiple words</font>
00134     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (searchOptions &amp; CSwordModuleSearch::regExp)
00135         searchType = 0; <font class="comment">//regexp matching</font>
00136         
00137     SWKey* searchScope = 0;
00138     <font class="keywordflow">if</font> ((searchOptions &amp; CSwordModuleSearch::useLastResult) &amp;&amp; m_searchResult.Count()) {
00139         searchScope = m_searchResult.clone();
00140         m_searchResult = m_module-&gt;Search(searchedText.utf8(), searchType, searchFlags, searchScope, 0, percentUpdate);
00141         <font class="keyword">delete</font> searchScope;
00142     }
00143     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (searchOptions &amp; CSwordModuleSearch::useScope) {
00144         searchScope = &amp;scope;       
00145         m_searchResult = m_module-&gt;Search(searchedText.utf8(), searchType, searchFlags, (<a class="code" href="class_c_sword_module_info.html#a15">type</a>() != Lexicon) ? searchScope : 0, 0, percentUpdate);
00146     }
00147   <font class="keywordflow">else</font>
00148     m_searchResult = m_module-&gt;Search(searchedText.utf8(), searchType, searchFlags, 0, 0, percentUpdate);
00149     <font class="keywordflow">return</font> (m_searchResult.Count()&gt;0);
00150 }
</pre></div>    </td>
  </tr>
</table>
<a name="a12" doxytag="CSwordModuleInfo::searchResult"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ListKey &amp; CSwordModuleInfo::searchResult </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const ListKey *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>newResult</em> = 0          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the last search result for this module.
<p>
The last result is cleared by <a class="el" href="class_c_sword_module_info.html#a11">search</a> 
<p>
Definition at line <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00153">153</a> of file <a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a>.
<p>
Referenced by <a class="el" href="csearchdialoganalysis_8cpp-source.html#l00218">CSearchDialogAnalysis::getCount</a>.
<p>
<div class="fragment"><pre>00153                                                                 {
00154     <font class="keywordflow">if</font> (newResult)
00155         m_searchResult.copyFrom( *newResult );  
00156     <font class="keywordflow">return</font> m_searchResult;
00157 }
</pre></div>    </td>
  </tr>
</table>
<a name="a6" doxytag="CSwordModuleInfo::unlock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="el" href="class_c_sword_module_info.html#s24">CSwordModuleInfo::UnlockErrorCode</a> CSwordModuleInfo::unlock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QString &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>unlockKey</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the unlock key of the modules and writes the key into the cofig file.
<p>
<dl compact><dt><b>
Returns: </b><dd>
True if the unlock process was succesful, if the key was wrong, or if the config file was write protected return false. </dl>
<p>
Definition at line <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00069">69</a> of file <a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a>.
<p>
References <a class="el" href="cpointers_8cpp-source.html#l00027">CPointers::backend</a>, <a class="el" href="cswordbackend_8h-source.html#l00211">CSwordBackend::getConfig</a>, <a class="el" href="cswordbackend_8cpp-source.html#l00314">CSwordBackend::moduleConfig</a>, <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00175">name</a>, and <a class="el" href="cswordmoduleinfo_8h-source.html#l00061">UnlockErrorCode</a>.
<p>
<div class="fragment"><pre>00069                                                                                         {
00070     <a class="code" href="class_c_sword_module_info.html#s24">CSwordModuleInfo::UnlockErrorCode</a>   ret = CSwordModuleInfo::noError;
00071     SWConfig moduleConfig(<font class="stringliteral">""</font>);
00072     <font class="keywordflow">if</font> ( <a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;<a class="code" href="class_c_sword_backend.html#a14">moduleConfig</a>(<a class="code" href="class_c_sword_module_info.html#a17">name</a>(), moduleConfig) ) {
00073         moduleConfig[<a class="code" href="class_c_sword_module_info.html#a17">name</a>().latin1()][<font class="stringliteral">"CipherKey"</font>] = unlockKey.local8Bit(); 
00074         <a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;setCipherKey(<a class="code" href="class_c_sword_module_info.html#a17">name</a>().latin1(), unlockKey.local8Bit());    
00075         (*<a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;<a class="code" href="class_c_sword_backend.html#a13">getConfig</a>()) += moduleConfig;
00076         (*<a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;<a class="code" href="class_c_sword_backend.html#a13">getConfig</a>())[<a class="code" href="class_c_sword_module_info.html#a17">name</a>().latin1()][<font class="stringliteral">"CipherKey"</font>] = moduleConfig[<a class="code" href="class_c_sword_module_info.html#a17">name</a>().latin1()][<font class="stringliteral">"CipherKey"</font>];
00077         moduleConfig.Save();
00078     }   
00079     <font class="keywordflow">else</font>
00080         ret = CSwordModuleInfo::wrongUnlockKey;
00081     <font class="keywordflow">return</font> ret;
00082 }
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="cswordmoduleinfo_8h-source.html">cswordmoduleinfo.h</a><li><a class="el" href="cswordmoduleinfo_8cpp-source.html">cswordmoduleinfo.cpp</a></ul>
<hr><address><small>Generated on Sun Mar 10 22:12:55 2002 for BibleTime by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
