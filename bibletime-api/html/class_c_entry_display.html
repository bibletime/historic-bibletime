<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CEntryDisplay class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.15 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>CEntryDisplay  Class Reference</h1>The reimplementation of SWDisplay to fir our needs. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="centrydisplay_8h-source.html">centrydisplay.h</a>&gt;</code>
<p>
Inheritance diagram for CEntryDisplay:<p><center><img src="class_c_entry_display__inherit__graph.png" border="0" usemap="#_c_entry_display__inherit__map" alt="Inheritance graph"></center>
<map name="_c_entry_display__inherit__map">
<area href="class_c_pointers.html" shape="rect" coords="26,15,95,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for CEntryDisplay:<p><center><img src="class_c_entry_display__coll__graph.png" border="0" usemap="#_c_entry_display__coll__map" alt="Collaboration graph"></center>
<map name="_c_entry_display__coll__map">
<area href="class_c_pointers.html" shape="rect" coords="26,15,95,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="class_c_entry_display-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="CEntryDisplay::CEntryDisplay"></a>
&nbsp;</td><td valign=bottom><b>CEntryDisplay</b> ()</td></tr>
<tr><td nowrap align=right valign=top><a name="a1" doxytag="CEntryDisplay::~CEntryDisplay"></a>
virtual&nbsp;</td><td valign=bottom><b>~CEntryDisplay</b> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual const QString&nbsp;</td><td valign=bottom><a class="el" href="class_c_entry_display.html#a2">text</a> (QPtrList&lt; <a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> &gt; modules, const QString &amp;key, CSwordBackend::DisplayOptionsBool displayOptions, CSwordBackend::FilterOptionsBool filterOptions)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the rendered text using the modules in the list and using the key parameter.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual const QString&nbsp;</td><td valign=bottom><a class="el" href="class_c_entry_display.html#a3">previewText</a> (<a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> *module, const QString &amp;key, const QString &amp;headerText=QString::null, CSwordBackend::DisplayOptionsBool displayOptions=CBTConfig::getDisplayOptionDefaults(), CSwordBackend::FilterOptionsBool filterOptions=CBTConfig::getFilterOptionDefaults())</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns a preview for the given module and key.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a4" doxytag="CEntryDisplay::setDisplayOptions"></a>
void&nbsp;</td><td valign=bottom><b>setDisplayOptions</b> (const CSwordBackend::DisplayOptionsBool options)</td></tr>
<tr><td colspan=2><br><h2>Protected Types</h2></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>StyleType</b> { <br>
&nbsp;&nbsp;<b>Body</b> =  0, 
<b>Link</b>, 
<b>LinkHover</b>, 
<b>Background</b>, 
<br>
&nbsp;&nbsp;<b>HighlightedText</b>, 
<b>UnicodeText</b>, 
<b>Reference</b>, 
<b>MorphCode</b>, 
<br>
&nbsp;&nbsp;<b>StrongNumber</b>, 
<b>Lemma</b>, 
<b>Footnote</b>, 
<b>FootnotePre</b>, 
<br>
&nbsp;&nbsp;<b>Poetry</b>, 
<b>Quotation</b>, 
<b>JesusWords</b>, 
<b>BookTitle</b>, 
<br>
&nbsp;&nbsp;<b>SectionTitle</b>, 
<b>MinType</b> =  Body, 
<b>MaxType</b> =  SectionTitle
<br>
 }</td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>FontType</b> { <b>UnicodeFont</b>, 
<b>StandardFont</b>
 }</td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><b>ColorType</b> { <br>
&nbsp;&nbsp;<b>ReferenceColor</b>, 
<b>TextColor</b>, 
<b>HighlightedTextColor</b>, 
<b>BackgroundColor</b>, 
<br>
&nbsp;&nbsp;<b>BackgroundColor2</b>, 
<b>FootnoteColor</b>, 
<b>StrongsNumberColor</b>, 
<b>MorphCodeColor</b>, 
<br>
&nbsp;&nbsp;<b>LemmaColor</b>, 
<b>JesusWordColor</b>
<br>
 }</td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="b0" doxytag="CEntryDisplay::font"></a>
const QFont&nbsp;</td><td valign=bottom><a class="el" href="class_c_entry_display.html#b0">font</a> (const CEntryDisplay::FontType type)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the font of the given type.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="b1" doxytag="CEntryDisplay::color"></a>
const QColor&nbsp;</td><td valign=bottom><a class="el" href="class_c_entry_display.html#b1">color</a> (const CEntryDisplay::ColorType type)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the color of the given type.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual const QString&nbsp;</td><td valign=bottom><a class="el" href="class_c_entry_display.html#b2">entryText</a> (QPtrList&lt; <a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> &gt; modules, const QString &amp;key)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Renders one entry using the given modules and the key.</em> <a href="#b2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="b3" doxytag="CEntryDisplay::finishText"></a>
virtual const QString&nbsp;</td><td valign=bottom><a class="el" href="class_c_entry_display.html#b3">finishText</a> (const QString text, QPtrList&lt; <a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> &gt; modules, const QString &amp;keyName)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Adds the right headers and footers to the page and returns them together.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="b4" doxytag="CEntryDisplay::htmlReference"></a>
const QString&nbsp;</td><td valign=bottom><a class="el" href="class_c_entry_display.html#b4">htmlReference</a> (<a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> *module, const QString &amp;keyName, const QString linkText, const QString &amp;anchorText)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the right reference text which can be incluced in the HTML.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="b5" doxytag="CEntryDisplay::cssString"></a>
const QString&nbsp;</td><td valign=bottom><b>cssString</b> (const CEntryDisplay::StyleType type)</td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="n0" doxytag="CEntryDisplay::m_displayOptions"></a>
CSwordBackend::DisplayOptionsBool&nbsp;</td><td valign=bottom><b>m_displayOptions</b></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The reimplementation of SWDisplay to fir our needs.
<p>
<dl compact><dt><b>
Author: </b><dd>
The <a class="el" href="class_bible_time.html">BibleTime</a> team </dl>
<p>

<p>
Definition at line <a class="el" href="centrydisplay_8h-source.html#l00042">42</a> of file <a class="el" href="centrydisplay_8h-source.html">centrydisplay.h</a>.<hr><h2>Member Function Documentation</h2>
<a name="b2" doxytag="CEntryDisplay::entryText"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const QString CEntryDisplay::entryText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QPtrList&lt; <a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> &gt;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>modules</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>key</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Renders one entry using the given modules and the key.
<p>
This makes chapter rendering more easy. 
<p>
Definition at line <a class="el" href="centrydisplay_8cpp-source.html#l00071">71</a> of file <a class="el" href="centrydisplay_8cpp-source.html">centrydisplay.cpp</a>.
<p>
References <a class="el" href="cswordkey_8cpp-source.html#l00071">CSwordKey::createInstance</a>(), and <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00180">CSwordModuleInfo::isUnicode</a>.
<p>
Referenced by <a class="el" href="centrydisplay_8cpp-source.html#l00039">text</a>().
<p>
<div class="fragment"><pre>00071                                                                                                  {
00072     Q_ASSERT(modules.first());
00073   <a class="code" href="structutil_1_1scoped__ptr.html">util::scoped_ptr&lt;CSwordKey&gt;</a> key( <a class="code" href="class_c_sword_key.html#d0">CSwordKey::createInstance</a>(modules.first()) );
00074   key-&gt;key(keyName);
00075   QString renderedText = QString::null;
00076 
00077   renderedText = QString::fromLatin1(<font class="stringliteral">"&lt;TR valign=\"top\"&gt;"</font>);
00078   <font class="keywordflow">for</font> (<a class="code" href="class_c_sword_module_info.html">CSwordModuleInfo</a>* m = modules.first(); m; m = modules.next()) {
00079     <font class="keyword">const</font> QString tdStyle = QString::fromLatin1(<font class="stringliteral">"style=\"%1 %2\""</font>)
00080       .arg((modules.at()+1 &lt; modules.count()) ? QString::fromLatin1(<font class="stringliteral">"padding-right: 2mm; border-right:thin solid black;"</font>) : QString::null)
00081       .arg((modules.at()&gt;0 &amp;&amp; modules.at()+1 &lt;= modules.count()) ? QString::fromLatin1("padding-left:2mm;<font class="stringliteral">") : QString::null);</font>
00082 <font class="stringliteral"></font>
00083 <font class="stringliteral">    key-&gt;module(m);</font>
00084 <font class="stringliteral">    key-&gt;key(keyName);</font>
00085 <font class="stringliteral">    renderedText += QString::fromLatin1("</font>&lt;TD %1 valign=\<font class="stringliteral">"top\"&gt;&lt;SPAN %2&gt;%3&lt;/SPAN&gt;&lt;/TD&gt;"</font>)
00086                       .arg(tdStyle.latin1())
00087                       .arg(m-&gt;<a class="code" href="class_c_sword_module_info.html#o3">isUnicode</a>() ? <font class="stringliteral">"class=\"unicodetext\""</font> : <font class="stringliteral">""</font>)
00088                       .arg(key-&gt;renderedText());
00089   }
00090   renderedText += QString::fromLatin1(<font class="stringliteral">"&lt;/TR&gt;"</font>);
00091   <font class="keywordflow">return</font> renderedText;
00092 }
</pre></div>    </td>
  </tr>
</table>
<a name="a3" doxytag="CEntryDisplay::previewText"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const QString CEntryDisplay::previewText </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>module</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>key</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>headerText</em> = QString::null, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>CSwordBackend::DisplayOptionsBool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>displayOptions</em> = CBTConfig::getDisplayOptionDefaults(), </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>CSwordBackend::FilterOptionsBool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filterOptions</em> = CBTConfig::getFilterOptionDefaults()</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a preview for the given module and key.
<p>
This is useful for the seatchdialog and perhaps the tooltips. 
<p>
Definition at line <a class="el" href="centrydisplay_8cpp-source.html#l00048">48</a> of file <a class="el" href="centrydisplay_8cpp-source.html">centrydisplay.cpp</a>.
<p>
References <a class="el" href="cswordkey_8cpp-source.html#l00071">CSwordKey::createInstance</a>(), <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00180">CSwordModuleInfo::isUnicode</a>, <a class="el" href="centrydisplay_8cpp-source.html#l00039">text</a>(), and <a class="el" href="cswordmoduleinfo_8cpp-source.html#l00264">CSwordModuleInfo::textDirection</a>().
<p>
<div class="fragment"><pre>00048                                                                                                                                                                                                                    {
00049   <a class="code" href="structutil_1_1scoped__ptr.html">util::scoped_ptr&lt;CSwordKey&gt;</a> key( <a class="code" href="class_c_sword_key.html#d0">CSwordKey::createInstance</a>(module) );
00050   key-&gt;key(keyName);
00051 
00052   QString css = QString::null;
00053   <font class="keywordflow">for</font> (<font class="keywordtype">int</font> t = MinType; t &lt;= MaxType; ++t) {
00054     css += <font class="stringliteral">"\t"</font> + cssString( static_cast&lt;CEntryDisplay::StyleType&gt;(t) ) + <font class="stringliteral">"\n\n"</font>;
00055   }
00056 
00057   <font class="keyword">const</font> QString pageStart = QString::fromLatin1(<font class="stringliteral">"&lt;HTML&gt;&lt;HEAD&gt;&lt;STYLE type=\"text/css\"&gt;%1&lt;/STYLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;%2&lt;HR&gt;"</font>)
00058     .arg(css)
00059     .arg(headerText);
00060 
00061   <font class="keyword">const</font> QString <a class="code" href="class_c_entry_display.html#a2">text</a> = QString::fromLatin1(<font class="stringliteral">"&lt;DIV %1 %2&gt;%3&lt;/DIV&gt;"</font>)
00062     .arg(module-&gt;<a class="code" href="class_c_sword_module_info.html#a22">textDirection</a>() == CSwordModuleInfo::RightToLeft ? QString::fromLatin1(<font class="stringliteral">"dir=\"rtl\""</font>) : QString::null)
00063     .arg(module-&gt;isUnicode() ? QString::fromLatin1("class=\"unicodetext\"") : QString::null)
00064     .arg(key-&gt;renderedText());
00065 
00066   <font class="keyword">const</font> QString pageEnd = QString::fromLatin1(<font class="stringliteral">"&lt;/BODY&gt;&lt;/HTML&gt;"</font>);
00067   <font class="keywordflow">return</font> pageStart + <a class="code" href="class_c_entry_display.html#a2">text</a> + pageEnd;
00068 }
</pre></div>    </td>
  </tr>
</table>
<a name="a2" doxytag="CEntryDisplay::text"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const QString CEntryDisplay::text </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">QPtrList&lt; <a class="el" href="class_c_sword_module_info.html">CSwordModuleInfo</a> &gt;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>modules</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const QString &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>key</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>CSwordBackend::DisplayOptionsBool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>displayOptions</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>CSwordBackend::FilterOptionsBool&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filterOptions</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the rendered text using the modules in the list and using the key parameter.
<p>
The displayoptions and filter options are used, too. 
<p>
Definition at line <a class="el" href="centrydisplay_8cpp-source.html#l00039">39</a> of file <a class="el" href="centrydisplay_8cpp-source.html">centrydisplay.cpp</a>.
<p>
References <a class="el" href="cpointers_8cpp-source.html#l00027">CPointers::backend</a>(), <a class="el" href="centrydisplay_8cpp-source.html#l00071">entryText</a>(), <a class="el" href="centrydisplay_8cpp-source.html#l00135">finishText</a>(), <a class="el" href="cswordbackend_8cpp-source.html#l00197">CSwordBackend::setDisplayOptions</a>(), and <a class="el" href="cswordbackend_8cpp-source.html#l00184">CSwordBackend::setFilterOptions</a>().
<p>
Referenced by <a class="el" href="centrydisplay_8cpp-source.html#l00135">finishText</a>(), <a class="el" href="creadwindow_8cpp-source.html#l00069">CReadWindow::lookup</a>(), and <a class="el" href="centrydisplay_8cpp-source.html#l00048">previewText</a>().
<p>
<div class="fragment"><pre>00039                                                                                                                                                                                             {
00040   <a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;<a class="code" href="class_c_sword_backend.html#a7">setDisplayOptions</a>( displayOptions );
00041   <a class="code" href="class_c_pointers.html#d1">backend</a>()-&gt;<a class="code" href="class_c_sword_backend.html#a6">setFilterOptions</a>( filterOptions );
00042 
00043   <font class="keyword">const</font> QString entry = <a class="code" href="class_c_entry_display.html#b2">entryText</a>(modules, keyName);
00044   <font class="keywordflow">return</font> <a class="code" href="class_c_entry_display.html#b3">finishText</a>( entry, modules, keyName );
00045 }
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="centrydisplay_8h-source.html">centrydisplay.h</a><li><a class="el" href="centrydisplay_8cpp-source.html">centrydisplay.cpp</a></ul>
<hr><address align="right"><small>Generated on Tue Jul 16 13:53:12 2002 for BibleTime by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.15 </small></address>
</body>
</html>
