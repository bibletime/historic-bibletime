<html>
<head>
<title>Chapter 3. Installing BibleTime Sources</title>
<link rel="stylesheet" href="common/kde-default.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.40">
<meta name="keywords" content="KDE, bibletime, BibleTime, sword, crosswire, help dialog">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
<meta name="GENERATOR" content="KDE XSL Stylesheet V1.12 using libxslt">
<link rel="home" href="index.html" title="BibleTime Installation Guide">
<link rel="up" href="index.html" title="BibleTime Installation Guide">
<link rel="previous" href="inst-preq.html" title="Chapter 2. BibleTime Prerequisites
">
<link rel="next" href="inst-user.html" title="Chapter 4. Installation of BibleTime">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div id="headline" style="position : absolute;                 height : 85px;                 z-index : 100;                 background : transparent;                 text-align : center;   text-transform: smallcaps;                 width : 100%;                 top : 0px;                 left : 0px;                 width : 100%;                 color : #000000;"><h1>Installing BibleTime Sources</h1></div>
<div id="navbackground" style="position : absolute;   width : 100%;   height : 124px;   background-image : url('common/doctop2.png');   z-index : 5;   left : 0px;   top : 0px;   padding : 0px;">
<div id="bulb1" style="padding : 0px;   position : absolute;   z-index : 15;   width : 150px;   height : 85px;   top : 0px;   left : 0px;   background : url('common/doctop1.png') repeat;"></div>
<div id="gradient" style="  position : absolute;   width : 275px;   height : 85px;   z-index : 19px;   top : 0px;   padding : 0px;   left : 150px;   background-image : url('common/doctop1a.png');   background-repeat : no-repeat;   background-color : transparent;   visibility : visible;"></div>
<div id="bulb-bit" style="position : absolute;   width : 100%;   height : 25px;   top : 85px;   left : 0px;   background-image : url('common/doctop1b.png');   background-repeat : no-repeat;   background-color : transparent;   z-index : 5;"><table width="100%" id="navtable"><tbody><tr>
<td align="left" class="left"><a accesskey="p" href="inst-preq.html">Prev</a></td>
<td align="center" class="center"> </td>
<td align="right" class="right"><a accesskey="n" href="inst-user.html">Next</a></td>
</tr></tbody></table></div>
</div>
<div class="chapter">
<div class="titlepage"><div><h2 class="title">
<a name="inst-sources"></a>Chapter 3. Installing BibleTime Sources</h2></div></div>
<p>
This chapter describes how sources are compiled.  These steps apply for both the
development version and the released version of BibleTime and Sword. </p>
<div class="section">
<a name="inst-sources-sword"></a><div class="titlepage"><div><h2 class="title" style="clear: both">
<a name="inst-sources-sword"></a>Installation of Sword and the Sword
Modules </h2></div></div>
<p>
Sword and Sword modules are the <i>book library</i> for BibleTime.
Please see the page download for further information about downloading BibleTime.
</p>
<p>
Have a look at the requirements page to obtain Sword. See page links to
obtain Sword's modules.</p>
<div class="section">
<a name="inst-sources-sword-install"></a><div class="titlepage"><div><h3 class="title">
<a name="inst-sources-sword-install"></a>Installation of SWORD
</h3></div></div>
<p>
This page shows Sword 1.5.1a.  For other versions of Sword, the file names
will be different.</p>
<p>
First you have to unpack the downloaded .tar.gz file (if you are using the CVS
version, your sources will already be unpacked, so skip this step) to a
temporary directory. Do something like this: </p>
<pre class="screen">
mkdir /tmp
cd /tmp
tar -xzf sword-1.5.1a.tar.gz
cd /tmp/sword-1.5.1a
</pre>
<p>
(the tar file will have unpacked into a directory named something similar to
sword-1.5.1a) </p>
<p>
Before you try to compile Sword, you may need to modify
<tt> Makefile.cfg</tt> (it is located in the top directory of the
unpacked sources).  The customized section of <tt>Makefile.cfg</tt>
is marked, do not try to change parts of the file outside of the area marked
<i>##### Customizable stuff. Set it how you like it #####</i>
unless you really know what you are doing. </p>
<p>
For many installations the defaults will work.  When the defaults don't work,
these switches may be set.</p>
<div class="table">
<p>
<a name="id2723181"></a><b>Table 3.1. Sword Makefile.cfg switches</b>
</p>
<table summary="Sword Makefile.cfg switches" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Switch</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td># compiler</td>
<td>If you have gcc leave this alone, otherwise enter the compiler
you will be using.</td>
</tr>
<tr>
<td># shared library-</td>
<td>Set to 'yes'.  this causes the shared library
<tt>libsord.so</tt> to be generated.  An entry must be placed into
the file <tt>/etc/ld.so.conf</tt> that points to libsword.
<tt>/usr/local/sword/lib</tt> is typical.  The shared
library is necessary for BibleTime to work, but Sword will compile without
errors if you don't do this.  Be careful here. </td>
</tr>
<tr>
<td># VCL library-</td>
<td>Use the default 'no' unless you are using the Sword install
manager, then use 'yes'.</td>
</tr>
<tr>
<td># Debugging options etc...</td>
<td>The defaults should work.</td>
</tr>
<tr>
<td># endian, etc. support for other hardware</td>
<td>Use the default if compiling on an Intel.  If you have other
hardware, select the correct entry.</td>
</tr>
<tr>
<td># zLib support</td>
<td>Use the default 'yes'</td>
</tr>
<tr>
<td># paths</td>
<td>The defaults are OK for most distributions, don't change them unless you know what you are doing.

</td>
</tr>
</tbody>
</table>
</div>
<p>Now start compiling.</p>
<pre class="screen">
make
su
make install
make configure
</pre>
<p>
In the event that make command reports an error on completion, it probably
indicates that you are missing a package.  For example:</p>
<pre class="screen">
bash-2.03# make
make just-pre nodeps=yes
make[1]: Entering directory `/bible/sword-1.5.1a'
make -C src just-pre
.
.
.
make[1]: Entering directory `/bible/sword-1.5.1a/include'
make[1]: Nothing to be done for `just-targets'.
make[1]: Leaving directory `/bible/sword-1.5.1a/include'
make -C apps/X11/VCL just-targets
make[1]: Entering directory `/bible/sword-1.5.1a/apps/X11/VCL'
gcc -I../../../include/ -D_GNU_SOURCE -I. `gtk-config --cflags` -static -pipe -Wall -Wno-format
-fomit-frame-pointer -ggdb -O0 -m486 -c -o TWinControl.o TWinControl.cpp
<i>/bin/sh: gtk-config: command not found </i>
In file included from TWinControl.cpp:1:
<i>TWinControl.h:6: gtk/gtkwidget.h: No such file or directory</i>
<i>TWinControl.cpp:3: gtk/gtkwidget.h: No such file or directory </i>
In file included from TWinControl.cpp:1:
TWinControl.h:281: syntax error before `*'
TWinControl.h:284: parse error before `*'
TWinControl.cpp:10: parse error before `*'
make[1]: *** [TWinControl.o] Error 1
make[1]: Leaving directory `/bible/sword-1.5.1a/apps/X11/VCL'
make: *** [apps/X11/VCL/targets] Error 2
bash-2.03#
</pre>
<p>The italic lines above indicate that a gtk application was missing.  A
review of the available packages showed that one of the gtk packages
supplied with SuSE is gtkdev.  This turns out to be the application required to
allow make to run to completion without errors.  Often missing packages
will be found on your installation disks, or on your distribution's website.
Once <span class="command"><b>make</b></span> runs to completion without errors, then
<span class="command"><b>make install</b></span>. If it still doesn't work, edit the
file <tt>Makefile.cfg</tt> in the top directory of the SWORD sources
and change the line <span class="command"><b>buildvcl := yes</b></span> to <span class="command"><b>buildvcl
:= no</b></span> and try again.
</p>
</div>
<div class="section">
<a name="inst-sources-sword-modules"></a><div class="titlepage"><div><h3 class="title">
<a name="inst-sources-sword-modules"></a>Installation of modules</h3></div></div>
<p>Sword currently supports 3 types of modules: Bibles, dictionaries and
commentaries.  In order for Sword and BibleTime to be useful these modules must be installed.
</p>
<p>
Sword modules can be installed <a href="inst-sources.html#inst-sources-sword-modules" title="Installation of modules">manually</a> or with
Sword Installmgr.
Sword Installmgr is provided as part of the Sword package.  The directions for compiling and installing
Sword Installmgr can be found in the section
<a href="installmgr.html" title="Chapter 5. How to install and use Sword Installmgr">How to install and use Sword Installmgr</a>
or in the Sword source at <tt>/sword/apps/X11/InstallMgr/INSTALL</tt>.</p>
<div class="section">
<a name="inst-sources-sword-modules-dir"></a><div class="titlepage"><div><h4 class="title">
<a name="inst-sources-sword-modules-dir"></a>Choose a Sword directory</h4></div></div>
<p>
Sword currently supports 3 types of modules: Bibles, dictionaries and
commentaries. You have to install the files of the modules their own directory.
You must decide which directory will be your Sword directory. If you installed
the libs and includes in an extra directory use that directory as your Sword
directory (e.g. <tt>/usr/local/sword/</tt>). If you installed the
library and include files in a common place like
<tt>/usr/local/</tt> please select another location for your Sword
directory. </p>
</div>
<div class="section">
<a name="inst-sources-sword-modules-upack"></a><div class="titlepage"><div><h4 class="title">
<a name="inst-sources-sword-modules-upack"></a>
Unpack the downloaded package</h4></div></div>
<p>
First you have to unpack the downloaded package. On the download page of Sword
you can choose if you want to get a Windows® or RAW package. If you have a &quot;Linux®
only&quot; box please get the RAW packages. But if you accidentally get a Windows®
self extracting executable try using WINE to extract the files. Perhaps you have
to change the filename of <tt>_INSTALL.1</tt> to
<tt>_install.1</tt> to get the setup running.
</p>
</div>
<div class="section">
<a name="inst-sources-sword-modules-config"></a><div class="titlepage"><div><h4 class="title">
<a name="inst-sources-sword-modules-config"></a>
Integrating modules</h4></div></div>
<p>
Create the directory <tt>mods.d</tt> inside of your Sword directory.
Please copy the file <tt>[modulename].conf</tt> into the
<tt>mods.d</tt> directory. the <tt>.conf</tt> file is
normally inside the unpacked module files. Now move the whole dir <tt>/modules</tt>
which contains your unpacked module data files to the Sword directory.  In the
example <tt>/usr/local/sword/share</tt> is the SWORD directory.</p>
<p> Directory Structure looks like this:
</p>
<pre class="screen">
/usr/local/sword/share/ -|- mods.d/ -|- module_1_name.conf
                         |           |- module_2_name.conf
                         |
                         |- texts/rawtext/ -|-module_1_name/files
                                            |-module_2_name/files
</pre>
</div>
</div>
</div>
</div>
<div id="bottom-nav" style="position : relative;                 width : 100%;                 height : 185px;                 left : 0px;   right : 0px;                 top : 0px;   margin-top: 100px;                 background-image : url('common/bottom1.png');                 background-repeat : repeat-x;                 background-color : transparent;   margin-left: 0px;   margin-right: 0px;                 z-index : 25;">
<img src="common/bottom2.png" align="right" height="59" width="227" alt="KDE Logo"><div id="navtable2" style="width : 100%;   margin-left: 0px;          margin-right: 0px;                      z-index : 15;                  background-color : transparent;"><table width="100%" border="0" cellpadding="0" cellspacing="0" style="position: absolute;         top: 70px;         left: 0px;">
<tr>
<td width="33%" align="left" valign="top"><a href="inst-preq.html">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html">Home</a></td>
<td width="33%" align="right" valign="top"><a href="inst-user.html">Next</a></td>
</tr>
<tr>
<td width="33%" align="left">BibleTime Prerequisites
 </td>
<td width="34%" align="center"><a href="index.html">Up</a></td>
<td width="33%" align="right"> Installation of BibleTime</td>
</tr>
</table></div>
</div>
</body>
</html>